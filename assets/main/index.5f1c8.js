window.__require=function t(e,o,n){function r(i,s){if(!o[i]){if(!e[i]){var c=i.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return r(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({AIBase:[function(t,e,o){"use strict";cc._RF.push(e,"98032q19+lLgraeBaqXlDLi","AIBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Character"),a=t("../CharacterActionState"),i=t("../../utils/Utils"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.responseTimeMax=30,e.responeTimeFixed=30,e.responseTime=0,e.disCombo=220,e.disFixed=150,e.disMax=150,e.vect=cc.v2(),e.forceCombo=!1,e}return n(e,t),e.prototype.initEvent=function(){},e.prototype.update=function(){t.prototype.update.call(this),this.aiLoop()},e.prototype.initActFsm=function(){this.fsmAct=new c(this)},e.prototype.aiLoop=function(){},e.prototype.chanceToAct=function(t){return i.default.randomRange(0,100)>t},e.prototype.checkRangeWeapon=function(){var t=this.node.parent.getChildByName("Throwing");return!(!t||t.group==this.atkGroup||!t.isValid)},e}(r.default);o.default=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initEvent=function(){},e}(a.default);cc._RF.pop()},{"../../utils/Utils":"Utils","../Character":"Character","../CharacterActionState":"CharacterActionState"}],AIMiddle:[function(t,e,o){"use strict";cc._RF.push(e,"8c54cnood1HzpVWEuYD6NHD","AIMiddle");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Constants"),a=t("../../utils/Utils"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disMax=200,e.responeTimeFixed=30,e.actResponseTime=0,e.actResponseTimeFixed=25,e.comboFlag=!1,e}return n(e,t),e.prototype.aiLoop=function(){this.gameCtrl.state==r.GameState.START&&(this.fsmAct.isBeaten()&&(this.vect=cc.Vec2.ZERO),a.default.getXdistance(this.node.getPosition(),this.target.node.getPosition())>this.disMax?(this.disMax=200,this.responseTime>this.responeTimeFixed&&(this.responseTime=0,this.fsmAct.isBeaten()||(this.chanceToAct(80)?this.vect=this.getTargetToSelfVect():this.vect=this.getFaceToTargetVect())),this.actResponseTime>this.actResponseTimeFixed&&(this.actResponseTime=0,this.canDefence()&&this.chanceToAct(50)?(this.vect=cc.Vec2.ZERO,this.fsmAct.handleInput(r.ButtonKeyName.SKILL3,r.UIEvent.TOUCHDOWN)):(this.fsmAct.handleInput(r.ButtonKeyName.SKILL3,r.UIEvent.TOUCHUP),this.chanceToAct(50)?this.fsmAct.handleInput(r.ButtonKeyName.SKILL2,r.UIEvent.TOUCHUP):this.fsmAct.handleInput(r.ButtonKeyName.SKILL1,r.UIEvent.TOUCHUP)))):(this.disMax=300,this.actResponseTime>this.actResponseTimeFixed&&(this.actResponseTime=0,this.chanceToAct(30)?(this.comboFlag=!0,this.canDefence()&&this.chanceToAct(60)?(this.comboFlag=!1,this.fsmAct.handleInput(r.ButtonKeyName.SKILL3,r.UIEvent.TOUCHDOWN)):this.fsmAct.handleInput(r.ButtonKeyName.SKILL3,r.UIEvent.TOUCHUP)):(this.comboFlag=!1,this.chanceToAct(70)?this.fsmAct.handleInput(r.ButtonKeyName.SKILL1,r.UIEvent.TOUCHUP):this.fsmAct.handleInput(r.ButtonKeyName.NORMALATTACK,r.UIEvent.TOUCHUP)),this.vect=cc.Vec2.ZERO),this.comboFlag&&this.fsmAct.handleInput(r.ButtonKeyName.NORMALATTACK,r.UIEvent.TOUCHUP)),this.responseTime++,this.actResponseTime++,this.handleJoyStick(this.vect))},e.prototype.canDefence=function(){return this.target.fsmAct.isEnterSuperAttack()||this.target.fsmAct.isSuperAttack()||this.target.fsmAct.isNormalAttack()||this.target.fsmAct.isCombo()||this.checkRangeWeapon()},e}(t("./AIBase").default);o.default=i,cc._RF.pop()},{"../../Constants":"Constants","../../utils/Utils":"Utils","./AIBase":"AIBase"}],AINormal:[function(t,e,o){"use strict";cc._RF.push(e,"c734ctStKxLFKqNpf6pPmEI","AINormal");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Constants"),a=t("../../utils/Utils"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.aiLoop=function(){if(this.gameCtrl.state==r.GameState.START){if(this.fsmAct.isBeaten())return this.responseTime=0,this.vect=cc.v2(0,0),void(this.forceCombo=!1);if(a.default.getXdistance(this.node.getPosition(),this.target.node.getPosition())<this.disMax)if(this.handleJoyStick(cc.Vec2.ZERO),this.forceCombo)this.fsmAct.handleInput(r.ButtonKeyName.NORMALATTACK,r.UIEvent.TOUCHUP),this.disMax=this.disCombo;else if(this.responseTime>this.responseTimeMax){if(this.responseTime=0,this.disMax=this.disFixed,a.default.randomRange(0,100)>50){this.fsmAct.handleInput(r.ButtonKeyName.NORMALATTACK,r.UIEvent.TOUCHUP);var t=a.default.randomRange(0,100);t>90?this.responseTimeMax=a.default.randomRange(0,30):t>30&&(this.forceCombo=!0)}}else this.disMax=this.disFixed;else this.responseTime>this.responeTimeFixed&&(this.responseTime=0,a.default.randomRange(0,100)>90?(this.vect.x=0,this.vect.y=0):a.default.randomRange(0,100)>80?this.vect=this.getTargetToSelfVect():this.vect=this.getFaceToTargetVect(),a.default.randomRange(0,100)>90&&(this.vect.y=1,a.default.randomRange(0,100)>50?this.fsmAct.handleInput(r.ButtonKeyName.SKILL2,r.UIEvent.TOUCHUP):this.fsmAct.handleInput(r.ButtonKeyName.SKILL1,r.UIEvent.TOUCHUP))),this.forceCombo=!1,this.handleJoyStick(this.vect);this.responseTime++}},e}(t("./AIBase").default);o.default=i,cc._RF.pop()},{"../../Constants":"Constants","../../utils/Utils":"Utils","./AIBase":"AIBase"}],ALD:[function(t,e,o){"use strict";cc._RF.push(e,"846d7/3XjVN9pVKFHa0jhGT","ALD"),Object.defineProperty(o,"__esModule",{value:!0}),o.ALDEventDef=void 0,function(t){t.None_baron="",t.ReportAdClickSuccess_baron="\u5e7f\u544a\u5bfc\u51fa\u6210\u529f",t.ReportAdClickFail_baron="\u5e7f\u544a\u5bfc\u51fa\u5931\u8d25",t.ReportLaunchOptions_baron="\u7528\u6237\u542f\u52a8\u53c2\u6570",t.ReportEnterGame="\u5173\u5361\u8fdb\u5165",t.ReportGameFail="\u5173\u5361\u5931\u8d25",t.ReportGameSuccess="\u5173\u5361\u80dc\u5229",t.ReportGameRelive="\u5173\u5361\u590d\u6d3b",t.ReportSelectArmor="\u9009\u62e9\u94e0\u7532",t.ReportSelectHelmet="\u9009\u62e9\u5934\u76d4",t.ReportSelectAttack="\u9009\u62e9\u653b\u51fb\u529b",t.ReportSelectAll="\u9009\u62e9\u6240\u6709",t.ReportGameTry="\u82f1\u96c4\u8bd5\u7528",t.ReportHeroUnlock="\u82f1\u96c4\u89e3\u9501"}(o.ALDEventDef||(o.ALDEventDef={}));var n=function(){function t(){}return t.aldSendOpenId_baron=function(t){},t.aldSendEvent_baron=function(t,e){},t.aldSendReportAdClickSuccess_baron=function(t){},t.aldSendReportAdClickFail_baron=function(t){},t.aldSendReportLaunchOptions_baron=function(t,e,o){},t}();o.default=n,cc._RF.pop()},{}],ActionState:[function(t,e,o){"use strict";cc._RF.push(e,"0141a0+ihFNI6YA2z4+vgAK","ActionState");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(e,o,n,r,a){var i=t.call(this,e)||this;return i.caller=o,i.enterHandle=n,i.exitHandle=r,i.updateHandle=a,i}return n(e,t),e.prototype.onEnter_baron=function(t){null!=t?t.unshift?this.enterHandle&&this.enterHandle.apply(this.caller,t):this.enterHandle&&this.enterHandle.call(this.caller,t):this.enterHandle&&this.enterHandle.call(this.caller)},e.prototype.onUpdate_baron=function(){this.updateHandle&&this.updateHandle.call(this.caller)},e.prototype.onExit_baron=function(){this.exitHandle&&this.exitHandle.call(this.caller)},e}(t("./State").default);o.default=r,cc._RF.pop()},{"./State":"State"}],AdFrameWork:[function(t,e,o){"use strict";cc._RF.push(e,"090fcWoLS1G3qbi8yPsVnuK","AdFrameWork"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../FrameWork/Script/Platform/WX/WXAPI"),r=t("../../../FrameWork/Script/Util/AppPlatform"),a=t("../../../FrameWork/Script/Mgr/WXADMgr"),i=t("./SoundsManager"),s=t("../../../FrameWork/Script/Config/AppConfig"),c=t("./Utils"),l=function(){function t(){}return t.getRandomVideoID=function(){return s.default.adUnitId_baron[c.default.randomRange(0,s.default.adUnitId_baron.length-1)]},t.showBanner=function(e){r.default.is_WECHAT_GAME_baron()&&a.default.getBanner_baron(function(o){t.wxBanner=o,null!=t.wxBanner&&t.wxBanner.show_baron(e,30)})},t.destroyBanner=function(){null!=t.wxBanner&&t.wxBanner.hide_baron(),t.wxBanner=null},t.showRewardVideo=function(t,e,o){this.debug?t&&t.call(o):n.default.showRewardedVideoAd_baron(function(n){i.default.continuePlayMusic(),n?t&&t.call(o):e&&e.call(o)},function(){t&&t.call(o)})},t.aldLevelStart=function(){},t.aldLevelRunning=function(t,e){void 0===t&&(t="operation")},t.aldLevelEnd=function(t,e){void 0===t&&(t="complete"),void 0===e&&(e="\u5173\u5361\u7ed3\u675f")},t.debug=!1,t.wxBanner=null,t}();o.default=l,cc._RF.pop()},{"../../../FrameWork/Script/Config/AppConfig":"AppConfig","../../../FrameWork/Script/Mgr/WXADMgr":"WXADMgr","../../../FrameWork/Script/Platform/WX/WXAPI":"WXAPI","../../../FrameWork/Script/Util/AppPlatform":"AppPlatform","./SoundsManager":"SoundsManager","./Utils":"Utils"}],AnimConfig:[function(t,e,o){"use strict";cc._RF.push(e,"7e5a3fkly5OEr3nRQRh30hU","AnimConfig");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.superSkillIsLoop=!1,e.jumpHitAnimName="",e.superEntryName="",e.superEntryIsLoop=!1,e.comboAtkSoundEff=["4","4","4","4","4"],e.superMixTime=0,e}return n(e,t),r([s({tooltip:"\u5927\u62db\u662f\u5426\u5faa\u73af\u64ad\u653e"})],e.prototype,"superSkillIsLoop",void 0),r([s({tooltip:"\u8df3\u8dc3\u653b\u51fb\u65f6\u64ad\u653e\u7684\u52a8\u753b\u540d"})],e.prototype,"jumpHitAnimName",void 0),r([s({tooltip:"\u5927\u62db\u8d77\u62db\u5bf9\u5e94\u52a8\u753b\u540d"})],e.prototype,"superEntryName",void 0),r([s({tooltip:"\u5927\u62db\u8d77\u62db\u662f\u5426\u5faa\u73af\u64ad\u653e"})],e.prototype,"superEntryIsLoop",void 0),r([s({type:[cc.String],tooltip:"\u8fde\u51fb\u97f3\u6548"})],e.prototype,"comboAtkSoundEff",void 0),r([s({tooltip:"\u5927\u62db\u8fc7\u6e21\u65f6\u95f4"})],e.prototype,"superMixTime",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],AppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"b8f67bBoedOMYO872FafoSD","AppConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.GameName_baron="\u88c5\u7532\u7a81\u51fb\u961f",t.showLoadingLogo_baron=!1,t.closeUseRYSDK_baron=!1,t.isWX_TT_QQ_MiniGame_baron=0,t.TT_APP_ID_baron="ttdf2ca9914006af60",t.WX_APP_ID_baron="wxa2a0b0dd5b8ea560",t.QQ_APP_ID_baron="1110386742",t.VIVO_APP_ID_baron="",t.OPPO_APP_ID_baron="",t.TT_gameid_baron=122,t.WX_gameid_baron=574,t.QQ_gameid_baron=125,t.VIVO_gameid_baron=-1,t.OPPO_gameid_baron=112,t.TT_ResServer_baron="",t.WX_ResServer_baron="",t.QQ_ResServer_baron="",t.VIVO_ResServer_baron="",t.OPPO_ResServer_baron="",t.TT_Versions_baron="0.0.0",t.WX_Versions_baron="1.0.0",t.QQ_Versions_baron="0.0.0",t.VIVO_Versions_baron="0.0.0",t.OPPO_Versions_baron="0.0.0",t.TT_LoopAdLocationID_baron=-1,t.TT_BannerAdLocationID_baron=-1,t.TT_InsertAdLocationID_baron=-1,t.TT_AniAdLocationID_baron=-1,t.TT_HistoryLocationID_baron=-1,t.TT_MoreGameLocationID_baron=-1,t.WX_LoopAdLocationID_baron="",t.WX_BannerAdLocationID_baron="",t.WX_InsertAdLocationID_baron=-1,t.WX_AniAdLocationID_baron=-1,t.WX_HistoryLocationID_baron="",t.WX_MoreGameLocationID_baron="",t.QQ_LoopAdLocationID_baron=-1,t.QQ_BannerAdLocationID_baron=-1,t.QQ_InsertAdLocationID_baron=-1,t.QQ_AniAdLocationID_baron=-1,t.QQ_HistoryLocationID_baron=-1,t.QQ_MoreGameLocationID_baron=-1,t.VIVO_LoopAdLocationID_baron=-1,t.VIVO_BannerAdLocationID_baron=-1,t.VIVO_InsertAdLocationID_baron=-1,t.VIVO_AniAdLocationID_baron=-1,t.VIVO_HistoryLocationID_baron=-1,t.VIVO_MoreGameLocationID_baron=-1,t.OPPO_LoopAdLocationID_baron=-1,t.OPPO_BannerAdLocationID_baron=-1,t.OPPO_InsertAdLocationID_baron=-1,t.OPPO_AniAdLocationID_baron=-1,t.OPPO_HistoryLocationID_baron=-1,t.OPPO_MoreGameLocationID_baron=-1,t.adUnitId_baron=["adunit-987d93665069bddb","adunit-ee9034140ac656c6","adunit-52efea9050e35658","adunit-93bd59ab27baafce"],t.bannerAdUnitId_baron="adunit-e2f2fdf3111a5801",t.InsAdUnitId_baron="adunit-440e21cc02c0d282",t.tt_adUnitId_baron="2olhom4fg38389qnae",t.tt_bannerAdUnitId_baron="of6a5i4oi6rqecpnp4",t.tt_InsAdUnitId_baron="",t.tt_templateId_baron="5d1b4nobadk5163i86",t.qq_adUnitId_baron="5b57820f7aff1c8c238e450d22d468e6",t.qq_bannerAdUnitId_baron="4f66f2f5b95a75f49166da22da1e85ae",t.qq_InsAdUnitId_baron="341bb8725515401c5c923294ee653a64",t.qq_AppBoxId_baron="f10e0d49ad67e7cfab7c639e517823f8",t.qq_blockAdArray_baron=["b4d20888f606cf0a70cb7c3d071c2d27","9a4ae7e232aacedf11100881c0f428c6","4fa18896b8cab872507bce053a1a3f4e","62daa9df5453871d8130856a528a6f00","fd88d17d217d0f8eec10a05fda088dc1","b9c8f5e3fe77052a693b8b5e351988a6"],t.subResArray_baron=["subResMain"],t.TT_state_baron=1,t.WX_state_baron=0,t.QQ_state_baron=4,t.VIVO_state_baron=7,t.OPPO_state_baron=5,t.AppID_baron="wxa2a0b0dd5b8ea560",t.state_baron=0,t.gameid_baron=0,t.ResServer_baron="",t.Versions_baron="0.0.0",t.LoopAdLocationID_baron=-1,t.BannerAdLocationID_baron=-1,t.InsertAdLocationID_baron=-1,t.AniAdLocationID_baron=-1,t.HistoryLocationID_baron=-1,t.MoreGameLocationID_baron=-1,t.UseRYSDK_baron=!0,t}();o.default=n,cc._RF.pop()},{}],AppPlatform:[function(t,e,o){"use strict";cc._RF.push(e,"f8b57dn8sFM+5vHjIk2kcjH","AppPlatform"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./LogUtils"),r=t("../Config/AppConfig"),a=function(){function t(){}return t.dumpPlatform_baron=function(){n.LogUtils.warn_baron("=========dumpPlatform========"),0==r.default.isWX_TT_QQ_MiniGame_baron?n.LogUtils.warn_baron("=========isWX_TT_QQ_MiniGame ==\u5fae\u4fe1===="):2==r.default.isWX_TT_QQ_MiniGame_baron&&n.LogUtils.warn_baron("=========isWX_TT_QQ_MiniGame ==QQ===="),n.LogUtils.warn_baron(cc.sys),n.LogUtils.warn_baron("=============================")},t.is_WECHAT_GAME_baron=function(){return 0==r.default.isWX_TT_QQ_MiniGame_baron&&cc.sys.platform==cc.sys.WECHAT_GAME},t.is_QQ_PLAY_baron=function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&2==r.default.isWX_TT_QQ_MiniGame_baron},t.is_OPPO_GAME_baron=function(){return cc.sys.platform==cc.sys.OPPO_GAME},t.is_VIVO_GAME_baron=function(){return cc.sys.platform==cc.sys.VIVO_GAME},t.is_TT_GAME_baron=function(){return cc.sys.platform==cc.sys.BYTEDANCE_GAME},t.isIphoneX_baron=function(){if(this.isIphone_baron()){var t=cc.sys.windowPixelResolution;if(2436==t.width&&1125==t.height||2436==t.height&&1125==t.width)return!0;if(2688==t.width&&1242==t.height||2688==t.height&&1242==t.width)return!0;if(1792==t.width&&828==t.height||1792==t.height&&828==t.width)return!0}return!1},t.isIphone_baron=function(){return cc.sys.os==cc.sys.OS_IOS},t.baron_navigateToMiniProgram_baron=function(t,e){},t}();o.default=a,cc._RF.pop()},{"../Config/AppConfig":"AppConfig","./LogUtils":"LogUtils"}],AppSwitchConfig:[function(t,e,o){"use strict";cc._RF.push(e,"363a2/EfUxOjLZAJUzEw51c","AppSwitchConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.cocosWxcfg=o.VVcfg=o.TT2Cfg=o.TTCfg=o.QQCfg=o.OPPOCfg=o.WXCfg=o.AppSwitchData=void 0;var n=t("../Interface/FMInterface"),r=function(){function t(){this.version_baron="",this.banner_baron=0,this.wudian_baron=0,this.wudianAvailableTime_baron={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mailiang_baron=1,this.mailianglist_baron=new Array,this.mailiangSceneList_baron=new Array,this.wxWuDianBanners_baron=new Array,this.recreateBannerIDList_baron=new Array,this.bannerRecreateTime_baron=5,this.kuangdianjiange_baron=0,this.btnMoveTimer_baron=1,this.bannerMoveTimer_baron=.5,this.bannerFreshTimer_baron=200,this.bannerCreateFailNum_baron=3,this.bannerTodayBannerMax_baron=10,this.adSwitch_baron=1,this.wudianSceneList_baron=new Array,this.continueBtnDelayTime_baron=2,this.bannerShowTime_baron=30,this.fakeBtn_baron=0,this.popAd_baron=0,this.continueBanner_baron=0,this.continueBannerShowTime_baron=2,this.continueBannerHideTime_baron=2,this.oppocfg_baron=new i,this.qqcfg_baron=new s,this.ttcfg_baron=new c,this.vivocfg_baron=new u,this.wxcfg_baron=new a,this.tt2cfg_baron=new l,this.cocosWxcfg_baron=new p}return Object.defineProperty(t.prototype,"wudianTimeAvaliable_baron",{get:function(){return 1==this.wudianAvailableTime_baron[(new Date).getHours()]},enumerable:!1,configurable:!0}),t}();o.AppSwitchData=r;var a=function(){return function(){this.kuangdianBanner_baron=0,this.kuangdianLevelSpcacing_baron=0,this.mainExportPopup_baron=0,this.showQiangdao_baron=0,this.newExport_baron=0}}();o.WXCfg=a;var i=function(){return function(){this.yuansheng_baron=100,this.yuanshengSwitch_baron=1,this.addToDesktop_baron=0,this.oppoversions_baron="",this.btnShowTimer_baron=0,this.indexAdSwitch_baron=0,this.endAdSwitch_baron=0,this.yuansheng2_baron=100,this.yuanshengSwitch2_baron=1}}();o.OPPOCfg=i;var s=function(){return function(){this.kuangdianBanner_baron=0,this.kuangdianBox_baron=0,this.box_baron=0,this.weiyi_baron=0,this.qqversions_baron=""}}();o.QQCfg=s;var c=function(){return function(){this.moreGameSwitch_baron=0,this.kuangdianBanner_baron=0,this.luping_baron=0,this.ttversions_baron=""}}();o.TTCfg=c;var l=function(){return function(){this.startSwitch_baron=0,this.signInSwitch_baron=0,this.getSwitch_baron=0,this.useSwitch_baron=0,this.reliveSwitch_baron=0,this.screenCapSwitch_baron=0,this.boxSwitch_baron=0}}();o.TT2Cfg=l;var u=function(){return function(){this.yuanshengSwitch_baron=1,this.yuansheng_baron=100,this.yuanshengSwitch2_baron=1,this.yuansheng2_baron=100,this.chapingSwitch_baron=1,this.chaping_baron=100,this.addToDesktop_baron=1,this.vivoversions_baron="",this.btnShowTimer_baron=1}}();o.VVcfg=u;var p=function(){return function(){this.loopAd={rollWayLeftUp_baron:0,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3,bgColor_baron:"62d5ff"},this.skinTrial={videoIcon_baron:0,wudian_baron:0,timeClick_baron:0,butMoveTime_baron:0,bannerShowTime_baron:0,bannerHideTime_baron:0,butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3},this.revival={videoIcon_baron:0,wudian_baron:0,timeClick_baron:0,butMoveTime_baron:0,bannerShowTime_baron:0,bannerHideTime_baron:0,butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3},this.moreGoodGame={bgColor_baron:"3485fb",maskColor_baron:"",mouseEventIsUp_baron:0,cancelIntercept_baron:1,wudian_baron:0,timeClick_baron:0,butMoveTime_baron:0,bannerShowTime_baron:0,bannerHideTime_baron:0,butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3},this.bigLoopAd={bgColor_baron:"3485fb",maskColor_baron:"",wudian_baron:0,timeClick_baron:0,butMoveTime_baron:0,bannerShowTime_baron:0,bannerHideTime_baron:0,butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3},this.settlePage={bgColor_baron:"3485fb",maskColor_baron:"",wudian_baron:0,timeClick_baron:0,butMoveTime_baron:0,bannerShowTime_baron:0,bannerHideTime_baron:0,butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3},this.moreGoodGame2={bgColor_baron:"3485fb",maskColor_baron:"",butDelayShowTime_baron:0,rollWayLeftUp_baron:1,rollWaitNum_baron:1,rollWaitTime_baron:1,roolSpeed_baron:3}}}();o.cocosWxcfg=p;var h=function(){function t(){this._data_baron=new Array}return t.getInstance_baron=function(){return t._instance_baron},t.prototype.loadUrlConfig_baron=function(t){this._data_baron.push(new r),t&&n.callFM_baron(t)},t.prototype.getAppSwitchData_baron=function(){return this._data_baron[0]},t._instance_baron=new t,t}();o.default=h,cc._RF.pop()},{"../Interface/FMInterface":"FMInterface"}],ArmorConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a7a8d0nl85LLJ5nxU9v4hbs","ArmorConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.ArmorConfigData=void 0;var n=function(){return function(){}}();o.ArmorConfigData=n;var r=function(){function t(){this._data=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this._data=t},t.prototype.getDatas=function(){return this._data},t.prototype.getData=function(t){return this._data[t]},t.prototype.getDataLength=function(){return this._data.length},t}();o.default=r,cc._RF.pop()},{}],ArmorDialogView:[function(t,e,o){"use strict";cc._RF.push(e,"d188aedQqdHfKu9n0PJbsgK","ArmorDialogView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/ExDialogView"),i=t("./ArmorItem"),s=t("../../config/ArmorConfig"),c=t("../../utils/Utils"),l=t("../../config/StrengthConfig"),u=t("../../../../FrameWork/Script/Mgr/GameMgr"),p=t("../component/HeroMask"),h=t("../../CustomUser"),d=t("../../utils/SoundsManager"),f=cc._decorator,_=f.ccclass,g=f.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.heroMask=null,e.crazyPrefab=null,e.equipDatas=[],e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),h.default.tempBuff=new h.TempBuff,moosnow.platform.showInter(null);var e=s.default.getInstance().getData(c.default.randomRange(0,s.default.getInstance().getDataLength()-1)),o=l.default.getInstance().getData(c.default.randomRange(0,l.default.getInstance().getDataLength()-1));this.equipDatas=[o,e,e]},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),moosnow.platform.showMoreRightCustomNativeAd(),moosnow.platform.showInter(function(){}),this.init();var e=h.default.tryHeroId?h.default.tryHeroId:h.default.getHeroId();this.heroMask.initHeroId(e)},e.prototype.init=function(){var t=this;this.items.forEach(function(e,o){e.init(t.equipDatas[o],o)},this)},e.prototype.onClickStart=function(){d.default.click(),moosnow.platform.hideWXAllNative(),u.default.getInstance_baron().loadTransitionScene()},e.prototype.onClickAllEquip=function(){var t=this;d.default.click(),moosnow.platform.reportEvent("video",{type:17}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:moosnow.platform.reportEvent("videofinish",{type:17}),t.items.forEach(function(t,e){t._initBuff&&t._initBuff()},t),moosnow.platform.hideWXAllNative(),u.default.getInstance_baron().loadTransitionScene()}})},r([g([i.default])],e.prototype,"items",void 0),r([g(p.default)],e.prototype,"heroMask",void 0),r([g(cc.Prefab)],e.prototype,"crazyPrefab",void 0),e=r([_],e)}(a.default);o.default=b,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../CustomUser":"CustomUser","../../config/ArmorConfig":"ArmorConfig","../../config/StrengthConfig":"StrengthConfig","../../utils/SoundsManager":"SoundsManager","../../utils/Utils":"Utils","../component/ExDialogView":"ExDialogView","../component/HeroMask":"HeroMask","./ArmorItem":"ArmorItem"}],ArmorItem:[function(t,e,o){"use strict";cc._RF.push(e,"f66bbUYMQFIcagDGAjS2EBl","ArmorItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../FrameWork/Script/User/User"),i=t("../../../../FrameWork/Script/Mgr/GameMgr"),s=t("../../utils/AdFrameWork"),c=t("../../CustomUser"),l=t("../../core/HeroProperty"),u=t("../component/Progress"),p=t("../../utils/ResCenter"),h=t("../../utils/SoundsManager"),d=t("../../../../FrameWork/Script/Event/EventMgr"),f=t("../../../../FrameWork/Script/Event/EventEnum"),_=cc._decorator,g=_.ccclass,b=_.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoUnlock=!1,e.btnVideo=null,e.btnEquip=null,e.spEquip=null,e.proHp=null,e.rtTitle=null,e.spName=[],e.lblGold=null,e._data=null,e._type=0,e.price=0,e.lblFinished=null,e}return n(e,t),e.prototype.onLoad=function(){this.lblFinished=this.node.getChildByName("finished"),this.lblFinished.active=!1,this.isVideoUnlock?(this.btnVideo.active=!0,this.btnEquip.active=!1):(this.btnVideo.active=!1,this.btnEquip.active=!0)},e.prototype.start=function(){},e.prototype.onEnable=function(){this._updateButtonState(),d.default.onEvent_baron(f.baron_Event.baron_Game_OnUserMoneyChange_baron,this._goldUpdate,this)},e.prototype.onDisable=function(){d.default.offTargetEvent_baron(this)},e.prototype.init=function(t,e){var o=this;this._data=t,this._type=e;var n=c.default.tryHeroId?c.default.tryHeroId:c.default.getHeroId(),r=new l.HeroProperty;if(r.initData(n),this._heroProp=r,2==e){var a=t;this.rtTitle.string="<b>"+a.Name+"</b>",this.proHp.setMaxValue(r.hpLimit),this.proHp.updateProgress(r.hp+Math.floor(a.HP*r.hpMax*.01),!1,!0),p.default.loadSpriteFrameFromBundle("equip/equip_"+a.Id,function(t){o.spEquip.spriteFrame=t},this),this.price=a.goldPrice,this.lblGold.string=this.price+""}else if(1==e){a=t;this.rtTitle.string="<b>"+a.Name+"</b>",p.default.loadSpriteFrameFromBundle("equip/helmet_"+a.Id,function(t){o.spEquip.spriteFrame=t},this),this.price=a.helmetPrice,this.lblGold.string=this.price+""}else if(0==e){var i=t;this.rtTitle.string="<b>"+i.Name+"</b>",this.price=i.Price,this.lblGold.string=this.price+"",this.spName.forEach(function(t,e){e==i.Id-1?t.active=!0:t.active=!1})}},e.prototype.onClickUse=function(){var t=this;(this.btnVideo.active||this.btnEquip.active)&&(h.default.click(),!this.price||this.price>a.default.getMoney_baron()?s.default.showRewardVideo(function(){t._initBuff(),t.lblFinished.active=!0,t.btnVideo.active=!1,t.btnEquip.active=!1},null,this):(this.btnVideo.active=!1,this.btnEquip.active=!1,this.lblFinished.active=!0,a.default.subMoney_baron(this.price),i.default.getInstance_baron().saveGameData_baron(),this._initBuff()))},e.prototype._initBuff=function(){2==this._type?(c.default.tempBuff.hpIncrease=Math.floor(this._data.HP*this._heroProp.hpMax*.01),c.default.tempBuff.setEquipArmor(),c.default.tempBuff.setArmor(this._data.pathId,this._data.skinName)):1==this._type?(c.default.tempBuff.energyInterval=this._data.Interval,c.default.tempBuff.energyIncrease=this._data.EnergyIncrease,c.default.tempBuff.setEquipHead(),c.default.tempBuff.setArmor(this._data.pathId,this._data.skinName)):0==this._type&&(c.default.tempBuff.atkIncrease=Math.floor(this._data.AtkIncrease*this._heroProp.atk*.01))},e.prototype._updateButtonState=function(){this.lblFinished.active||(!this.price||this.price>a.default.getMoney_baron()?(this.btnEquip.active=!1,this.btnVideo.active=!0):(this.btnEquip.active=!0,this.btnVideo.active=!1))},e.prototype._goldUpdate=function(){this._updateButtonState()},r([b(cc.Boolean)],e.prototype,"isVideoUnlock",void 0),r([b(cc.Node)],e.prototype,"btnVideo",void 0),r([b(cc.Node)],e.prototype,"btnEquip",void 0),r([b(cc.Sprite)],e.prototype,"spEquip",void 0),r([b(u.default)],e.prototype,"proHp",void 0),r([b(cc.RichText)],e.prototype,"rtTitle",void 0),r([b([cc.Node])],e.prototype,"spName",void 0),r([b(cc.Label)],e.prototype,"lblGold",void 0),e=r([g],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../../FrameWork/Script/Event/EventEnum":"EventEnum","../../../../FrameWork/Script/Event/EventMgr":"EventMgr","../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../CustomUser":"CustomUser","../../core/HeroProperty":"HeroProperty","../../utils/AdFrameWork":"AdFrameWork","../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../component/Progress":"Progress"}],BundleMgr:[function(t,e,o){"use strict";cc._RF.push(e,"877a3UASUlFu5nMq3NX2h6R","BundleMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Interface/FMInterface"),r=t("../Util/LogUtils"),a=function(){function t(){}return t.loadBundleByName_baron=function(t,e){r.LogUtils.info_baron("\u52a0\u8f7d\u8d44\u6e90\u5305 "+t),cc.assetManager.loadBundle(t,function(t,o){console.log(o),n.callFM_baron(e,t,o)})},t.getBundle_baron=function(t){return cc.assetManager.getBundle(t)},t.removeBundle_baron=function(t,e){void 0===e&&(e=!0);var o=this.getBundle_baron(t);o&&e&&o.releaseAll(),cc.assetManager.removeBundle(o)},t.runScene_baron=function(t,e,o){void 0===o&&(o=null);var r=this.getBundle_baron(t);r?r.loadScene(e,function(t,e){o&&n.callFM_baron(o),cc.director.runScene(e)}):this.loadBundleByName_baron(t,n.handleFM_baron(function(t,r){r.loadScene(e,function(t,e){o&&n.callFM_baron(o),cc.director.runScene(e)})},this))},t}();o.default=a,cc._RF.pop()},{"../Interface/FMInterface":"FMInterface","../Util/LogUtils":"LogUtils"}],CachedWXBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"4506beo50hH1ojjpgW+w0ZP","CachedWXBannerAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Config/AppSwitchConfig"),r=t("../../Util/LogUtils"),a=t("../../Util/AppPlatform"),i=function(){function t(){}return t.preloadBanner_baron=function(){for(var t=n.default.getInstance_baron().getAppSwitchData_baron().wxWuDianBanners_baron,e=n.default.getInstance_baron().getAppSwitchData_baron().bannerTodayBannerMax_baron,o=new Array,a=0;a<t.length;++a)o.push(t[a]);if(o.length>e){var i=o.length-e;for(a=0;a<i;++a)o.splice(Math.floor(Math.random()*o.length),1)}console.log("\u5f00\u59cb\u9884\u521b\u5efa\u5fae\u4fe1Bannaer",o),console.log("Bannaer \u6700\u5927\u6570\u9650\u5236 \uff1a",e);r.LogUtils.warn_baron("111111111111111111111111")},t.getBanner_baron=function(e){if(null==e||""==e)return null;var o=t._bannerCache_baron[e];return null==o&&null!=(o=t.create_baron(e))&&(t._bannerCache_baron[e]=o),o},t.create_baron=function(t){if(a.default.is_WECHAT_GAME_baron()){var e=window.wx.getSystemInfoSync(),o=e.screenWidth,n=e.screenHeight,r=window.wx.createBannerAd({adUnitId:t,adIntervals:30,style:{left:0,top:(cc.visibleRect.height-240)/cc.visibleRect.height*n,width:o}});return r&&(r.onLoad(function(e){console.log("CachedWXBanner \u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210",t),console.log(e)}),r.onError(function(e){console.log("CachedWXBanner \u5e7f\u544a \u52a0\u8f7d\u5931\u8d25",t),console.log(e)}),r.onResize(function(t){console.log(r.style.realWidth,r.style.realHeight)})),r}return null},t.show_baron=function(){null!=t._curBanner_baron&&(t._curBanner_baron.hide(),t._curBanner_baron=null);var e=n.default.getInstance_baron().getAppSwitchData_baron().wxWuDianBanners_baron,o=e[Math.floor(Math.random()*e.length)],r=t.getBanner_baron(o);if(r){t._curBanner_baron=r;var a=window.wx.getSystemInfoSync(),i=(a.screenWidth,a.screenHeight);t._curBanner_baron.style.top=(cc.visibleRect.height-240)/cc.visibleRect.height*i,t._curBanner_baron.show(),console.log("CachedWXBanner \u5e7f\u544a\u663e\u793a bannerid \uff1a ",o)}n.default.getInstance_baron().getAppSwitchData_baron().bannerFreshTimer_baron},t.hide_baron=function(){r.LogUtils.warn_baron("111111111111111111111111"),null!=t._curBanner_baron&&(t._curBanner_baron.hide(),t._curBanner_baron=null),console.log("CachedWXBanner \u5e7f\u544a\u9690\u85cf")},t.changeShow_baron=function(){null!=t._curBanner_baron&&(t._curBanner_baron.hide(),t._curBanner_baron=null),t.show_baron()},t.clear_baron=function(){for(var e in r.LogUtils.warn_baron("111111111111111111111111"),t._bannerCache_baron){var o=t._bannerCache_baron[e];null!=o&&o.destroy(),t._bannerCache_baron[e]=null}},t._bannerCache_baron={},t._curBanner_baron=null,t._preLoopObj_baron={},t}();o.default=i,cc._RF.pop()},{"../../Config/AppSwitchConfig":"AppSwitchConfig","../../Util/AppPlatform":"AppPlatform","../../Util/LogUtils":"LogUtils"}],CameraGhost:[function(t,e,o){"use strict";cc._RF.push(e,"9e1afCQ2YZIvqTRQHFO4WrJ","CameraGhost");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roleNode=null,e.renderNode=null,e}return n(e,t),e.prototype.onLoad=function(){this.camera=this.node.getComponent(cc.Camera)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.createGhost=function(t){var e=this,o=new cc.RenderTexture;this.renderNode.children.forEach(function(n,r){if(n.active){var a=n.getComponent(cc.Sprite),i=new cc.SpriteFrame;o.initWithSize(n.width,n.height),a.spriteFrame=i,i.setTexture(o),e.camera.cullingMask=1<<t,e.camera.targetTexture=o}},this)},e.prototype.setRenderNode=function(t){this.renderNode=t},r([s(cc.Node)],e.prototype,"roleNode",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Camera:[function(t,e,o){"use strict";cc._RF.push(e,"195c5svVdVLC4/991/i0xNQ","Camera");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./utils/Utils"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.posLerpFactor=1,e.zoomLerpFactor=.02,e.borders=[],e.bgCamera=null,e.maxZoom=1.8,e.minZoom=.9,e.maxDis=0,e.cameraOffsetY=180,e.baseDis=0,e.srcY=0,e.target=null,e.borderLeftX=0,e.borderRightX=0,e.screenXScale=0,e}return n(e,t),e.prototype.onLoad=function(){this.camera=this.node.getComponent(cc.Camera),this.srcY=this.node.y,this.maxDis=cc.Vec2.distance(this.borders[0].getPosition(),this.borders[1].getPosition())-this.borders[0].width+50,this.borderLeftX=this.borders[0].x+.5*this.borders[0].width,this.borderRightX=this.borders[1].x-.5*this.borders[1].width,this.screenXScale=Math.pow(cc.visibleRect.width/1624,3)},e.prototype.start=function(){},e.prototype.update=function(t){this.character1&&this.character2&&(this.target?this.followTarget():this.followCenter())},e.prototype.setCharacters=function(t){this.character1=t[0],this.character2=t[1],this.baseDis=cc.Vec2.distance(this.character1.node.getPosition(),this.character2.node.getPosition()),this.camera.zoomRatio=this.getZoomSize(),this.bgCamera.zoomRatio=this.camera.zoomRatio},e.prototype.getZoomSize=function(){var t=cc.Vec2.distance(this.character1.node.getPosition(),this.character2.node.getPosition()),e=this.maxZoom-t/this.baseDis*(this.maxZoom-this.minZoom);return e>this.maxZoom?e=this.maxZoom:e<this.minZoom&&(e=this.minZoom),e},e.prototype.followCenter=function(){var t=this.getZoomSize();t=cc.misc.lerp(this.camera.zoomRatio,t,this.zoomLerpFactor),this.camera.zoomRatio=t,this.bgCamera.zoomRatio=t;var e=a.default.getCenterVec2(this.character1.node.getPosition(),this.character2.node.getPosition()),o=.5*(this.maxDis-cc.visibleRect.width)*Math.pow(t,2.3*this.screenXScale);e.x<-o&&(e.x=-o),e.x>o&&(e.x=o);var n=cc.misc.lerp(this.node.x,e.x,this.posLerpFactor);this.node.x=n;var r=this.cameraOffsetY*Math.pow(t/this.minZoom,1.1)-this.cameraOffsetY,i=cc.misc.lerp(this.node.y,this.srcY-r,this.posLerpFactor);this.node.y=i},e.prototype.followTarget=function(){var t=cc.misc.lerp(this.camera.zoomRatio,1.2,this.zoomLerpFactor);this.camera.zoomRatio=t,this.bgCamera.zoomRatio=t;var e=this.target.position.clone();e.y+=200,this.node.position=this.node.position.lerp(e,this.posLerpFactor)},e.prototype.setTarget=function(t){this.target=t},e.prototype.getBorderLeftX=function(){return this.borderLeftX},e.prototype.getBorderRightX=function(){return this.borderRightX},r([c(cc.Float)],e.prototype,"posLerpFactor",void 0),r([c(cc.Float)],e.prototype,"zoomLerpFactor",void 0),r([c([cc.Node])],e.prototype,"borders",void 0),r([c(cc.Camera)],e.prototype,"bgCamera",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./utils/Utils":"Utils"}],CharacterActCollider:[function(t,e,o){"use strict";cc._RF.push(e,"3bfe5mGjLBM2bHJSEfMU3X2","CharacterActCollider");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Character"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentNode=null,e.actGroup=[],e.isForcePush=!1,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){this.character=this.parentNode.getComponent(a.default),this.node.name.indexOf("beat")>=0?this.character.addBeatCollider(this.node):this.node.name.indexOf("attack")>=0&&(this.character.addAtkCollider(this.node),this.node.active=!1)},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){if(e.node.name.indexOf("beat")>=0){var n=t.node.getComponent(o);if(n){if(n.character.hideAtkArea(),n.isForcePush&&this.character.fsmAct.forcePush(),"EnterSuperAttack"==n.character.fsmAct.currentState.name)return void(this.character.fsmAct.isDefence()?(this.character.createDefenceEff(),n.character.fsmAct.forceIdle()):n.character.fsmAct.forceSuperAttack());if("SuperAttack"==n.character.fsmAct.currentState.name)return;if(this.character.fsmAct.isDefence())return void this.character.createDefenceEff();"16"==n.actGroup[0]&&"ComboAttack"==n.character.fsmAct.currentState.name?this.character.fsmAct.forceFloating():this.character.fsmAct.forceBeaten()}}},e.prototype.enableCollider=function(t,e){if(null!=e){for(var o=!1,n=0,r=this.actGroup;n<r.length;n++){if(r[n]==e){o=!0;break}}o&&(this.node.active=t)}},r([c(cc.Node)],e.prototype,"parentNode",void 0),r([c({type:[cc.String],tooltip:"\u6240\u5c5e\u52a8\u753b\u7ec4\uff0c\u5728\u52a8\u753b\u64ad\u653e\u65f6\u5f00\u542f\u5bf9\u5e94\u78b0\u649e\u7ec4"})],e.prototype,"actGroup",void 0),r([c(cc.Boolean)],e.prototype,"isForcePush",void 0),e=o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Character":"Character"}],CharacterActionState:[function(t,e,o){"use strict";cc._RF.push(e,"e7be8tUH0ZNX4nFPtHRg7Nm","CharacterActionState");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.PushedAway=o.ReadyPose=void 0;var r=t("../Constants"),a=t("../utils/StateMachine/StateMachine"),i=t("../utils/StateMachine/State"),s=t("../utils/EventCenter"),c=t("./HeroProperty"),l=t("./CharacterAnimtor"),u=t("../utils/ResCenter"),p=t("../utils/SoundsManager"),h=t("../ui/GuidingLayer"),d=function(t){function e(e){var o=t.call(this)||this;o.events=[r.UIEvent.TOUCHDOWN,r.UIEvent.TOUCHUP],o.cls=[_,y,m,S,w,C,v,A,g,b,I,E,T],o.character=e;for(var n=0;n<o.cls.length;n++)o.addState(new o.cls[n](o));return o.initEvent(),o}return n(e,t),e.prototype.init=function(){this.character.props.equipArmor?this.transition("ReadyPose"):this.forceIdle(!0)},e.prototype.initEvent=function(){var t=this;this.events.forEach(function(e,o){s.default.on(e,t.handleInput,t)})},e.prototype.deinitEvent=function(){s.default.clearAllByNode(this)},e.prototype.handleInput=function(t,e){if(!(this.character.isDead||this.character.gameCtrl.state!=r.GameState.START&&this.character.gameCtrl.state!=r.GameState.GUIDING)){switch(this.character.gameCtrl.state==r.GameState.GUIDING&&(this.character.gameCtrl.guidingLayer.state==h.GuidingState.STEP2&&t!=r.ButtonKeyName.NORMALATTACK?t=null:this.character.gameCtrl.guidingLayer.state==h.GuidingState.STEP3&&t!=r.ButtonKeyName.SKILL3?t=null:this.character.gameCtrl.guidingLayer.state==h.GuidingState.STEP4&&t!=r.ButtonKeyName.SKILL1?t=null:this.character.gameCtrl.guidingLayer.state==h.GuidingState.STEP5&&t!=r.ButtonKeyName.SKILL2?t=null:this.character.gameCtrl.guidingLayer.state==h.GuidingState.STEP1&&(t=null)),e){case r.UIEvent.TOUCHDOWN:this.handleTouchDown(t);break;case r.UIEvent.TOUCHUP:this.handleTouchUp(t)}this.currentState.handleInput_baron(t,e)}},e.prototype.handleTouchDown=function(t){switch(t){case r.ButtonKeyName.SKILL3:this.forceDefence()}},e.prototype.handleTouchUp=function(t){switch(t){case r.ButtonKeyName.NORMALATTACK:this.isIdle()&&this.transition("NormalAttack");break;case r.ButtonKeyName.SKILL3:this.isDefence()&&this.transition("NoneAct");break;case r.ButtonKeyName.SKILL2:this.isIdle()&&this.character.props.isEnergyEnough(c.EnergyConsumeType.RangedAttack)&&this.transition("RangedAttack");break;case r.ButtonKeyName.SKILL1:this.character.isOnGround&&this.isIdle()&&this.character.props.isEnergyEnough(c.EnergyConsumeType.SuperAttack)&&(this.character.superSkill.hasEnter()?this.transition("EnterSuperAttack"):this.transition("SuperAttack",!0))}},e.prototype.isDefence=function(){return"Defence"==this.currentState.name},e.prototype.isCombo=function(){return"ComboAttack"==this.currentState.name},e.prototype.isIdle=function(){return"NoneAct"==this.currentState.name},e.prototype.isFloating=function(){return"Floating"==this.currentState.name},e.prototype.isBeaten=function(){return"Beaten"==this.currentState.name||"Floating"==this.currentState.name||"9"==this.character.animator.curAnim},e.prototype.isSuperAttack=function(){return"SuperAttack"==this.currentState.name},e.prototype.isEnterSuperAttack=function(){return"EnterSuperAttack"==this.currentState.name},e.prototype.isNormalAttack=function(){return"NormalAttack"==this.currentState.name},e.prototype.canTransDefence=function(){var t=this.currentState.name;return"NoneAct"==t||"NormalAttack"==t||"RangedAttack"==t||"ComboAttack"==t},e.prototype.forceDefence=function(){this.canTransDefence()&&this.transition("Defence")},e.prototype.forcePush=function(t,e){this.isSuperAttack()||this.transition("PushedAway",t,e)},e.prototype.forceBeaten=function(t,e,o){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===o&&(o=!1),this.isFloating()&&!o||this.isDefence()&&!o||this.isEnterSuperAttack()&&!e||this.isSuperAttack()||this.transition("Beaten",t,e)},e.prototype.forceIdle=function(t){this.transition("NoneAct",t)},e.prototype.forceFloating=function(t,e){this.isDefence()||this.isSuperAttack()||this.transition("Floating",t,e)},e.prototype.forceSuperAttack=function(){this.transition("SuperAttack")},e.prototype.forceLocked=function(){this.isDefence()||(this.character.forceIdle(),this.transition("Locked"))},e.prototype.forceDead=function(){"Locked"!=this.currentState.name&&"Floating"!=this.currentState.name&&this.transition("Dead")},e.prototype.forceNormalAttack=function(){this.transition("NormalAttack")},e.prototype.canMove=function(){return"NoneAct"==this.currentState.name},e}(a.default);o.default=d;var f=function(t){function e(e){var o=t.call(this,"")||this;return o.soundName="",o.soundDelay=.25,o.soundTimer=0,o.charAct=null,o.char=null,o.speed=80,o.damgeTriggerOn=!1,o.isPause=!1,o.charAct=e,o.char=e.character,o}return n(e,t),e.prototype.onEnter_baron=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!0),e&&this.char.isOnGround&&this.char.forceIdle(),this.char.animator.stateChange(this),this.char.enableAtkArea(t)},e.prototype.onUpdate_baron=function(){},e.prototype.translate=function(){var t=this.char.node;t.stopAllActions();var e=t.x+this.vect.x*this.speed;Math.abs(e-this.char.target.node.x)>60&&cc.tween(t).to(.05,{x:e}).start()},e.prototype.forceToIdle=function(){this.charAct.forceIdle()},e}(i.default),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="NoneAct",e}return n(e,t),e.prototype.onEnter_baron=function(e){t.prototype.onEnter_baron.call(this,!1,!1),this.char.animator.setTimeScale(l.AnimSpeed.SPEED1),this.char.enableGhost(!1),this.char.turnAround(!0),e&&0==this.char.pid&&this.char.gameCtrl._gameStart()},e}(f),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SuperAttack",e}return n(e,t),e.prototype.onEnter_baron=function(e){t.prototype.onEnter_baron.call(this),this.char.animator.setTimeScale(l.AnimSpeed.SPEED1),this.char.gameCtrl._shadowTheBg(!0),e&&(this.char.gameCtrl._showChaTu(this.char.pid),this.char.props.decreaseEnergy(c.EnergyConsumeType.SuperAttack)),this.char.superSkill.start()},e.prototype.onExit_baron=function(){},e.prototype.onUpdate_baron=function(){this.char.superSkill._update()},e.prototype.animOver_baron=function(){this.char.gameCtrl.state==r.GameState.GUIDING&&this.char.gameCtrl.guidingLayer.tipByStep(h.GuidingState.STEP5,this.char.gameCtrl.uiLayer.getSkill2ButtonPos()),this.char.superSkill.exit(),this.char.target.props.hp<=0&&this.char.target.dead()},e}(f),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="EnterSuperAttack",e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this),this.char.gameCtrl._showChaTu(this.char.pid),this.char.turnAround(!0),this.char.gameCtrl._shadowTheBg(!0),this.char.props.decreaseEnergy(c.EnergyConsumeType.SuperAttack),this.char.enableAtkArea(!0,"SuperAttackArea"),this.char.superSkill.enter()},e.prototype.onExit_baron=function(){this.char.enableAtkArea(!1,"SuperAttackArea"),this.char.superSkill.enterExit(),this.char.gameCtrl._shadowTheBg(!1)},e.prototype.onUpdate_baron=function(){this.char.superSkill.enterUpdate()},e}(f),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="NormalAttack",e.isJump=!1,e}return n(e,t),e.prototype.onEnter_baron=function(){if(t.prototype.onEnter_baron.call(this,!0),this.damgeTriggerOn=!0,this.char.animator.setTimeScale(l.AnimSpeed.SPEED3),this.char.isOnGround)this.char.enableGhost(!0),this.isJump=!1,this.vect=this.char.getFaceToTargetVect(),this.translate(),p.default.playEff("sound_"+this.char.specifyAnimConfig.comboAtkSoundEff[0]);else{this.isJump=!0,this.char.faceToTarget(!0);var e=""==this.char.specifyAnimConfig.jumpHitAnimName?"16":this.char.specifyAnimConfig.jumpHitAnimName;this.char.animator.playAnim(e),p.default.playEff("sound_"+this.char.specifyAnimConfig.comboAtkSoundEff[0])}},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this);var e=this.char.target;e&&e.fsmAct.isBeaten()&&this.damgeTriggerOn&&(e.dealDamage(this.char.props.getComboDamage(0)),this.damgeTriggerOn=!1,this.char.gameCtrl._createEnergyBall(this.char)),this.char.isOnGround&&this.isJump&&this.charAct.forceIdle()},e.prototype.animOver_baron=function(){this.isJump||(this.charAct.transition("ComboAttack"),this.char.gameCtrl.state==r.GameState.GUIDING&&0==this.char.pid&&this.char.gameCtrl.guidingLayer.tipByStep(h.GuidingState.STEP3,this.char.gameCtrl.uiLayer.getSkill3ButtonPos()))},e}(f),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ComboAttack",e.comboIndex=0,e.comboDelay=.2,e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this,!0),this.vect=this.char.getFaceToTargetVect(),this.comboIndex=0,this.scheduleOnce(this.forceToIdle,this.comboDelay)},e.prototype.onExit_baron=function(){this.unschedule(this.forceToIdle)},e.prototype.handleInput_baron=function(t,e){if(e==r.UIEvent.TOUCHUP&&t==r.ButtonKeyName.NORMALATTACK){if(this.charAct.isBeaten())return;if(this.char.animator.curAnim)return;if(this.comboIndex>=4)return;this.unschedule(this.forceToIdle),this.char.animator.playComboAnim(this.comboIndex),this.translate(),this.comboIndex++,this.damgeTriggerOn=!0,p.default.playEff("sound_"+this.char.specifyAnimConfig.comboAtkSoundEff[this.comboIndex])}},e.prototype.onUpdate_baron=function(){if(this.isPause)cc.director.getScheduler().isTargetPaused(this)||cc.director.getScheduler().pauseTarget(this);else{cc.director.getScheduler().isTargetPaused(this)&&cc.director.getScheduler().resumeTarget(this),t.prototype.onUpdate_baron.call(this);var e=this.char.target;e&&e.fsmAct.isBeaten()&&this.damgeTriggerOn&&(e.dealDamage(this.char.props.getComboDamage(this.comboIndex)),this.damgeTriggerOn=!1,this.char.gameCtrl._createEnergyBall(this.char))}},e.prototype.animOver_baron=function(){this.unschedule(this.forceToIdle),this.scheduleOnce(this.forceToIdle,this.comboDelay)},e.prototype.animInterrupt_baron=function(){},e}(f),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="RangedAttack",e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this),this.char.faceToTarget(!0)},e.prototype.animOver_baron=function(){this.charAct.forceIdle(),this.char.gameCtrl.state==r.GameState.GUIDING&&this.char.gameCtrl.guidingLayer.tipByStep(h.GuidingState.STEP6)},e.prototype.triger_baron=function(){this.char.props.decreaseEnergy(c.EnergyConsumeType.RangedAttack),this.char.throwing()},e}(f),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Defence",e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this),this.char.faceToTarget(!0),this.guiding()},e.prototype.onExit_baron=function(){t.prototype.onExit_baron.call(this)},e.prototype.guiding=function(){this.char.gameCtrl.state==r.GameState.GUIDING&&(this.char.target.fsmAct.forceNormalAttack(),this.char.gameCtrl.guidingLayer.tipByStep(h.GuidingState.STEP4,this.char.gameCtrl.uiLayer.getSkill1ButtonPos()),this.unschedule(this.forceToIdle),this.scheduleOnce(this.forceToIdle,.3))},e.prototype.animOver_baron=function(){},e}(f),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Beaten",e.beatByRanged=!1,e}return n(e,t),e.prototype.onEnter_baron=function(e,o){void 0===e&&(e=!1),void 0===o&&(o=!1),t.prototype.onEnter_baron.call(this),this.unschedule(this.forceToIdle),this.beatByRanged=o,this.beatEff(),this.backVector=e?cc.Vec2.ZERO:this.char.back(.5)},e.prototype.onExit_baron=function(){t.prototype.onExit_baron.call(this),this.unschedule(this.forceToIdle)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.backVector&&this.char.translate(this.backVector)},e.prototype.animOver_baron=function(){this.scheduleOnce(this.forceToIdle,.2)},e.prototype.animInterrupt_baron=function(){},e.prototype.repeatStateCall_baron=function(){this.unschedule(this.forceToIdle),this.char.animator.playAnimByStateName(this.name),this.beatEff()},e.prototype.beatEff=function(){this.beatByRanged?this.char.createBeatenEff(1):(this.char.createBeatenEff(),this.char.beatenSound())},e}(f),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Floating",e.backVector=cc.v2(),e.srcVectX=0,e}return n(e,t),e.prototype.onEnter_baron=function(e,o){var n=this;t.prototype.onEnter_baron.call(this,!1,!1),this.char.beatenSound(),this.char.turnAround(!0),this.char.createBeatenEff(1),this.char.node.y+=40,this.char.isOnGround=!1,this.backVector=this.char.back(o||2),e&&(this.backVector.x=-this.backVector.x),this.srcVectX=this.backVector.x,this.char.enableGhost(!0),this.scheduleOnce(function(){n._pause()},.05),this.scheduleOnce(function(){n.scheduleOnce(n.scheduleFloat,.3),n._resume()},.3)},e.prototype._pause=function(){this.isPause=!0,this.char.rigid.active=!1,this.char.animator.pauseAnim(),this.char.target.animator.pauseAnim(),this.char.target.fsmAct.currentState.isPause=!0},e.prototype._resume=function(){this.isPause=!1,this.char.rigid.active=!0,this.char.animator.resumeAnim(),this.char.target.animator.resumeAnim(),this.char.target.fsmAct.currentState.isPause=!1},e.prototype.onUpdate_baron=function(){if(this.isPause)return this.char.animator.resumeAnimStep(),void this.char.target.animator.resumeAnimStep();t.prototype.onUpdate_baron.call(this),this.backVector&&this.char.translate(this.backVector),this.char.isOnGround&&this.charAct.forceIdle(),this.char.node.x>=this.char.camera.getBorderRightX()-50?this.fantan():this.char.node.x<=this.char.camera.getBorderLeftX()+50&&this.fantan()},e.prototype.scheduleFloat=function(){this.backVector.y=0,this.char.rigid.active=!0},e.prototype.fantan=function(){var t=this;this.char.rigid.active=!1,this.backVector.x=-this.srcVectX,this.backVector.y=.5,this.unschedule(this.scheduleFloat),this.scheduleOnce(this.scheduleFloat,.3),this.char.beatenSound(),u.default.loadPrefabsInBundle(1,"eff/fantan/ef_zhuangqiang",function(e){var o=t.char.node.position.clone(),n=cc.instantiate(e);o.y+=100,n.setPosition(o),t.char.node.parent.addChild(n),cc.tween(n).delay(.5).removeSelf().start()},this)},e}(f),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Locked",e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this,!1,!1)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this)},e}(f),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Dead",e}return n(e,t),e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this,!1,!1),this.char.isDead=!0,this.char.enableGhost(!1)},e}(f),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ReadyPose",e.poseAnimTime=0,e}return n(e,t),e.prototype.onInit_baron=function(){},e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this),this.char.createReadyEff(),0==this.char.pid&&(p.default.playEff("sound_14"),this.char.gameCtrl.camera.setTarget(this.char.node)),this.char.turnAround(!0)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this)},e.prototype.animOver_baron=function(){this.poseAnimTime++,1==this.poseAnimTime?(this.char.delReadyEff(),this.char.animator.playAnim("19")):(0==this.char.pid&&this.char.gameCtrl.camera.setTarget(null),this.char.gameCtrl._gameStart())},e}(f);o.ReadyPose=E;var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PushedAway",e.xspeed=2,e.awayDelay=.2,e}return n(e,t),e.prototype.onEnter_baron=function(e,o){t.prototype.onEnter_baron.call(this,!1,!1),this.char.turnAround(!0),this.vector=this.char.getTargetToSelfVect(),this.vector.mulSelf(e||this.xspeed),this.scheduleOnce(this.stop,o||this.awayDelay)},e.prototype.onExit_baron=function(){t.prototype.onExit_baron.call(this),this.unschedule(this.stop)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.char.translate(this.vector)},e.prototype.stop=function(){this.vector.x=0},e}(f);o.PushedAway=T,cc._RF.pop()},{"../Constants":"Constants","../ui/GuidingLayer":"GuidingLayer","../utils/EventCenter":"EventCenter","../utils/ResCenter":"ResCenter","../utils/SoundsManager":"SoundsManager","../utils/StateMachine/State":"State","../utils/StateMachine/StateMachine":"StateMachine","./CharacterAnimtor":"CharacterAnimtor","./HeroProperty":"HeroProperty"}],CharacterAnimtor:[function(t,e,o){"use strict";cc._RF.push(e,"55d19uTE19CqbXBg8qOrHgT","CharacterAnimtor"),Object.defineProperty(o,"__esModule",{value:!0}),o.AnimSpeed=void 0;var n=t("../utils/EventCenter"),r=t("../utils/ResCenter");(function(t){t[t.SPEED1=1]="SPEED1",t[t.SPEED2=1.2]="SPEED2",t[t.SPEED3=1.6]="SPEED3"})(o.AnimSpeed||(o.AnimSpeed={}));var a=function(){function t(t){this.curAnim=null,this.animConfig={Move:{name:"4",isLoop:!0},Idle:{name:"1",isLoop:!0},NoneAct:{name:"1",isLoop:!0},Jump:{name:"2"},NormalAttack:{name:"12"},Beaten:{name:"9"},Defence:{name:"6"},RangedAttack:{name:"7"},SuperAttack:{name:"17",isLoop:!0},OppositeMove:{name:"5",isLoop:!0},Floating:{name:"10"},Locked:{name:"9"},Dead:{name:"11"},ReadyPose:{name:"18"},EnterSuperAttack:{name:"15",isLoop:!1},PushedAway:{name:"9"}},this.mixConfig=[{from:"Move",to:"Jump",duration:.1},{from:"Idle",to:"Jump",duration:.1},{from:"Jump",to:"Idle",duration:.1},{from:"Jump",to:"Move",duration:.1},{from:"Idle",to:"Move",duration:.1},{from:"Move",to:"Idle",duration:.1},{from:"Beaten",to:"Idle",duration:.1},{from:"Defence",to:"Idle",duration:.1},{from:"Idle",to:"Defence",duration:.1},{from:"RangedAttack",to:"Idle",duration:.1},{from:"Idle",to:"RangedAttack",duration:.1},{from:"Jump",to:"RangedAttack",duration:.1},{from:"NormalAttack",to:"Idle",duration:.1},{from:"Idle",to:"NormalAttack",duration:.1},{from:"SuperAttack",to:"Idle",duration:.2},{from:"OppositeMove",to:"Jump",duration:.1},{from:"Jump",to:"OppositeMove",duration:.1},{from:"Idle",to:"OppositeMove",duration:.1},{from:"OppositeMove",to:"Idle",duration:.1},{from:"Floating",to:"Idle",duration:.1},{from:"Beaten",to:"Dead",duration:.1},{from:"Floating",to:"Dead",duration:.1},{from:"NormalAttack",to:"Defence",duration:.1}],this.comboAnimConfig=["13","14","15","16"],this.comboMixConfig=[{from:"2",to:"16",duration:.5},{from:"12",to:"13",duration:.1},{from:"13",to:"14",duration:.1},{from:"14",to:"15",duration:.1},{from:"15",to:"16",duration:.1}],this.notEnableArea=!1,this.lastTimeScale=0,this.character=t,this.skeleton=t.node.getComponent(sp.Skeleton),this.mixInit(),this.listenerInit()}return t.prototype.playAnimByStateName=function(t){var e=this.animConfig[t];e&&this.playAnim(e.name,e.isLoop)},t.prototype.pauseAnim=function(){this.skeleton.timeScale=0},t.prototype.resumeAnim=function(){this.setTimeScale(this.lastTimeScale)},t.prototype.resumeAnimStep=function(){this.skeleton.timeScale=cc.misc.lerp(this.skeleton.timeScale,this.lastTimeScale,.02)},t.prototype.playAnim=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0),this.skeleton.setAnimation(o,t,e)},t.prototype.addAnim=function(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=0),void 0===n&&(n=0),this.skeleton.addAnimation(n,t,e,o)},t.prototype.setTimeScale=function(t){this.lastTimeScale=t,this.skeleton.timeScale=t},t.prototype.deinitEvent=function(){n.default.clearAllByNode(this)},t.prototype.stateChange=function(t){var e=this.animConfig[t.name];if(e){if(this.curAnim==e.name)return;var o=e.name,n=e.isLoop;"EnterSuperAttack"==t.name?""!=this.character.specifyAnimConfig.superEntryName&&(this.notEnableArea=!0,o=this.character.specifyAnimConfig.superEntryName,n=this.character.specifyAnimConfig.superEntryIsLoop,cc.log("name",o)):"SuperAttack"==t.name&&(n=this.character.specifyAnimConfig.superSkillIsLoop),this.playAnim(o,n)}},t.prototype.playComboAnim=function(t){var e=this.comboAnimConfig[t];e&&this.addAnim(e)},t.prototype.getState=function(){return this.skeleton.getState()},t.prototype.mixInit=function(){for(var t=0;t<this.mixConfig.length;t++){var e=this.mixConfig[t],o=this.animConfig[e.from],n=this.animConfig[e.to];this.skeleton.setMix(o.name,n.name,e.duration)}this.comboMixInit()},t.prototype.comboMixInit=function(){for(var t=0;t<this.comboMixConfig.length;t++){var e=this.comboMixConfig[t];this.skeleton.setMix(e.from,e.to,e.duration)}for(t=0;t<this.comboAnimConfig.length;t++){var o=this.comboAnimConfig[t];this.skeleton.setMix(o,"1",.1),this.skeleton.setMix(o,"9",.1),this.skeleton.setMix(o,"6",.1)}},t.prototype.listenerInit=function(){var t=this;this.skeleton.setStartListener(function(e){var o=e.animation?e.animation.name:"";t.notEnableArea||(t.character.hideAtkArea(),t.character.enableAtkArea(!0,o)),t.notEnableArea=!1,t.curAnim&&"1"!=t.curAnim&&t.character.fsmAct.currentState.animInterrupt_baron(),t.curAnim=o}),this.skeleton.setCompleteListener(function(e){var o=e.animation?e.animation.name:"";t.curAnim==o&&(t.curAnim=null,t.character.fsmAct.currentState.animOver_baron())}),this.skeleton.setEndListener(function(t){t.animation&&t.animation.name}),this.skeleton.setInterruptListener(function(e){var o=e.animation?e.animation.name:"";t.character.enableAtkArea(!1,o)}),this.skeleton.setEventListener(function(e,o){o.data&&"triger"==o.data.name&&(t.character.fsmAct.isSuperAttack()?t.character.superSkill.triger():t.character.fsmAct.currentState.triger_baron())})},t.prototype.dressArmor=function(){var t=this;(this.character.props.equipArmor||this.character.props.equipArmorHead)&&r.default.loadPrefabsInBundle(1,"armor/armor_"+this.character.props.armorId+"/armor_prefab",function(e){var o=t.skeleton.node.parent.getChildByName("Armor"+t.character.pid);o||(o=cc.instantiate(e.data),t.skeleton.node.parent.addChild(o,null,"Armor"+t.character.pid));var n=o.getComponent(sp.Skeleton);t.armorSkeleton=n;for(var r=1;r<21;r++){var a=t.character.props.armorSlotName+r;if(r>15)a="armor_"+r;else{if(t.character.props.equipArmor&&!t.character.props.equipArmorHead&&15==r)continue;if(t.character.props.equipArmorHead&&!t.character.props.equipArmor&&15!=r)continue}var i=n.findSlot(a),s=t.skeleton.findSlot(a);if(i&&s){var c=i.getAttachment();s.setAttachment(c)}}o.removeFromParent()},this)},t.prototype.updateArmor=function(){var t=this;if(this.armorSkeleton){["armor_16"].forEach(function(e,o){var n=t.armorSkeleton.findSlot(e),r=t.skeleton.findSlot(e);if(n&&r){var a=n.getAttachment();r.setAttachment(a)}},this)}},t}();o.default=a,cc._RF.pop()},{"../utils/EventCenter":"EventCenter","../utils/ResCenter":"ResCenter"}],CharacterShapeCollider:[function(t,e,o){"use strict";cc._RF.push(e,"649c7rcp8tLZr264/OlRtr4","CharacterShapeCollider");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Character"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentNode=null,e}return n(e,t),e.prototype.onLoad=function(){this.character=this.parentNode.getComponent(a.default)},e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e,o){"plane"==o.node.name?this.character&&this.character.onGround():"border"==o.node.name&&this.character&&"EnterSuperAttack"==this.character.fsmAct.currentState.name&&this.character.fsmAct.forceIdle()},r([c(cc.Node)],e.prototype,"parentNode",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Character":"Character"}],Character:[function(t,e,o){"use strict";cc._RF.push(e,"8174aT3sshDuJrjV0pVHy2z","Character");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.Jump=o.OppositeMove=o.Move=o.Idle=o.DefaultState=void 0;var r=t("../utils/StateMachine/StateMachine"),a=t("../utils/StateMachine/State"),i=t("../utils/EventCenter"),s=t("../ui/joystick/JoystickEnum"),c=t("./CharacterAnimtor"),l=t("./CharacterActionState"),u=t("./HeroProperty"),p=t("./CharacterActCollider"),h=t("../utils/Utils"),d=t("./superskill/SuperSkill0"),f=t("./superskill/SuperSkillBase"),_=t("../Constants"),g=t("../utils/ResCenter"),b=t("./rangedweapon/Throwing"),y=t("./superskill/SuperSkill1"),m=t("./superskill/SuperSkill2"),v=t("./superskill/SuperSkill3"),A=t("./AnimConfig"),S=t("../utils/SoundsManager"),w=t("../ui/GuidingLayer"),C=t("./superskill/SuperSkill4"),I=t("./superskill/SuperSkill5"),E=t("./superskill/SuperSkill6"),T=t("./superskill/SuperSkill7"),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=0,e.normalSpeed=10,e.jumpSpeed=cc.v2(9,18),e.vector=cc.Vec2.ZERO,e.joyVector=cc.Vec2.ZERO,e.srcScaleX=0,e.isOnGround=!0,e.props=new u.HeroProperty,e.pid=0,e.isDead=!1,e.combo=0,e.ghostNode=null,e.onGroundY=0,e.beatArea=[],e.atkArea=[],e.target=null,e.events=[s.default.EventType.TOUCH_START,s.default.EventType.TOUCH_MOVE,s.default.EventType.TOUCH_END],e.cls=[R,P,D,M],e.superSkills=[null,d.default,y.default,m.default,v.default,C.default,I.default,E.default,T.default],e.headFlag=null,e.startPos=cc.v2(),e}return n(e,t),e.prototype.onLoad=function(){this.specifyAnimConfig=this.node.getComponent(A.default),this.srcScaleX=this.node.scaleX,this.skeleton=this.node.getComponent(sp.Skeleton),this.rigid=this.node.getComponent(cc.RigidBody),this.physicCollider=this.node.getComponent(cc.PhysicsPolygonCollider);var t=this.skeleton;this.bodyAttach=t.attachUtil.getAttachedNodes("body_1")[0],this.initFsm(),this.initActFsm(),this.initEvent()},e.prototype.onDestroy=function(){this.fsmAct.deinitEvent(),this.animator.deinitEvent(),i.default.clearAllByNode(this)},e.prototype.start=function(){this.fsm.transition("idle"),this.fsmAct.init(),this.startPos=this.node.getPosition().clone()},e.prototype.update=function(){this.isDead||this.gameCtrl&&this.gameCtrl.state&&(this.fsmAct.loop(),this.fsm.loop())},e.prototype.lateUpdate=function(){this.props&&0==this.props.hp&&this.dead(),this.props&&0==this.pid&&(this.props.mp>=50?(this.gameCtrl.btnEff1.active=!0,this.gameCtrl.btnEff2.active=!0):this.props.mp>=10?(this.gameCtrl.btnEff1.active=!1,this.gameCtrl.btnEff2.active=!0):(this.gameCtrl.btnEff1.active=!1,this.gameCtrl.btnEff2.active=!1)),this.headFlagFollow(),this.correctPos()},e.prototype.correctPos=function(){(isNaN(this.node.x)||isNaN(this.node.y))&&this.node.setPosition(this.startPos)},e.prototype.addBeatCollider=function(t){this.beatArea.push(t)},e.prototype.addAtkCollider=function(t){this.atkArea.push(t)},e.prototype.enableBeatCollider=function(t){this.beatArea.forEach(function(e,o){e.active=t})},e.prototype.initColliderGroup=function(){var t=this;this.beatArea.forEach(function(e,o){e.group=t.beatenGroup}),this.atkArea.forEach(function(e,o){e.group=t.atkGroup})},e.prototype.enableAtkArea=function(t,e){this.atkArea.forEach(function(o,n){o.getComponent(p.default).enableCollider(t,e)})},e.prototype.hideAtkArea=function(){this.atkArea.forEach(function(t,e){t.active=!1})},e.prototype.initProperty=function(t,e,o){this.pid=e,this.fsm.id=e,this.fsmAct.id=e,this.beatenGroup="beatenCollider"+e,this.atkGroup="attackCollider"+e,this.initColliderGroup(),this.props.initData(t,0==e,!0);var n=this.superSkills[t];this.superSkill=n?new n(this):new f.default(this),this.animator.dressArmor(),o&&this.initHeadFlag()},e.prototype.initHeadFlag=function(){var t=this;0==this.pid&&g.default.loadPrefabsInBundle(0,"texture/P"+(this.pid+1),function(e){var o=cc.instantiate(e.data);t.node.parent.addChild(o,1-t.pid+1),t.headFlag=o},this)},e.prototype.headFlagFollow=function(){if(this.headFlag){var t=this.bodyAttach.parent.convertToWorldSpaceAR(this.bodyAttach.position);t.x-=.5*cc.visibleRect.width,t.y-=.5*cc.visibleRect.height-130,this.headFlag.setPosition(t)}},e.prototype.initFsm=function(){this.fsm=new r.default;for(var t=0;t<this.cls.length;t++)this.fsm.addState(new this.cls[t](this));this.animator=new c.default(this)},e.prototype.initActFsm=function(){this.fsmAct=new l.default(this)},e.prototype.initEvent=function(){var t=this;this.events.forEach(function(e,o){i.default.on(e,t.handleInput,t)}),i.default.on(_.GameEvent.RELIVE,this.relive,this)},e.prototype.onGround=function(){!this.fsmAct.isNormalAttack()&&!this.fsmAct.isDefence()||this.isOnGround||this.forceIdle(),this.isOnGround=!0},e.prototype.handleInput=function(t,e){if(!(this.isDead||this.gameCtrl.state!=_.GameState.START&&this.gameCtrl.guidingLayer.state!=w.GuidingState.STEP1))switch(e){case s.default.EventType.TOUCH_START:case s.default.EventType.TOUCH_MOVE:this.handleJoyStick(t.vector);break;case s.default.EventType.TOUCH_END:this.handleJoyStick(cc.Vec2.ZERO)}},e.prototype.handleJoyStick=function(t){this.joyVector=t.clone(),this.vector=t},e.prototype.translate=function(t,e,o,n){if("Beaten"!=this.fsmAct.currentState.name||t){var r=t?t.clone():this.vector.clone();this.turnAround(e),r.x*=o?o.x:this.normalSpeed,r.y*=o?o.y:this.normalSpeed;var a=cc.v2(this.node.x+r.x,this.node.y+r.y),i=h.default.getXdistance(a,this.target.node.getPosition());if(n)Math.abs(a.y-this.onGroundY)>n&&(a.y=this.onGroundY+n);i<=cc.visibleRect.width&&this.node.setPosition(a)}},e.prototype.turnAround=function(t){if(t){var e=this.getFaceToTargetVect().x*this.srcScaleX;if(e==this.node.scaleX)return;this.node.scaleX=e}else this.isOnGround&&"NoneAct"==this.fsmAct.currentState.name&&(this.vector.x<0&&this.node.scaleX>0?this.node.scaleX=-this.srcScaleX:this.vector.x>0&&this.node.scaleX<0&&(this.node.scaleX=this.srcScaleX))},e.prototype.faceToTarget=function(t){(void 0===t&&(t=!1),(this.isOnGround||t)&&"SuperAttack"!=this.fsmAct.currentState.name&&"EnterSuperAttack"!=this.fsmAct.currentState.name)&&(this.faceVector(this.target.node,this.node).x<0?this.node.scaleX=-1*this.srcScaleX:this.node.scaleX=this.srcScaleX)},e.prototype.moveCondition=function(){return this.isOnGround&&!this.isOpposite()&&0!=this.vector.x&&this.fsmAct.canMove()},e.prototype.oppositeMoveCondition=function(){return this.isOnGround&&this.isOpposite()&&0!=this.vector.x&&this.fsmAct.canMove()},e.prototype.jumpCondition=function(){if(!this.fsmAct.canMove())return!1;if(!this.isOnGround)return!1;if(this.vector.equals(cc.Vec2.ZERO)){if(this.joyVector.equals(cc.Vec2.ZERO))return!1;var t=-cc.misc.radiansToDegrees(this.joyVector.signAngle(cc.v2(1,0)));return t>30&&t<150}var e=-cc.misc.radiansToDegrees(this.vector.signAngle(cc.v2(1,0)));return e>30&&e<150},e.prototype.idleCondition=function(){return this.isOnGround&&this.vector.equals(cc.Vec2.ZERO)},e.prototype.setTarget=function(t){this.target=t,this.superSkill&&this.superSkill.setTarget(t)},e.prototype.back=function(t){var e=this.getTargetToSelfVect();return e.y=1,e.mulSelf(t),e},e.prototype.isOpposite=function(){var t=this.getFaceToTargetVect();return 0!=this.vector.x&&0!=t.x&&Math.abs(t.x)/t.x!=Math.abs(this.vector.x)/this.vector.x},e.prototype.getFaceToTargetVect=function(){return this.faceVector(this.target.node,this.node)},e.prototype.getTargetToSelfVect=function(){return this.faceVector(this.node,this.target.node)},e.prototype.faceVector=function(t,e){var o=cc.v2();return cc.Vec2.subtract(o,cc.v2(t.x,0),cc.v2(e.x,0)),o.normalizeSelf(),o},e.prototype.forceIdle=function(){this.fsm.transition("Idle")},e.prototype.createBeatenEff=function(t,e){void 0===t&&(t=0),void 0===e&&(e=150);var o=cc.instantiate(this.gameCtrl._getEff(["eff1","eff2"][t])),n=cc.v2(this.node.x,this.node.y+150);this.node.parent.addChild(o,2),o.rotation=h.default.randomRange(60,120),o.setPosition(n),o.runAction(cc.sequence(cc.delayTime(.3),cc.removeSelf())),h.default.shake(this.camera.node,void 0,void 0,12)},e.prototype.createDefenceEff=function(){var t=this,e=this.node.parent.getChildByName("DefenceNode");e||(e=cc.instantiate(this.gameCtrl._getEff("eff3")),this.node.parent.addChild(e,2,"DefenceNode")),g.default.loadPrefabsInBundle(1,"eff/defence/ef_defense",function(e){var o=cc.instantiate(e.data),n=cc.v2(t.node.x,t.node.y+130);o.setPosition(n),t.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(1),cc.removeSelf()))},this);var o=this.node.scaleX/Math.abs(this.node.scaleX),n=cc.v2(this.node.x+20*o,this.node.y+130);e.scaleX=1.5*o,e.scaleY=1.5,e.opacity=255,e.setPosition(n),e.stopAllActions(),e.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.2),cc.removeSelf()))},e.prototype.createReadyEff=function(){var t=cc.instantiate(this.gameCtrl._getEff("eff4"));this.node.parent.addChild(t,2,"ReadyEff");var e=cc.v2(this.node.x,this.node.y+90);t.setPosition(e)},e.prototype.delReadyEff=function(){var t=this.node.parent.getChildByName("ReadyEff");t&&this.node.parent.removeChild(t)},e.prototype.dealDamage=function(t){null!=t&&(this.props.changeHp(t),this.target.addCombo(),this.resetCombo(),this.gameCtrl._dealDamage(this.bodyAttach,t))},e.prototype.dealEnergy=function(t){null!=t&&this.props.changeMp(t)},e.prototype.throwing=function(t,e,o){var n=this;void 0===o&&(o=null),g.default.loadPrefabsInBundle(1,"roles/hero_"+this.props.id+(o||"/rweapon"),function(o){var r=cc.instantiate(o.data),a=r.getComponent(b.default),i=cc.v2(n.node.x,n.node.y+180);r.group=n.atkGroup,a.offset&&(i.x+=n.getFaceToTargetVect().x*a.offset.x,i.y+=a.offset.y),r.setPosition(i),a.init(n.getFaceToTargetVect().x,n.props.id,n.props.getRangedDamage(),n.target.node,n),t&&t.call(e,r),n.node.parent.addChild(r,2,"Throwing")},this)},e.prototype.relive=function(){this.isDead=!1,this.resetCombo(),this.props.reset(),this.fsmAct.forceIdle(),this.enableBeatCollider(!0),this.energyAutoTimer(),this.gameCtrl.state=_.GameState.START},e.prototype.dead=function(){this.fsmAct.forceDead(),this.enableBeatCollider(!1),this.deinitEnergyAutoTimer()},e.prototype.reset=function(){this.vector=cc.Vec2.ZERO,this.joyVector=cc.Vec2.ZERO},e.prototype.addCombo=function(){this.combo++},e.prototype.resetCombo=function(){this.combo=0},e.prototype.enableGhost=function(t){this.ghostNode&&this.ghostNode.enableGhost(t)},e.prototype.energyAutoTimer=function(){if(this.props.autoEnergyIncrease){var t=this.props.autoEnergyInterval?this.props.autoEnergyInterval:10;this.schedule(this.autoIncreaseEnergy,t)}},e.prototype.deinitEnergyAutoTimer=function(){this.unschedule(this.autoIncreaseEnergy)},e.prototype.autoIncreaseEnergy=function(){this.props.changeMp(this.props.autoEnergyIncrease)},e.prototype.beatenSound=function(){S.default.playEff(["sound_0","sound_1"][h.default.randomRange(0,1)])},e}(cc.Component);o.default=k;var O=function(t){function e(e){var o=t.call(this,"")||this;return o.soundName="",o.soundDelay=.25,o.soundTimer=0,o.character=null,o.character=e,o}return n(e,t),e.prototype.onEnter_baron=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.character.animator.stateChange(this)},e.prototype.onUpdate_baron=function(){},e}(a.default);o.DefaultState=O;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Idle",e}return n(e,t),e.prototype.onInit_baron=function(){this.addTransition_baron("Move",this.character,this.character.moveCondition),this.addTransition_baron("OppositeMove",this.character,this.character.oppositeMoveCondition),this.addTransition_baron("Jump",this.character,this.character.jumpCondition)},e.prototype.onEnter_baron=function(){this.character.fsmAct.isDefence()||this.character.fsmAct.isCombo()||this.character.animator.stateChange(this)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.character.faceToTarget()},e}(O);o.Idle=R;var P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Move",e}return n(e,t),e.prototype.onInit_baron=function(){this.addTransition_baron("Idle",this.character,this.character.idleCondition),this.addTransition_baron("Jump",this.character,this.character.jumpCondition),this.addTransition_baron("OppositeMove",this.character,this.character.oppositeMoveCondition)},e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this),this.character.animator.setTimeScale(c.AnimSpeed.SPEED2)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.character.translate(),this.guidingCheck()},e.prototype.guidingCheck=function(){this.character.gameCtrl.state==_.GameState.GUIDING&&(h.default.getXdistance(this.character.node.getPosition(),this.character.target.node.getPosition())<=100&&(this.character.gameCtrl.guidingLayer.tipByStep(w.GuidingState.STEP2,this.character.gameCtrl.uiLayer.getNormalAttackButtonPos()),this.character.handleJoyStick(cc.Vec2.ZERO)))},e}(O);o.Move=P;var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="OppositeMove",e}return n(e,t),e.prototype.onInit_baron=function(){this.addTransition_baron("Idle",this.character,this.character.idleCondition),this.addTransition_baron("Jump",this.character,this.character.jumpCondition),this.addTransition_baron("Move",this.character,this.character.moveCondition)},e.prototype.onEnter_baron=function(){t.prototype.onEnter_baron.call(this)},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.character.translate()},e}(O);o.OppositeMove=M;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="Jump",e.limitHeight=300,e.dampRatio=.2,e.startDamping=!1,e}return n(e,t),e.prototype.onInit_baron=function(){this.addTransition_baron("Idle",this.character,this.character.idleCondition),this.addTransition_baron("Move",this.character,this.character.moveCondition),this.addTransition_baron("OppositeMove",this.character,this.character.oppositeMoveCondition)},e.prototype.onEnter_baron=function(){var e=this;t.prototype.onEnter_baron.call(this),S.default.playEff("sound_17"),this.startDamping=!1,this.character.onGroundY=this.character.node.y,this.jumpVector=this.character.vector.clone(),this.jumpVector.y=1.5,this.scheduleOnce(function(){e.startDamping=!0},.4),this.jump()},e.prototype.onExit_baron=function(){},e.prototype.onUpdate_baron=function(){t.prototype.onUpdate_baron.call(this),this.startDamping&&(this.jumpVector.y-=this.dampRatio,this.jumpVector.y<0&&(this.jumpVector.y=0)),this.character.vector.x>0?this.jumpVector.x=1.5:this.character.vector.x<0?this.jumpVector.x=-1.5:this.jumpVector.x=0,this.character.translate(this.jumpVector,!0,this.character.jumpSpeed,this.limitHeight)},e.prototype.jump=function(){this.character.isOnGround=!1},e}(O);o.Jump=D,cc._RF.pop()},{"../Constants":"Constants","../ui/GuidingLayer":"GuidingLayer","../ui/joystick/JoystickEnum":"JoystickEnum","../utils/EventCenter":"EventCenter","../utils/ResCenter":"ResCenter","../utils/SoundsManager":"SoundsManager","../utils/StateMachine/State":"State","../utils/StateMachine/StateMachine":"StateMachine","../utils/Utils":"Utils","./AnimConfig":"AnimConfig","./CharacterActCollider":"CharacterActCollider","./CharacterActionState":"CharacterActionState","./CharacterAnimtor":"CharacterAnimtor","./HeroProperty":"HeroProperty","./rangedweapon/Throwing":"Throwing","./superskill/SuperSkill0":"SuperSkill0","./superskill/SuperSkill1":"SuperSkill1","./superskill/SuperSkill2":"SuperSkill2","./superskill/SuperSkill3":"SuperSkill3","./superskill/SuperSkill4":"SuperSkill4","./superskill/SuperSkill5":"SuperSkill5","./superskill/SuperSkill6":"SuperSkill6","./superskill/SuperSkill7":"SuperSkill7","./superskill/SuperSkillBase":"SuperSkillBase"}],ChongJiBo:[function(t,e,o){"use strict";cc._RF.push(e,"d75a931vW1DeLMH5NIYActu","ChongJiBo");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Throwing"),i=t("../CharacterActCollider"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.triggerTick=0,e.triggerStep=0,e}return n(e,t),e.prototype.onCollisionEnter=function(t,e){this.triggerStep=0},e.prototype.onCollisionStay=function(t,e){if(this.triggerTick>8){var o=t.node.getComponent(i.default);if(o)if(o.character.fsmAct.isDefence())o.character.createDefenceEff();else{var n=this.char.props.getSuperSkillDamage(this.triggerStep);n&&(o.character.dealDamage(n),o.character.fsmAct.forceBeaten(!0,!0)),(!n||this.triggerStep>=9)&&o.character.fsmAct.forceFloating(!1,2)}this.playEndSound(),this.triggerTick=0,this.triggerStep++}this.triggerTick++},e=r([c],e)}(a.default));o.default=l,cc._RF.pop()},{"../CharacterActCollider":"CharacterActCollider","./Throwing":"Throwing"}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"50741XyLllMFLPp3iHvyV3u","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.createPrefab_baron=function(t,e,o){var n=cc.instantiate(t);return o?o.addChild(n):cc.director.getScene().getChildByName("Canvas").addChild(n),n.getComponent(e)},t}();o.default=n,cc._RF.pop()},{}],ConfigMgr:[function(t,e,o){"use strict";cc._RF.push(e,"4503cHyHo9IELKHqbPkDsJ2","ConfigMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GlobalConfig"),r=t("./HeroConfig"),a=t("./LevelConfig"),i=t("./ArmorConfig"),s=t("./StrengthConfig"),c=function(){function t(){}return t.loadAllConfig=function(t,e){cc.assetManager.loadAny([],function(t,e){})},t.loadAllConfigLocal=function(t,e){var o={GlobalConfig:n.default,HerosConfig:r.default,LevelsConfig:a.default,ArmorsConfig:i.default,StrengthsConfig:s.default};cc.resources.loadDir("config",function(n,r){r.forEach(function(t,e){o[t.name].getInstance().init(t.json)}),t&&t.call(e)})},t}();o.default=c,cc._RF.pop()},{"./ArmorConfig":"ArmorConfig","./GlobalConfig":"GlobalConfig","./HeroConfig":"HeroConfig","./LevelConfig":"LevelConfig","./StrengthConfig":"StrengthConfig"}],Constants:[function(t,e,o){"use strict";cc._RF.push(e,"f568fEpR8xN9I3v92nBAsYq","Constants"),Object.defineProperty(o,"__esModule",{value:!0}),o.ADEvent=o.GameState=o.GameEvent=o.ButtonKeyName=o.UIEvent=void 0,function(t){t.TOUCHDOWN="TouchDown",t.TOUCHMOVE="TouchMove",t.TOUCHUP="TouchUp",t.GAMEFAIL="GameFail",t.GAMEWIN="GameWin"}(o.UIEvent||(o.UIEvent={})),function(t){t.NORMALATTACK="normalAtk",t.SKILL1="skill1",t.SKILL2="skill2",t.SKILL3="skill3"}(o.ButtonKeyName||(o.ButtonKeyName={})),function(t){t.END="GameEnd",t.RELIVE="Relive"}(o.GameEvent||(o.GameEvent={})),function(t){t[t.NONE=0]="NONE",t[t.FREE=1]="FREE",t[t.READY=2]="READY",t[t.START=3]="START",t[t.END=4]="END",t[t.GUIDING=5]="GUIDING"}(o.GameState||(o.GameState={})),function(t){t.SHOWBANNER="ShowBanner",t.HIDEBANNER="HideBanner"}(o.ADEvent||(o.ADEvent={})),cc._RF.pop()},{}],CrazyView:[function(t,e,o){"use strict";cc._RF.push(e,"7dce4Sdfq1HupPTjS86DRXv","CrazyView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Progress"),i=t("../../utils/Utils"),s=t("../../utils/AdFrameWork"),c=t("../../../../FrameWork/Script/Mgr/GameMgr"),l=t("../../../../FrameWork/Script/User/User"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hero1=null,e.hero2=null,e.dialog=null,e.eff=null,e.hpBar=null,e.hpMax=1e3,e.hp=0,e.dstHp=0,e.once=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.hero1.setMix("1","17",.1),this.hero2.setMix("1","9",.1),this.hero1.setCompleteListener(function(e){"17"==(e.animation?e.animation.name:"")&&(t.hero1.setAnimation(0,"1",!0),t.hero2.setAnimation(0,"1",!0))}),this.hp=this.hpMax,this.dstHp=100*i.default.randomRange(0,5),this.hpBar.setMaxValue(this.hpMax)},e.prototype.start=function(){},e.prototype.onClickHit=function(){var t=this;this.once||(this.hero1.setAnimation(0,"17",!1),this.hero2.setAnimation(0,"9",!1),this.eff.node.active=!0,this.eff.play(),this.eff.on("finished",function(){t.eff.node.active=!1},this),this.hp-=80,this.hp<0&&(this.hp=0),this.hpBar.updateProgress(this.hp,!0),this.hp<=this.dstHp&&(this.once=!0,s.default.showBanner(),this.scheduleOnce(function(){t.dialog.active=!0},2)))},e.prototype.onClickConfirm=function(){s.default.destroyBanner(),l.default.addMoney_baron(1e3),c.default.getInstance_baron().saveGameData_baron(),this.node.removeFromParent(!0)},r([h(sp.Skeleton)],e.prototype,"hero1",void 0),r([h(sp.Skeleton)],e.prototype,"hero2",void 0),r([h(cc.Node)],e.prototype,"dialog",void 0),r([h(cc.Animation)],e.prototype,"eff",void 0),r([h(a.default)],e.prototype,"hpBar",void 0),e=r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../utils/AdFrameWork":"AdFrameWork","../../utils/Utils":"Utils","./Progress":"Progress"}],CustomUser:[function(t,e,o){"use strict";cc._RF.push(e,"2c8e5YL7x9MJbSxSXSNsk83","CustomUser"),Object.defineProperty(o,"__esModule",{value:!0}),o.CustomData=o.HeroData=o.PreloadAssets=o.TempBuff=void 0;var n=t("../../FrameWork/Script/User/User"),r=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.hpIncrease=0,this.energyInterval=0,this.energyIncrease=0,this.atkIncrease=0,this.equipHead=!1,this.equipArmor=!1,this.armorPathId=null,this.armorSlotName=null,this.equipHead=t,this.equipArmor=e}return t.prototype.setEquipHead=function(){this.equipHead=!0},t.prototype.setEquipArmor=function(){this.equipArmor=!0},t.prototype.setArmor=function(t,e){this.armorPathId=t,this.armorSlotName=e},t}();o.TempBuff=r;var a=function(){return function(){this.gameBgs=[],this.roles=[]}}();o.PreloadAssets=a;var i=function(){return function(){this.id=0,this.lvHp=0,this.lvAtk=0,this.videoTime=0,this.isUnlock=!1}}();o.HeroData=i;var s=function(){return function(){this.heroData=[],this.unlockedLevel=1,this.heroId=1,this.randomLevel=0,this.randomLevels=[],this.levelModelNum=1,this.rewardTimestamp=0,this.isGuided=!1}}();o.CustomData=s;var c=function(){function t(){}return t.init=function(t){if(t){if(t.customData)for(var e in n.default._gameData_baron.customData)t.customData[e]&&(n.default._gameData_baron.customData[e]=t.customData[e])}else this.setHeroId(1),this.setUnlockedLevel(1),this.setHeroData([]),this.setRandomLevels([]),this.setRandomLevel(0),this.setLevelModel(1),this.setRewardTimestamp(0),moosnow.setting.setBool(this.IS_GUIDED,!1)},t.setHeroId=function(t){moosnow.setting.setValue(this.CURRENT_HERO_ID,t),n.default._gameData_baron.customData.heroId=t},t.getHeroId=function(){return moosnow.setting.getInt(this.CURRENT_HERO_ID,1)},t.setUnlockedLevel=function(t){moosnow.setting.setValue(this.UNLOCKED_LEVEL,t),n.default._gameData_baron.customData.unlockedLevel=t},t.getUnlockedLevel=function(){return moosnow.setting.getInt(this.UNLOCKED_LEVEL,1)},t.setHeroData=function(t){moosnow.setting.setObject(this.HERO_DATA,t),n.default._gameData_baron.customData.heroData=t},t.getHeroData=function(){return moosnow.setting.getObject(this.HERO_DATA,JSON.stringify([]))},t.getRandomLevels=function(){return moosnow.setting.getObject(this.RANDOM_LEVELS,JSON.stringify([]))},t.setRandomLevels=function(t){moosnow.setting.setObject(this.RANDOM_LEVELS,t),n.default._gameData_baron.customData.randomLevels=t},t.setRandomLevel=function(t){moosnow.setting.setValue(this.RANDOM_LEVEL,t),n.default._gameData_baron.customData.randomLevel=t},t.getRandomLevel=function(){return moosnow.setting.getInt(this.RANDOM_LEVEL,1)},t.setLevelModel=function(t){moosnow.setting.setValue(this.LEVEL_MODE_NUM,t),n.default._gameData_baron.customData.levelModelNum=t},t.getLevelModel=function(){return moosnow.setting.getInt(this.LEVEL_MODE_NUM,1)},t.setRewardTimestamp=function(t){moosnow.setting.setValue(this.REWARD_TIME_STAMP,t),n.default._gameData_baron.customData.rewardTimestamp=t},t.getRewardTimestamp=function(){return moosnow.setting.getInt(this.REWARD_TIME_STAMP,0)},t.isGuided=function(){return moosnow.setting.getBool(this.IS_GUIDED,!1)},t.setGuided=function(){moosnow.setting.setBool(this.IS_GUIDED,!0),n.default._gameData_baron.customData.isGuided=!0},t.isUpgradeHpByGold=function(){return moosnow.setting.getBool(this.IS_UP_HP_BY_GOLD,!1)},t.setUpgradeHpByGold=function(){moosnow.setting.setBool(this.IS_UP_HP_BY_GOLD,!0)},t.isUpgradeAtkByGold=function(){return moosnow.setting.getBool(this.IS_UP_ATK_BY_GOLD,!1)},t.setUpgradeAtkByGold=function(){moosnow.setting.setBool(this.IS_UP_ATK_BY_GOLD,!0)},t.canGetGold=!0,t.canVideoGetGold=!0,t.tryHeroId=0,t.bundles=[],t.isLose=!1,t.extraRewardGold=0,t.curLevelComplete=!1,t.HERO_DATA="HERO_DATA",t.CURRENT_HERO_ID="CURRENT_HERO_ID",t.UNLOCKED_LEVEL="UNLOCKED_LEVEL",t.RANDOM_LEVEL="RANDOM_LEVEL",t.RANDOM_LEVELS="RANDOM_LEVELS",t.LEVEL_MODE_NUM="LEVEL_MODE_NUM",t.REWARD_TIME_STAMP="REWARD_TIME_STAMP",t.IS_GUIDED="IS_GUIDED",t.IS_UP_HP_BY_GOLD="IS_UP_HP_BY_GOLD",t.IS_UP_ATK_BY_GOLD="IS_UP_ATK_BY_GOLD",t}();o.default=c,cc._RF.pop()},{"../../FrameWork/Script/User/User":"User"}],Darts:[function(t,e,o){"use strict";cc._RF.push(e,"77e324qFZJGh66c3N8cG8XC","Darts");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Throwing"),i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.ending=function(){var t=this;this.node.children.forEach(function(e,o){t.rotate(e)},this),this.speed=0,this.scheduleOnce(function(){t.node.removeFromParent()},.3)},e=r([s],e)}(a.default));o.default=c,cc._RF.pop()},{"./Throwing":"Throwing"}],DateUtils:[function(t,e,o){"use strict";cc._RF.push(e,"553a9c8nklAvIKumN8bOwCk","DateUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.DateUtils=void 0;var n=function(){function t(){}return t.getNowTime_baron=function(){return(new Date).getTime()},t.formatTime2_baron=function(t){var e="",o=t/60,n=t-60*(o=parseInt(o+""));return n=parseInt(n+""),e+=o>9?o+"\u5206":"0"+o+"\u5206",e+=n>9?n+"\u79d2":"0"+n+"\u79d2"},t.formatTime3_baron=function(t){var e="",o=t/60,n=t-60*(o=parseInt(o+""));return n=parseInt(n+""),e+=o>9?o+":":"0"+o+":",e+=n>9?n:"0"+n},t.formatTime_baron=function(t){var e="",o=t/3600,n=(t-3600*(o=parseInt(o+"")))/60,r=t-3600*o-60*(n=parseInt(n+""));return r=parseInt(r+""),o>0&&(e+=o+":"),e+=n>9?n+":":"0"+n+":",e+=r>9?r+"":"0"+r},t.millisecondsToDate_baron=function(t,e){var o=new Date(t),n={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"H+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+{0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"}[o.getDay()+""])),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},t.convertDateFromString_baron=function(t){if(t){var e=t.split(" ")[0].split("/");return new Date(e[0],e[1]-1,e[2])}},t.getMonTimeByNowTime_baron=function(){var t=new Date,e=t.getDay();return 0==e&&(e=7),t.setHours(0,0,0,0),new Date(t.getTime()-24*(e-1)*60*60*1e3).getTime()},t.isSameDay_baron=function(t,e){void 0===e&&(e=Date.now());var o=Number(t),n=Number(e);if(o&&n){var r=new Date(o),a=new Date(n);return r.setHours(0,0,0,0)==a.setHours(0,0,0,0)}return!1},t.getMonthWeek_baron=function(){var t=new Date,e=(t.getFullYear(),t.getDay(),t.getDate(),t.getDay()),o=t.getDate();return Math.ceil((o+6-e)/7)},t}();o.DateUtils=n,cc._RF.pop()},{}],EnergyBall:[function(t,e,o){"use strict";cc._RF.push(e,"d88db6r7flGkqHUl3WlU/B3","EnergyBall");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/Utils"),i=cc._decorator,s=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e,o,n,r,i){var s=this,c=a.default.randomRange(-1,1),l=a.default.randomRange(e-10,e+10),u=a.default.randomRange(50,80)*c,p=cc.v2(t.x+u,t.y+50),h=cc.v2(t.x+u+100*c,l);cc.tween(this.node).bezierTo(.5,t,p,h).by(.1,{y:30}).by(.1,{y:-30}).by(.1,{y:10}).by(.1,{y:-10}).by(.1,{y:2}).to(.1,{y:l}).call(function(){var t=n.getWorldToCameraPoint(s.node.getPosition());s.node.group="ui",s.node.setPosition(t)}).to(.5,{x:o.x,y:o.y}).call(function(){r&&r.call(i)}).removeSelf().start()},e=r([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../utils/Utils":"Utils"}],EventCenter:[function(t,e,o){"use strict";cc._RF.push(e,"a75c5teLPVMKrxVAOzTwgnX","EventCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.on=function(t,e,o){void 0==this._events[t]&&(this._events[t]=[]),this._events[t].push({callback:e,target:o})},t.off=function(t,e,o){for(var n=this._events[t],r=n.length-1;r>=0;r--){var a=n[r];if(o==a.target&&e.toString()==a.callback.toString()){n.splice(r,1);break}}0==n.length&&delete this._events[t]},t.emit=function(t,e){var o=this._events[t];if(void 0!=o&&null!=o)for(var n=0;n<o.length;n++){var r=o[n];r.callback.call(r.target,e,t)}},t.clearAllByNode=function(t){for(var e in this._events){var o=this._events[e];if(o){for(var n=0;n<o.length;)o[n].target==t&&(o[n]=null,o.splice(n,1),n--),n++;0==o.length&&delete this._events[e]}}},t._events={},t}();o.default=n,cc._RF.pop()},{}],EventEnum:[function(t,e,o){"use strict";cc._RF.push(e,"94947oCpcdGZ6oeuKmdOGCo","EventEnum"),Object.defineProperty(o,"__esModule",{value:!0}),o.baron_Event=void 0,function(t){t[t.baron_None_baron=0]="baron_None_baron",t[t.baron_ADKRQ_ClickQuit_baron=400]="baron_ADKRQ_ClickQuit_baron",t[t.baron_App_CloseFirstLoadingView_baron=500]="baron_App_CloseFirstLoadingView_baron",t[t.baron_AD_OnShareAdFail_baron=501]="baron_AD_OnShareAdFail_baron",t[t.baron_Game_OnViewOpen_baron=600]="baron_Game_OnViewOpen_baron",t[t.baron_Game_OnViewClose_baron=601]="baron_Game_OnViewClose_baron",t[t.baron_Game_OnUserMoneyChange_baron=701]="baron_Game_OnUserMoneyChange_baron",t[t.baron_Game_OnUserCrystalChange_baron=702]="baron_Game_OnUserCrystalChange_baron",t[t.baron_Game_OnUserUnlockedStore_baron=703]="baron_Game_OnUserUnlockedStore_baron",t[t.baron_Game_OnLevelStart_baron=1e3]="baron_Game_OnLevelStart_baron",t[t.baron_Game_OnLevelComplate_baron=1001]="baron_Game_OnLevelComplate_baron",t[t.baron_AD_WudianBanner_LoadComplete_baron=2217]="baron_AD_WudianBanner_LoadComplete_baron",t[t.baron_AD_WudianBanner_Show_baron=2218]="baron_AD_WudianBanner_Show_baron",t[t.baron_AD_WudianBanner_Hide_baron=2219]="baron_AD_WudianBanner_Hide_baron",t[t.baron_AD_WudianBanner_PreLoad_baron=2220]="baron_AD_WudianBanner_PreLoad_baron",t[t.baron_App_OnUpdateIpBlockState_baron=2221]="baron_App_OnUpdateIpBlockState_baron"}(o.baron_Event||(o.baron_Event={})),cc._RF.pop()},{}],EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f8dfeJgdmJHo6btOQzfwZzs","EventMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Util/LogUtils"),r=function(){function t(){}return t.emitEvent_baron=function(t,e,o,r,a,i){n.LogUtils.info_baron("\u5e7f\u64ad\u4e8b\u4ef6\uff1a"+t),this.eventTarget_baron.emit(t+"",e,o,r,a,i)},t.onEvent_baron=function(t,e,o){this.eventTarget_baron.on(t+"",e,o)},t.onceEvent_baron=function(t,e,o){this.eventTarget_baron.once(t+"",e,o)},t.offEvent_baron=function(t,e,o){this.eventTarget_baron.off(t+"",e,o)},t.offTargetEvent_baron=function(t){this.eventTarget_baron.targetOff(t)},t.eventTarget_baron=new cc.EventTarget,t}();o.default=r,cc._RF.pop()},{"../Util/LogUtils":"LogUtils"}],ExDialogView:[function(t,e,o){"use strict";cc._RF.push(e,"0db0aNawGRLGJVew7Bjc71Q","ExDialogView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/SoundsManager"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actNode=null,e.popInType=1,e.quitType=0,e.isClose=!0,e.lastView=null,e.otherHideView=[],e.srcScale=0,e}return n(e,t),e.prototype.onLoad=function(){this.actNode||(this.actNode=this.node),this.srcScale=this.actNode.scale},e.prototype.start=function(){},e.prototype.onEnable=function(){this.lastView&&(this.lastView.active=!1),this.otherHideView.forEach(function(t,e){t.active=!1}),this.popInType&&this._popInAct()},e.prototype.onDisable=function(){this.lastView&&(this.lastView.active=!0),this.otherHideView.forEach(function(t,e){t.active=!0}),this.otherHideView=[],this.lastView=null},e.prototype.onClickClose=function(){a.default.clickBack(),this.quitType?this._quitAct():this._closeView()},e.prototype._popInAct=function(){var t=[null,this._scaleIn];t[this.popInType]&&t[this.popInType].call(this)},e.prototype._quitAct=function(){},e.prototype._closeView=function(){this.isClose?(this.node.removeFromParent(),this.node.destroy()):this.node.active=!1},e.prototype._scaleIn=function(){this.actNode.scale=0,this.actNode.opacity=0,cc.tween(this.actNode).to(.5,{scale:this.srcScale,opacity:255},{easing:"backOut"}).start()},r([c({type:cc.Node,tooltip:"\u52a8\u753b\u5bf9\u8c61"})],e.prototype,"actNode",void 0),r([c({tooltip:"\u5f39\u51fa\u52a8\u753b\u7c7b\u578b"})],e.prototype,"popInType",void 0),r([c({tooltip:"\u9000\u51fa\u52a8\u753b\u7c7b\u578b"})],e.prototype,"quitType",void 0),r([c({tooltip:"\u70b9\u51fb\u5173\u95ed\u6309\u94ae\u662f\u5173\u95ed\u6216\u662f\u9690\u85cf"})],e.prototype,"isClose",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/SoundsManager":"SoundsManager"}],ExPageIndicator:[function(t,e,o){"use strict";cc._RF.push(e,"30c0fKS4tJECIimFRbgOc6L","ExPageIndicator");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dot=null,e.selectIndex=null,e.layout=null,e.lastDot=null,e.dots=[],e}return n(e,t),e.prototype.onLoad=function(){this.indexSrcX=this.selectIndex.x,this.dot.active=!1,this.selectIndex.active=!1},e.prototype.onDisable=function(){},e.prototype.start=function(){},e.prototype.init=function(t,e){t>0&&(this.selectIndex.active=!0),this.layout.removeAllChildren(),this.dots=[];for(var o=0;o<t;o++){var n=cc.instantiate(this.dot),r=this.getCurDot(n);n.active=!0,r.opacity=0,this.layout.addChild(n),this.dots.push(n)}this.updateIndicator(e,!1)},e.prototype.updateIndicator=function(t,e){var o=this;void 0===e&&(e=!0);var n=this.indexSrcX-t*this.dot.width,r=function(){o.selectIndex.x=n},a=cc.sequence(cc.spawn(cc.fadeOut(.2),cc.scaleTo(.2,0)),cc.callFunc(r,this),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)));if(e){if(this.selectIndex.stopAllActions(),this.selectIndex.runAction(a),this.lastDot)(i=this.getCurDot(this.lastDot)).stopAllActions(),i.runAction(cc.fadeOut(.2));if(this.lastDot=this.dots[t],this.lastDot)(i=this.getCurDot(this.lastDot)).opacity=0,i.stopAllActions(),i.runAction(cc.fadeIn(.2))}else{var i;if(r.call(this),this.lastDot)(i=this.getCurDot(this.lastDot)).stopAllActions(),i.opacity=0;if(this.lastDot=this.dots[t],this.lastDot)(i=this.getCurDot(this.lastDot)).stopAllActions(),i.opacity=255}},e.prototype.getCurDot=function(t){return t.getChildByName("k2")},r([s(cc.Node)],e.prototype,"dot",void 0),r([s(cc.Node)],e.prototype,"selectIndex",void 0),r([s(cc.Node)],e.prototype,"layout",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],ExScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"2594e6ZsGlNR5xYVrwqjqz+","ExScrollView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.curSelectItem=null,e.curData=null,e.totalNum=0,e.itemCall=null,e.caller=null,e.datas=[],e.emptyNum=0,e}return n(e,t),e.prototype.onLoad=function(){this.item.active=!1,this.scrollView=this.node.getComponent(cc.ScrollView)},e.prototype.start=function(){},e.prototype.init=function(t,e,o,n){void 0===n&&(n=0),this.emptyNum=n,this.totalNum=t.length,this.itemCall=e,this.caller=o,this.datas=[],this.scrollView.content.removeAllChildren();for(var r=0;r<t.length;r++){var a=t[r],i=cc.instantiate(this.item);i.active=!0,i.zIndex=r,this.scrollView.content.addChild(i),this.datas.push(a),this.itemInitCall(i,a,r)}},e.prototype.deinit=function(){this.datas=[],this.scrollView.content.removeAllChildren()},e.prototype._onClickItem=function(t){var e=t.currentTarget;this.curSelectItem=e,this.curData=this.datas[e.zIndex]},e.prototype.itemInitCall=function(t,e,o){},r([s(cc.Node)],e.prototype,"item",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],FMButton:[function(t,e,o){"use strict";cc._RF.push(e,"063f2oeVtlKeav7jb4gZRiz","FMButton");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.FMButton=void 0;var a=t("../Mgr/SoundMgr"),i=cc._decorator,s=i.ccclass,c=(i.property,i.menu),l=i.disallowMultiple,u=(i.executionOrder,i.requireComponent),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){var t=this.node.getComponent(cc.Button);t.transition==cc.Button.Transition.NONE&&(t.transition=cc.Button.Transition.SCALE,t.duration=.1,t.zoomScale=.9),this.node.on("click",function(){a.default.playSound_baron("anniu")},this)},e=r([s,u(cc.Button),l(),c("FM\u7ec4\u4ef6/FMButton")],e)}(cc.Component);o.FMButton=p,cc._RF.pop()},{"../Mgr/SoundMgr":"SoundMgr"}],FMInterface:[function(t,e,o){"use strict";cc._RF.push(e,"960ddPW6plCX7rTQuyZQoCo","FMInterface");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var a=arguments[e],i=0,s=a.length;i<s;i++,r++)n[r]=a[i];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.callFM_baron=o.handleFM_baron=void 0,o.handleFM_baron=function(t,e){return{target:e,callback:t}},o.callFM_baron=function(t){for(var e,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(t&&t.callback)return(e=t.callback).call.apply(e,n([t.target],o))},cc._RF.pop()},{}],FMItemLayout:[function(t,e,o){"use strict";cc._RF.push(e,"8482a+fXPVGpbazvKpZtGQW","FMItemLayout");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Base/FMViewBase"),i=t("../Interface/FMInterface"),s=t("../Util/LogUtils"),c=cc._decorator,l=c.ccclass,u=c.property,p=(c.requireComponent,c.disallowMultiple),h=(c.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemChilds=[],e.ad_tag_baron=null,e.itemIndex_baron=0,e}return n(e,t),e.prototype.setAdTag_baron=function(t){this.ad_tag_baron=t},e.prototype.addEvent_baron=function(){},e.prototype.removeEvent_baron=function(){},e.prototype.initView_baron=function(){},e.prototype.setFMListenerUpdate_baron=function(t){this._fmListenerData_baron=t},e.prototype.setItemIndex_baron=function(t){if(this.itemIndex_baron=t,this._fmListenerData_baron)for(var e=this.itemChilds.length,o=0;o<e;o++){var n=this.itemIndex_baron*e+o,r=i.callFM_baron(this._fmListenerData_baron,n);this.updateDataItemByIndex_baron(r,o)}},e.prototype.updateDataItemByIndex_baron=function(t,e){s.LogUtils.log_baron("FMItemLayout -> updateDataItemByIndex -> data",t)},e.prototype.getItemIndex_baron=function(){return this.itemIndex_baron},e.prototype.getPointX_baron=function(){return this.node.x},e.prototype.getPointY_baron=function(){return this.node.y},e.prototype.setPointX_baron=function(t){this.node.x=t},e.prototype.setPointY_baron=function(t){this.node.y=t},e.prototype.getItemChildrenCount_baron=function(){return this.itemChilds.length},r([u({tooltip:"\u5b50\u8282\u70b9\u96c6\u5408",type:[cc.Node]})],e.prototype,"itemChilds",void 0),e=r([l,p()],e)}(a.default));o.default=h,cc._RF.pop()},{"../Base/FMViewBase":"FMViewBase","../Interface/FMInterface":"FMInterface","../Util/LogUtils":"LogUtils"}],FMScrollViewLoop:[function(t,e,o){"use strict";cc._RF.push(e,"685e88bRjRGNawxLozbkHdK","FMScrollViewLoop");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./FMTouchMaskView"),i=t("../Interface/FMInterface"),s=t("../Util/Utilit"),c=t("./FMItemLayout"),l=cc._decorator,u=l.ccclass,p=l.property,h=(l.requireComponent,l.disallowMultiple),d=(l.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isAutoMoveType=!0,e.arrayAliveListLayout_baron=[],e.arrayFreeListLayout_baron=[],e.viewLayoutNum_baron=0,e.viewLayoutGapNum_baron=3,e.viewLayoutSum_baron=0,e.startIndexItem_baron=0,e.isCanUpdateItems_baron=!1,e.isTouchStop_baron=!1,e._isCanScrollViewLoopUpdate_baron=!0,e.isAutoMoveWayLeftUp_baron=!0,e.autoMoveWaitTime_baron=60,e.autoMoveWaitNum_baron=1,e.autoMoveSpeed_baron=3,e._nextMoveLength_baron=0,e._waitTimeNum_baron=0,e._moveState_baron=0,e}return n(e,t),Object.defineProperty(e.prototype,"isAutoMoveType",{get:function(){return this._isAutoMoveType},set:function(t){this._isAutoMoveType=t},enumerable:!1,configurable:!0}),e.prototype._init_baron=function(){if(t.prototype._init_baron.call(this)){this._slideDirection==a.SlideDirection.HORIZONTAL?this.viewLayoutNum_baron=Math.ceil(this.node.width/this.itemPrefabWidth_baron):this._slideDirection==a.SlideDirection.VERTICAL&&(this.viewLayoutNum_baron=Math.ceil(this.node.width/this.itemPrefabHeight_baron)),this.viewLayoutSum_baron=this.viewLayoutNum_baron+2*this.viewLayoutGapNum_baron;for(var e=0,o=0;o<this.viewLayoutSum_baron;o++){var n=this.cloneLayout_baron(),r=n.node;this._slideDirection==a.SlideDirection.HORIZONTAL?(r.x=e,r.y=0,e+=r.width):this._slideDirection==a.SlideDirection.VERTICAL&&(r.x=0,r.y=e,e-=r.height),this.arrayAliveListLayout_baron.push(n)}return this.isCanUpdateItems_baron=!0,!0}return!1},e.prototype.setFMListenerUpdateItem_baron=function(t){this.fmListenerUpdateData_baron=t},e.prototype.setAutoData_baron=function(t,e,o,n,r){this.isAutoMoveWayLeftUp_baron=0==t,this.autoMoveWaitNum_baron=e?Math.abs(e):0,this.autoMoveWaitTime_baron=o?60*Math.abs(o):60,this.autoMoveSpeed_baron=n?Math.abs(n):3,r&&(this.node.color=s.default.colorHex2Rgb_baron(r))},e.prototype.isTouchStopView_baron=function(){return this.isTouchStop_baron},e.prototype.setCanScrollViewLoopUpdate_baron=function(t){this._isCanScrollViewLoopUpdate_baron=t},e.prototype.setAdTag_baron=function(t){this.ad_tag_baron=t;for(var e=0;e<this.arrayAliveListLayout_baron.length;e++){this.arrayAliveListLayout_baron[e].setAdTag_baron(this.ad_tag_baron)}for(e=0;e<this.arrayFreeListLayout_baron.length;e++){this.arrayFreeListLayout_baron[e].setAdTag_baron(this.ad_tag_baron)}},e.prototype.initUpdateItems_baron=function(){if(this._init_baron(),this.startIndexItem_baron=0,this._slideDirection==a.SlideDirection.HORIZONTAL)for(var t=3*-this.itemPrefabWidth_baron,e=0;e<this.arrayAliveListLayout_baron.length;e++){(o=this.arrayAliveListLayout_baron[e]).setPointX_baron(t),o.setItemIndex_baron(this.startIndexItem_baron+e),t+=this.itemPrefabWidth_baron}else for(t=3*this.itemPrefabHeight_baron,e=0;e<this.arrayAliveListLayout_baron.length;e++){var o;(o=this.arrayAliveListLayout_baron[e]).setPointY_baron(t),o.setItemIndex_baron(this.startIndexItem_baron+e),t-=this.itemPrefabHeight_baron}this._updateNextLengthTime_baron()},e.prototype.update=function(t){this.isCanUpdateItems_baron&&this._isCanScrollViewLoopUpdate_baron&&(this.updateScrollingItems_baron(),1==this.isAutoMoveType&&this._updateAutoMove_baron())},e.prototype.listenerUpdateInitItem_baron=function(t){if(this.fmListenerUpdateData_baron)return i.callFM_baron(this.fmListenerUpdateData_baron,t)},e.prototype._updateAutoMove_baron=function(){this.isTouchStopView_baron()||(0==this._moveState_baron?(this.isAutoMoveWayLeftUp_baron?this._slideDirection==a.SlideDirection.HORIZONTAL?this.content_baron.x=this.content_baron.x-this.autoMoveSpeed_baron:this.content_baron.y=this.content_baron.y+this.autoMoveSpeed_baron:this._slideDirection==a.SlideDirection.HORIZONTAL?this.content_baron.x=this.content_baron.x+this.autoMoveSpeed_baron:this.content_baron.y=this.content_baron.y-this.autoMoveSpeed_baron,this.autoMoveWaitNum_baron>0&&(this._nextMoveLength_baron=this._nextMoveLength_baron-this.autoMoveSpeed_baron,this._nextMoveLength_baron<=0&&(this._moveState_baron=1))):(this._waitTimeNum_baron=this._waitTimeNum_baron+1,this._waitTimeNum_baron>=this.autoMoveWaitTime_baron&&(this._waitTimeNum_baron=0,this._updateNextLengthTime_baron())))},e.prototype._dispatchEvent_baron=function(t){t==a.FMTouchEvent.Scrolling||(t==a.FMTouchEvent.TouchStart?this.isTouchStop_baron=!0:t==a.FMTouchEvent.TouchEnded&&(this._updateNextLengthTime_baron(),this.isTouchStop_baron=!1))},e.prototype._updateNextLengthTime_baron=function(){if(this.autoMoveWaitNum_baron>0)if(this._slideDirection==a.SlideDirection.HORIZONTAL)if(this._nextMoveLength_baron=this.autoMoveWaitNum_baron*this.itemPrefab.data.width,this.isAutoMoveWayLeftUp_baron)for(var t=0;t<this.arrayAliveListLayout_baron.length;t++){var e=this.arrayAliveListLayout_baron[t];if((o=this.content_baron.x+e.node.x)>-e.node.width&&o<0){this._nextMoveLength_baron=this._nextMoveLength_baron+o;break}}else for(t=this.arrayAliveListLayout_baron.length-1;t>=0;t--){var o;e=this.arrayAliveListLayout_baron[t];if((o=this.content_baron.x+e.node.x)<this.node.width+e.node.width&&o>this.node.width){o-=this.node.width,this._nextMoveLength_baron=this._nextMoveLength_baron-o;break}}else if(this._nextMoveLength_baron=this.autoMoveWaitNum_baron*this.itemPrefab.data.height,this.isAutoMoveWayLeftUp_baron)for(t=0;t<this.arrayAliveListLayout_baron.length;t++){e=this.arrayAliveListLayout_baron[t];if((n=this.content_baron.y+e.node.y)<e.node.height&&n>0){this._nextMoveLength_baron=this._nextMoveLength_baron-n;break}}else for(t=this.arrayAliveListLayout_baron.length-1;t>=0;t--){var n;e=this.arrayAliveListLayout_baron[t];if((n=this.content_baron.y+e.node.y-e.node.height)>-(this.node.height+e.node.height)&&n<-this.node.height){n+=this.node.height,this._nextMoveLength_baron=this._nextMoveLength_baron+n;break}}this._waitTimeNum_baron=0,this._moveState_baron=0},e.prototype.updateScrollingItems_baron=function(){var t=[];if(this._slideDirection==a.SlideDirection.HORIZONTAL){for(var e=0;e<this.arrayAliveListLayout_baron.length;e++){var o=this.arrayAliveListLayout_baron[e];this.content_baron.x+o.getPointX_baron()<3*-this.itemPrefabWidth_baron?this.addFreeItem_baron(o):o.getPointX_baron()+this.content_baron.x>this.node.width+3*this.itemPrefabWidth_baron?this.addFreeItem_baron(o):t.push(o)}if(t[0].getPointX_baron()+this.content_baron.x>-this.itemPrefabWidth_baron)(o=this.getFreeItem_baron()).setPointX_baron(t[0].getPointX_baron()-this.itemPrefabWidth_baron),o.setItemIndex_baron(t[0].getItemIndex_baron()-1),t.splice(0,0,o),o.node.active=!0;if(t[t.length-1].getPointX_baron()+this.content_baron.x<+this.node.width+this.itemPrefabWidth_baron)(o=this.getFreeItem_baron()).setPointX_baron(t[t.length-1].getPointX_baron()+this.itemPrefabWidth_baron),o.setItemIndex_baron(t[t.length-1].getItemIndex_baron()+1),t.push(o),o.node.active=!0}else{for(e=0;e<this.arrayAliveListLayout_baron.length;e++){(o=this.arrayAliveListLayout_baron[e]).getPointY_baron()+this.content_baron.y>3*this.itemPrefabHeight_baron?this.addFreeItem_baron(o):o.getPointY_baron()<-(this.content_baron.y+this.node.height+3*this.itemPrefabHeight_baron)?this.addFreeItem_baron(o):t.push(o)}if(t[0].getPointY_baron()+this.content_baron.y<=this.itemPrefabHeight_baron)(o=this.getFreeItem_baron()).setPointY_baron(t[0].getPointY_baron()+this.itemPrefabHeight_baron),o.setItemIndex_baron(t[0].getItemIndex_baron()-1),t.splice(0,0,o),o.node.active=!0;if(t[t.length-1].getPointY_baron()>=-(this.content_baron.y+this.node.height+this.itemPrefabHeight_baron))(o=this.getFreeItem_baron()).setPointY_baron(t[t.length-1].getPointY_baron()-this.itemPrefabHeight_baron),o.setItemIndex_baron(t[t.length-1].getItemIndex_baron()+1),t.push(o),o.node.active=!0}this.arrayAliveListLayout_baron=t},e.prototype.cloneLayout_baron=function(){var t=cc.instantiate(this.itemPrefab),e=t.getComponent(c.default);return e.setAdTag_baron(this.ad_tag_baron),e.setFMListenerUpdate_baron(i.handleFM_baron(this.listenerUpdateInitItem_baron,this)),this.content_baron.addChild(t),e},e.prototype.getFreeItem_baron=function(){var t=this.arrayFreeListLayout_baron.pop();return t||(t=this.cloneLayout_baron()),t},e.prototype.addFreeItem_baron=function(t){t.node.active=!1,this.arrayFreeListLayout_baron.push(t)},r([p()],e.prototype,"_isAutoMoveType",void 0),r([p({tooltip:"\u81ea\u52a8\u6eda\u52a8",type:cc.Boolean})],e.prototype,"isAutoMoveType",null),e=r([u,h()],e)}(a.default));o.default=d,cc._RF.pop()},{"../Interface/FMInterface":"FMInterface","../Util/Utilit":"Utilit","./FMItemLayout":"FMItemLayout","./FMTouchMaskView":"FMTouchMaskView"}],FMSkeletonExtend:[function(t,e,o){"use strict";cc._RF.push(e,"22cd4ZLzfZGN5GI7G9KIx6U","FMSkeletonExtend");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.FMSkeletonExtend=void 0;var a=cc._decorator,i=a.ccclass,s=a.property,c=a.menu,l=(a.disallowMultiple,a.executionOrder,a.requireComponent,a.executeInEditMode),u=a.playOnFocus,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isEditorPlay_baron=!0,e}return n(e,t),Object.defineProperty(e.prototype,"isEditorPlay",{get:function(){return this._isEditorPlay_baron},set:function(t){if(this._isEditorPlay_baron=t,this._isEditorPlay_baron){for(var e=this._skeleton.data.events,o=this._N$skeletonData._name+"\u4e8b\u4ef6\u96c6\u5408\uff1a",n="[",r=0;r<e.length;r++){var a=e[r].name,i=e[r].stringValue;""==i&&(i='""'),0!=r&&(n+=","),n=n+a+":"+i}n+="]",Editor.info(o+n)}},enumerable:!1,configurable:!0}),e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.dumpSpineInfo_baron=function(){var t=this._skeleton.data,e=t.animations,o=t.events,n=t.skins;console.group("spine : \u8282\u70b9 "+this.name+" ,\u52a8\u753b <"+this._N$skeletonData._name+" >");for(var r="[",a=0;a<e.length;a++){var i=e[a].name;0!=a&&(r+=","),r+=i}r+="]";var s="[";for(a=0;a<o.length;a++){i=o[a].name;var c=o[a].stringValue;""==c&&(c='""'),0!=a&&(s+=","),s=s+i+":"+c}s+="]";var l="[";for(a=0;a<n.length;a++){i=n[a].name;0!=a&&(l+=","),l+=i}l+="]",console.log("%c \u52a8\u4f5c\u96c6\u5408\uff1a %c "+r+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.log("%c \u4e8b\u4ef6\u96c6\u5408\uff1a %c "+s+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.log("%c \u76ae\u80a4\u96c6\u5408\uff1a %c "+l+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.groupEnd()},r([s()],e.prototype,"_isEditorPlay_baron",void 0),r([s({tooltip:"\u7f16\u8f91\u5668\u4e2d\u81ea\u52a8\u64ad\u653e\u52a8\u4f5c\n\u52fe\u9009\u72b6\u6001\uff0c\u5728\u9009\u4e2d\u8282\u70b9\u65f6\uff0c\u5e27\u738760\uff0c\u5426\u5219\u53ea\u6709\u5fc5\u8981\u65f6\u624d\u91cd\u7ed8\n\u975e\u52fe\u9009\uff0c\u4e0d\u81ea\u52a8\u64ad\u653e",type:cc.Boolean})],e.prototype,"isEditorPlay",null),e=r([i,l,u,c("FM\u7ec4\u4ef6/\u6269\u5c55/FMSkeletonExtend")],e)}(sp.Skeleton);o.FMSkeletonExtend=p,window.FMSkeletonExtend=p,cc._RF.pop()},{}],FMTouchMaskView:[function(t,e,o){"use strict";cc._RF.push(e,"74f62CQmAVNqqrNvtKV9cdq","FMTouchMaskView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.FMTouchEvent=o.SlideDirection=void 0;var a,i,s=t("../Util/LogUtils"),c=t("./FMItemLayout"),l=cc._decorator,u=l.ccclass,p=l.property,h=(l.requireComponent,l.disallowMultiple);l.menu;(function(t){t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL"})(a=o.SlideDirection||(o.SlideDirection={})),function(t){t.TouchStart="touch_start",t.Scrolling="scrolling",t.TouchEnded="touch_ended"}(i=o.FMTouchEvent||(o.FMTouchEvent={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e._slideDirection=a.HORIZONTAL,e._tempPoint_baron=cc.v2(),e._tempPrevPoint_baron=cc.v2(),e._outOfBoundaryAmount_baron=cc.v2(0,0),e._outOfBoundaryAmountDirty_baron=!0,e._inited_baron=!1,e._touchMoved_baron=!1,e.cancelInnerEvents_baron=!0,e.itemPrefabWidth_baron=0,e.itemPrefabHeight_baron=0,e}return n(e,t),Object.defineProperty(e.prototype,"slideDirection",{get:function(){return this._slideDirection},set:function(t){this._slideDirection=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init_baron()},e.prototype._init_baron=function(){if(this._inited_baron)return!1;var t=this.node.getComponent(cc.Widget);t&&t.updateAlignment();var e=new cc.Node;e.anchorX=0,e.anchorY=1;var o=e.addComponent(cc.Widget);return o.top=0,o.left=0,o.right=0,o.bottom=0,o.isAlignTop=!0,o.isAlignLeft=!0,o.isAlignRight=!0,o.isAlignBottom=!0,this.node.addChild(e),o.updateAlignment(),e.addComponent(cc.Mask).type=cc.Mask.Type.RECT,this.content_baron=new cc.Node,e.addChild(this.content_baron),this.content_baron.width=e.width,this.content_baron.height=e.height,this.content_baron.anchorX=0,this.content_baron.anchorY=1,this.content_baron.x=0,this.content_baron.y=0,this.itemPrefabWidth_baron=this.itemPrefab.data.width,this.itemPrefabHeight_baron=this.itemPrefab.data.height,this.scriptItemPrefab_baron=this.itemPrefab.data.getComponent(c.default),this.scriptItemPrefab_baron?0==this.scriptItemPrefab_baron.getItemChildrenCount_baron()&&s.LogUtils.error_baron("FMTouchMaskView -> _init -> scriptItemPrefab item child count ==0"):s.LogUtils.error_baron("FMTouchMaskView -> _init -> scriptItemPrefab is null"),this._inited_baron=!0,!0},e.prototype._dispatchEvent_baron=function(t){console.log("FMTouchMaskView -> _dispatchEvent -> name",t)},e.prototype.setCancelInnerEvents_baron=function(t){this.cancelInnerEvents_baron=t},e.prototype.handlePressLogic_baron=function(t){this._dispatchEvent_baron(i.TouchStart)},e.prototype.handleMoveLogic_baron=function(t){var e=this.getLocalAxisAlignDelta_baron(t),o=e=this.clampDelta_baron(e),n=this.getHowMuchOutOfBoundary_baron(o);0===(o=o.add(n)).x&&0===o.y||(this._moveContent_baron(o),this._dispatchEvent_baron(i.Scrolling))},e.prototype.handleReleaseLogic_baron=function(t){this.getLocalAxisAlignDelta_baron(t);this._dispatchEvent_baron(i.TouchEnded)},e.prototype._flattenVectorByDirection_baron=function(t){var e=t;return e.x=this._slideDirection==a.HORIZONTAL?e.x:0,e.y=this._slideDirection==a.VERTICAL?e.y:0,e},e.prototype._moveContent_baron=function(t){var e=this._flattenVectorByDirection_baron(t),o=this.getContentPosition_baron().add(e);this.setContentPosition_baron(o)},e.prototype.getLocalAxisAlignDelta_baron=function(t){return this.node.convertToNodeSpaceAR(t.getLocation(),this._tempPoint_baron),this.node.convertToNodeSpaceAR(t.getPreviousLocation(),this._tempPrevPoint_baron),this._tempPoint_baron.sub(this._tempPrevPoint_baron)},e.prototype._hasNestedViewGroup_baron=function(t,e){if(t.eventPhase===cc.Event.CAPTURING_PHASE){if(e)for(var o=0;o<e.length;++o){var n=e[o];if(this.node===n)return!!t.target.getComponent(cc.ViewGroup);if(n.getComponent(cc.ViewGroup))return!0}return!1}},e.prototype._stopPropagationIfTargetIsMe_baron=function(t){t.eventPhase===cc.Event.AT_TARGET&&t.target===this.node&&t.stopPropagation()},e.prototype._onTouchBegan_baron=function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_baron(t,e)){var o=t.touch;this.content_baron&&this.handlePressLogic_baron(o),this._touchMoved_baron=!1,this._stopPropagationIfTargetIsMe_baron(t)}},e.prototype._onTouchMoved_baron=function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_baron(t,e)){var o=t.touch;if(this.node._hitTest(o.getLocation(),this.node)&&(this.content_baron&&this.handleMoveLogic_baron(o),this.cancelInnerEvents_baron)){if(o.getLocation().sub(o.getStartLocation()).mag()>7&&!this._touchMoved_baron){var n=new cc.Event.EventTouch(t.getTouches(),t.bubbles);n.type=cc.Node.EventType.TOUCH_CANCEL,n.touch=t.touch,n.simulate=!0,t.target.dispatchEvent(n),this._touchMoved_baron=!0}this._stopPropagationIfTargetIsMe_baron(t)}}},e.prototype._onTouchEnded_baron=function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_baron(t,e)){var o=t.touch;this.content_baron&&this.handleReleaseLogic_baron(o),this._touchMoved_baron?t.stopPropagation():this._stopPropagationIfTargetIsMe_baron(t)}},e.prototype._onTouchCancelled_baron=function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_baron(t,e)){if(!t.simulate){var o=t.touch;this.content_baron&&this.handleReleaseLogic_baron(o)}this._stopPropagationIfTargetIsMe_baron(t)}},e.prototype.clampDelta_baron=function(t){return this._slideDirection==a.HORIZONTAL?t.y=0:this._slideDirection==a.VERTICAL&&(t.x=0),t},e.prototype.getHowMuchOutOfBoundary_baron=function(t){if((t=t||cc.v2(0,0)).fuzzyEquals(cc.v2(0,0),1e-4)&&!this._outOfBoundaryAmountDirty_baron)return this._outOfBoundaryAmount_baron;var e=cc.v2(0,0);return t.fuzzyEquals(cc.v2(0,0),1e-4)&&(this._outOfBoundaryAmount_baron=e,this._outOfBoundaryAmountDirty_baron=!1),e=this.clampDelta_baron(e)},e.prototype.getContentPosition_baron=function(){return this.content_baron.getPosition()},e.prototype.setContentPosition_baron=function(t){t.fuzzyEquals(this.getContentPosition_baron(),1e-4)||(this.content_baron.setPosition(t),this._outOfBoundaryAmountDirty_baron=!0)},e.prototype.onEnable=function(){this._registerEvent_baron()},e.prototype.onDisable=function(){this._unregisterEvent_baron()},e.prototype._registerEvent_baron=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan_baron,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved_baron,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded_baron,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled_baron,this,!0)},e.prototype._unregisterEvent_baron=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan_baron,this,!0),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved_baron,this,!0),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded_baron,this,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled_baron,this,!0)},r([p({tooltip:"layout\u9884\u5236\u4f53(0,1)",type:cc.Prefab})],e.prototype,"itemPrefab",void 0),r([p()],e.prototype,"_slideDirection",void 0),r([p({type:cc.Enum(a),tooltip:"\u6eda\u52a8\u65b9\u5411:\n HORIZONTAL \u6c34\u5e73\u6eda\u52a8\nVERTICAL\u5782\u76f4\u6eda\u52a8"})],e.prototype,"slideDirection",null),e=r([u,h()],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Util/LogUtils":"LogUtils","./FMItemLayout":"FMItemLayout"}],FMViewBase:[function(t,e,o){"use strict";cc._RF.push(e,"3b171HYpFRDJ7C8uE/nm09B","FMViewBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../Script/Mgr/WXADMgr"),a=t("../Interface/FMInterface"),i=t("../Util/AppPlatform"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._banner_baron=null,e._isInit_baron=0,e.EventEnumView_baron={},e}return n(e,t),e.prototype.onLoad=function(){this._initView_baron()},e.prototype._initView_baron=function(){if(0==this._isInit_baron)return this._isInit_baron=1,this.initView_baron(),this.addEvent_baron(),this._isInit_baron=2,!0},e.prototype.onListenerEventView_baron=function(t){this._listenerCallView_baron=t},e.prototype.emitListenerEvent_baron=function(t){console.log("\u53d1\u9001 "+t),this._listenerCallView_baron&&a.callFM_baron(this._listenerCallView_baron,t,this)},e.prototype.removeView_baron=function(){this.onDestroy(),this.node.destroy()},e.prototype.hideView_baron=function(){this.node.active=!1},e.prototype.showView_baron=function(){this.node.active=!0},e.prototype.isActiveView_baron=function(){return!(!cc.isValid(this,!0)||!this.node.activeInHierarchy)},e.prototype.showBanner_baron=function(){var t=this;i.default.is_WECHAT_GAME_baron()&&r.default.getBanner_baron(function(e){cc.isValid(t,!0)&&t.node.activeInHierarchy&&(null!=t._banner_baron&&t._banner_baron.hide_baron(),t._banner_baron=e,null!=t._banner_baron&&t._banner_baron.show_baron())})},e.prototype.hideBanner_baron=function(){null!=this._banner_baron&&this._banner_baron.hide_baron(),this._banner_baron=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.hideBanner_baron()},e.prototype.onDestroy=function(){this.removeEvent_baron(),this.hideBanner_baron()},e}(cc.Component);o.default=s,cc._RF.pop()},{"../../Script/Mgr/WXADMgr":"WXADMgr","../Interface/FMInterface":"FMInterface","../Util/AppPlatform":"AppPlatform"}],FMViewWudianMoveBlinkBase:[function(t,e,o){"use strict";cc._RF.push(e,"70427z3+g9GyprAHcNQLgZY","FMViewWudianMoveBlinkBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../Script/Mgr/WudianMgr"),i=t("./FMViewBase"),s=cc._decorator,c=s.ccclass,l=s.property,u=(s.requireComponent,s.disallowMultiple),p=(s.menu,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wudianNode=null,e.wudianFakeNode=null,e._banner_baron=null,e._wudianClickNodeState_baron=0,e}return n(e,t),e.prototype.initView_baron=function(){this.wudianFakeNode.active=!1},e.prototype.actionWudianMoveBlike_baron=function(t){this._wudianData_baron=t,this.refreshWudian_baron()},e.prototype.refreshWudian_baron=function(){this._wudianData_baron&&this.actionWudianBlike_baron(this._wudianData_baron.wudian,this._wudianData_baron.butDelayShowTime,this._wudianData_baron.timeClick,this._wudianData_baron.bannerShowTime,this._wudianData_baron.butMoveTime,this._wudianData_baron.bannerHideTime)},e.prototype.listenerActionWudianOver_baron=function(){},e.prototype.actionWudianBlike_baron=function(t,e,o,n,r,i){var s=this;this.wudianNode.active=!1,this.wudianFakeNode.active=!1,this._wudianClickNodeState_baron=0;var c=this;if(1==t&&a.default.wudianFlag_baron){this.wudianFakeNode.active=!1;var l=function(){1==c._wudianClickNodeState_baron&&(c.wudianFakeNode.active=!0,c.scheduleOnce(function(){c.showBanner_baron()},n),r?c.scheduleOnce(function(){c.wudianFakeNode.active=!1,c.wudianNode.active=!0,c.listenerActionWudianOver_baron()},r):i?c.scheduleOnce(function(){c.wudianFakeNode.active=!1,c.wudianNode.active=!0,c.listenerActionWudianOver_baron()},i):(c.wudianFakeNode.active=!1,c.wudianNode.active=!0,c.listenerActionWudianOver_baron()),i&&(i<n&&(i=n+.1),c.scheduleOnce(function(){c.hideBanner_baron()},i)))};1==o?(this.wudianFakeNode.targetOff(this),this.wudianFakeNode.on("click",function(){0==c._wudianClickNodeState_baron&&(c._wudianClickNodeState_baron=1,l())},this)):c._wudianClickNodeState_baron=1,this.scheduleOnce(function(){s.wudianFakeNode.active=!0,l()},e)}else this.scheduleOnce(function(){s.wudianNode.active=!0,s.listenerActionWudianOver_baron()},e)},r([l({tooltip:"\u8bef\u70b9\u53d7\u5f71\u54cd\u7684\u8282\u70b9",type:cc.Node})],e.prototype,"wudianNode",void 0),r([l({tooltip:"\u8bef\u70b9\u5047\u7684\u8282\u70b9",type:cc.Node})],e.prototype,"wudianFakeNode",void 0),e=r([c,u()],e)}(i.default));o.default=p,cc._RF.pop()},{"../../Script/Mgr/WudianMgr":"WudianMgr","./FMViewBase":"FMViewBase"}],GameEndUI:[function(t,e,o){"use strict";cc._RF.push(e,"40a78k7kdNN0YFZw8hptLJt","GameEndUI");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/EventCenter"),i=t("../Constants"),s=t("../../../FrameWork/Script/Mgr/GameMgr"),c=t("../utils/SoundsManager"),l=t("../utils/ResCenter"),u=t("../CustomUser"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plWin=null,e.plLose=null,e.export2Prefab=null,e.export4Prefab=null,e.gameLayer=null,e.isWin=!1,e}return n(e,t),e.prototype.onEnable=function(){var t=this;if(this.isWin){this.plWin.active=!0,this.plLose.active=!1;var e=u.default.levelData.LevelAward+u.default.extraRewardGold;this.scheduleOnce(function(){l.default.createTreasureBox({type:"gold",rewardNum:e,inEnd:!0,callFunc:t.toNext,caller:t})},2)}else this.plWin.active=!1,this.plLose.active=!0;a.default.on(i.ADEvent.SHOWBANNER,this.showBanner,this),a.default.on(i.ADEvent.HIDEBANNER,this.hideBanner,this)},e.prototype.onDisable=function(){a.default.clearAllByNode(this)},e.prototype.showBanner=function(){moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype.hideBanner=function(){moosnow.platform.hideBanner()},e.prototype.onClickRelive=function(){var t=this;c.default.click(),moosnow.platform.reportEvent("video",{type:20}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:moosnow.platform.hideBanner(),moosnow.platform.reportEvent("videofinish",{type:20}),t.node.active=!1,a.default.emit(i.GameEvent.RELIVE)}})},e.prototype.onClickQuit=function(){c.default.click(),moosnow.platform.hideBanner(),this.toNext()},e.prototype.toNext=function(){moosnow.platform.hideBanner(),s.default.getInstance_baron().loadLobbyScene()},e.prototype.showExportView=function(){},e.prototype.showExport4View=function(){},e.prototype.onExport2NextClick=function(){s.default.getInstance_baron().loadLobbyScene()},r([d(cc.Node)],e.prototype,"plWin",void 0),r([d(cc.Node)],e.prototype,"plLose",void 0),r([d(cc.Prefab)],e.prototype,"export2Prefab",void 0),r([d(cc.Prefab)],e.prototype,"export4Prefab",void 0),r([d(cc.Node)],e.prototype,"gameLayer",void 0),e=r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../Constants":"Constants","../CustomUser":"CustomUser","../utils/EventCenter":"EventCenter","../utils/ResCenter":"ResCenter","../utils/SoundsManager":"SoundsManager"}],GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"00994MxDNBEArlTl2C0FNx/","GameMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Util/LogUtils"),r=function(){function t(){this.checkBoxWatchVideoTimes=0}return t.getInstance_baron=function(){return t._instance_baron},t.prototype.loadLobbyScene=function(){cc.director.loadScene("LobbyScene")},t.prototype.loadTransitionScene=function(){cc.director.loadScene("TransitionScene")},t.prototype.loadSettleScene=function(){cc.director.loadScene("SettleScene")},t.prototype.loadFightScene=function(){cc.director.loadScene("FightScene")},t.prototype.preloadScene_baron=function(){n.LogUtils.warn_baron("GameMgr.getInstance().preloadScene_baron\u8fd9\u91cc\u53ef\u4ee5\u52a0\u8f7d\u9700\u8981\u9884\u52a0\u8f7d\u7684\u573a\u666f"),cc.director.preloadScene("LobbyScene")},t.prototype.onLoadToWorldScene_baron=function(){cc.director.loadScene("LobbyScene",function(t,e){console.log("\u8df3\u8f6c\u6e38\u620f\u573a\u666f LobbyScene")})},t.prototype.onMainToGameScene_baron=function(){},t.prototype.onGameToGameWinScene_baron=function(){cc.director.loadScene("FMGameSettleWinScene",function(t,e){console.log("\u8df3\u8f6c\u6e38\u620f\u573a\u666f FMGameSettleWinScene")})},t.prototype.onGameToGameFailScene_baron=function(){cc.director.loadScene("FMGameSettleFailScene",function(t,e){console.log("\u8df3\u8f6c\u6e38\u620f\u573a\u666f FMGameSettleFailScene")})},t.prototype.onGameWinToScene_baron=function(){this.loadLobbyScene()},t.prototype.onGameFailToScene_baron=function(){this.loadLobbyScene()},t.prototype.saveGameData_baron=function(){},t._instance_baron=new t,t}();o.default=r,cc._RF.pop()},{"../Util/LogUtils":"LogUtils"}],GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"f114e3gdYZHb4K1+LcRHpc0","GameUI");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../utils/EventCenter"),i=t("../Constants"),s=t("../../../FrameWork/Script/Mgr/GameMgr"),c=t("./GameEndUI"),l=t("../../../FrameWork/Script/User/User"),u=t("../CustomUser"),p=t("../utils/SoundsManager"),h=t("../config/LevelConfig"),d=cc._decorator,f=d.ccclass,_=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnGame=[],e.plPause=null,e.plEnd=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.btnGame.forEach(function(e,o){e.on(cc.Node.EventType.TOUCH_START,t._touchBegin,t),e.on(cc.Node.EventType.TOUCH_END,t._touchEnd,t),e.on(cc.Node.EventType.TOUCH_CANCEL,t._touchEnd,t)},this),a.default.on(i.UIEvent.GAMEFAIL,this._reliveShow,this),a.default.on(i.UIEvent.GAMEWIN,this._winShow,this)},e.prototype.onDestroy=function(){cc.director.resume(),a.default.clearAllByNode(this)},e.prototype.start=function(){},e.prototype._touchBegin=function(t){a.default.emit(i.UIEvent.TOUCHDOWN,t.target.name)},e.prototype._touchEnd=function(t){a.default.emit(i.UIEvent.TOUCHUP,t.target.name)},e.prototype._reliveShow=function(){this.plEnd.isWin=!1,this.plEnd.node.active=!0,u.default.isLose=!0,moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype._winShow=function(){this.plEnd.isWin=!0,this.plEnd.node.active=!0,u.default.curLevelComplete=!0,l.default.addMoney_baron(u.default.levelData.LevelAward+u.default.extraRewardGold),u.default.extraRewardGold=0,l.default.getLeveNum_baron()<h.default.getInstance().getDataLength()&&l.default.getLeveNum_baron()==u.default.levelData.Id&&l.default.setLeveNum_baron(l.default.getLeveNum_baron()+1),s.default.getInstance_baron().saveGameData_baron(),u.default.isLose=!1},e.prototype.onClickPause=function(){p.default.click(),this.plPause.active=!0,this.scheduleOnce(function(){cc.director.pause()},.1)},e.prototype.onClickResume=function(){p.default.click(),this.plPause.active=!1,cc.director.resume()},e.prototype.onClickQuit=function(){p.default.click(),moosnow.platform.hideBanner(),s.default.getInstance_baron().loadLobbyScene()},e.prototype.getJoyStickPos=function(){return this.node.getChildByName("joystick").getPosition()},e.prototype.getNormalAttackButtonPos=function(){var t=this.node.getChildByName("skinButtons").getChildByName("normalAtk"),e=t.parent.convertToWorldSpaceAR(t.getPosition());return e.x-=.5*cc.visibleRect.width,e.y-=.5*cc.visibleRect.height,e},e.prototype.getSkill1ButtonPos=function(){var t=this.node.getChildByName("skinButtons").getChildByName("skill1"),e=t.parent.convertToWorldSpaceAR(t.getPosition());return e.x-=.5*cc.visibleRect.width,e.y-=.5*cc.visibleRect.height,e},e.prototype.getSkill2ButtonPos=function(){var t=this.node.getChildByName("skinButtons").getChildByName("skill2"),e=t.parent.convertToWorldSpaceAR(t.getPosition());return e.x-=.5*cc.visibleRect.width,e.y-=.5*cc.visibleRect.height,e},e.prototype.getSkill3ButtonPos=function(){var t=this.node.getChildByName("skinButtons").getChildByName("skill3"),e=t.parent.convertToWorldSpaceAR(t.getPosition());return e.x-=.5*cc.visibleRect.width,e.y-=.5*cc.visibleRect.height,e},r([_([cc.Node])],e.prototype,"btnGame",void 0),r([_(cc.Node)],e.prototype,"plPause",void 0),r([_(c.default)],e.prototype,"plEnd",void 0),e=r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../FrameWork/Script/User/User":"User","../Constants":"Constants","../CustomUser":"CustomUser","../config/LevelConfig":"LevelConfig","../utils/EventCenter":"EventCenter","../utils/SoundsManager":"SoundsManager","./GameEndUI":"GameEndUI"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"18898806SlCHrD9coqbNKRy","Game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CustomUser"),i=t("./Camera"),s=t("./utils/EventCenter"),c=t("./Constants"),l=t("./ui/component/Hud"),u=t("./CameraGhost"),p=t("./GhostNode"),h=t("./core/Character"),d=t("./core/ai/AINormal"),f=t("./utils/Utils"),_=t("./ui/component/HeroMask"),g=t("./utils/SoundsManager"),b=t("../../FrameWork/Script/User/User"),y=t("./utils/ResCenter"),m=t("./core/EnergyBall"),v=t("./ui/GuidingLayer"),A=t("./ui/GameUI"),S=t("./core/ai/AIMiddle"),w=cc._decorator,C=w.ccclass,I=w.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameLayer=null,e.uiLayer=null,e.camera=null,e.effs=null,e.huds=[],e.ghostRenderNode0=null,e.ghostRenderNode1=null,e.shadowBg=null,e.bgNode=null,e.bgFarNode=null,e.lblDamage=null,e.startFlag=null,e.superChaTu=[],e.plDoubleTime=null,e.ndDoubleWord=null,e.endingHeroMask=[],e.guidingLayer=null,e.btnEff1=null,e.btnEff2=null,e.state=c.GameState.FREE,e.characters=[],e.isWin=!1,e.bannerShowOnce=!1,e.aiConfig=[d.default,S.default],e}return n(e,t),e.prototype.onLoad=function(){g.default.playMusic(["bgm1","bgm2"][f.default.randomRange(0,1)]),cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,s.default.on(c.GameEvent.END,this._gameOver,this)},e.prototype.onDestroy=function(){s.default.clearAllByNode(this)},e.prototype.start=function(){this._createCharacters()},e.prototype.update=function(t){this.state!=c.GameState.END&&this._checkGameIsOver()},e.prototype._checkGameIsOver=function(){if(this.characters){for(var t=!1,e=!0,o=0,n=this.characters;o<n.length;o++){var r=n[o];r.isDead&&(t=!0,0==r.pid?this.isWin=!1:this.isWin=!0),r.props.hp<=r.props.hpShowBanner&&this._showBanner(),r.animator.curAnim&&(e=!1)}t&&e&&this._gameOver()}},e.prototype._showBanner=function(){},e.prototype._gameOver=function(){moosnow.platform.hideWXAllNative(),this.state=c.GameState.END,this.guidingLayer.node.active&&(a.default.setGuided(),this.guidingLayer.node.active=!1),this.isWin?(g.default.playEff("sound_15"),s.default.emit(c.UIEvent.GAMEWIN)):(g.default.playEff("sound_16"),s.default.emit(c.UIEvent.GAMEFAIL)),this.characters.forEach(function(t){t.reset(),t.enableGhost(!1)})},e.prototype._createCharacters=function(){this.bgNode.addChild(a.default.assets.gameBgs[0]),this.bgFarNode.addChild(a.default.assets.gameBgs[1]);for(var t=a.default.assets.roles[0].rid==a.default.assets.roles[1].rid,e=0;e<a.default.assets.roles.length;e++){var o=a.default.assets.roles[e],n=null,r=o.node;if(0==e)n=r.addComponent(h.default),r.y-=300,r.x=-300;else{var i=this.aiConfig[a.default.levelData.AiLevel-1];i||(i=this.aiConfig[1]),n=r.addComponent(i),r.y-=300,r.x=300}this.characters.push(n),r.group="role_"+e,this.gameLayer.addChild(r,2-e),n.gameCtrl=this,n.camera=this.camera,n.initProperty(o.rid,e,t),this.huds[e].init(n),this.superChaTu[e].initHeroId(o.rid),this.endingHeroMask[e].initHeroId(o.rid),n.ghostNode=this["ghostRenderNode"+e].getComponent(p.default),n.ghostNode.setTarget(n.node);var s=n.node.getChildByName("camera").getComponent(u.default);s.setRenderNode(this["ghostRenderNode"+e]),s.createGhost(r.groupIndex)}this.characters[0].setTarget(this.characters[1]),this.characters[1].setTarget(this.characters[0]),this.camera.setCharacters(this.characters),this._gameReady()},e.prototype._gameReady=function(){this.state=c.GameState.READY},e.prototype._gameStart=function(){var t=this;this.startFlag.active=!0,this.startFlag.x=.5*-cc.visibleRect.width-.5*this.startFlag.width;var e=.5*cc.visibleRect.width+this.startFlag.width,o=function(){t.state=c.GameState.START,t.characters.forEach(function(t,e){t.forceIdle(),t.fsmAct.forceIdle(),t.energyAutoTimer()},t),t._initDoubleTimeSchedule(),g.default.playEff("sound_13")};1!=b.default.getLeveNum_baron()||a.default.isGuided()||(o=function(){a.default.extraRewardGold=4e3,t.state=c.GameState.GUIDING,t.guidingLayer.node.active=!0,t.guidingLayer.setOverCall(t._guidingOver,t),t.guidingLayer.tipByStep(v.GuidingState.STEP1,t.uiLayer.getJoyStickPos().subSelf(cc.v2(100,100))),t.characters.forEach(function(t,e){t.forceIdle(),t.fsmAct.forceIdle(),0==e&&t.props.setMp(100)},t)}),cc.tween(this.startFlag).show().to(.3,{x:0},{easing:"quartOut"}).delay(1).to(.3,{x:e}).call(o).hide().start()},e.prototype._guidingOver=function(){a.default.setGuided(),this.state=c.GameState.START,this.characters.forEach(function(t,e){t.energyAutoTimer()},this)},e.prototype._getEff=function(t){return this.effs.getChildByName(t)},e.prototype._shadowTheBg=function(t){var e=150,o=.5;t||(e=0,o=1),this.shadowBg.opacity!=e&&(this.shadowBg.stopAllActions(),cc.tween(this.shadowBg).to(o,{opacity:e}).start())},e.prototype.onClickRecharge=function(){this.characters.forEach(function(t,e){t.props.reset(),t.props.setMp(t.props.mpMax)},this)},e.prototype._dealDamage=function(t,e){if(f.default.debug){var o=t.parent.convertToWorldSpaceAR(t.position);o.x-=.5*cc.visibleRect.width,o.y-=.5*cc.visibleRect.height-130;var n=cc.instantiate(this.lblDamage),r=n.getComponent(cc.Label);n.active=!0,r.string=Math.floor(e)+"",n.setPosition(o),n.runAction(cc.sequence(cc.spawn(cc.moveBy(1,0,50),cc.fadeOut(1)),cc.removeSelf())),this.gameLayer.addChild(n,3)}},e.prototype._showChaTu=function(t){var e=this.superChaTu[t];if(e.node.stopAllActions(),e.node.active=!0,t){var o=.5*cc.visibleRect.width+e.node.width;e.node.x=o,cc.tween(e.node).show().to(.3,{x:.5*cc.visibleRect.width},{easing:"quartOut"}).delay(1).to(.3,{x:o}).hide().start()}else{o=.5*-cc.visibleRect.width-e.node.width;e.node.x=o,cc.tween(e.node).show().to(.3,{x:.5*-cc.visibleRect.width},{easing:"quartOut"}).delay(1).to(.3,{x:o}).hide().start()}},e.prototype._initDoubleTimeSchedule=function(){var t=this,e=0;this.schedule(function(){t.state==c.GameState.START&&(30==e&&t._doubleTime(),e++)},1)},e.prototype._doubleTime=function(){g.default.playEff("sound_9"),this.characters.forEach(function(t,e){t.props.atk*=2}),this.plDoubleTime.active=!0,this.plDoubleTime.width=0,this.plDoubleTime.opacity=0,cc.tween(this.plDoubleTime).show().to(.5,{width:cc.visibleRect.width,opacity:130}).delay(1).to(.5,{opacity:0}).hide().start(),this.ndDoubleWord.scale=1.5,this.ndDoubleWord.opacity=0,this.ndDoubleWord.active=!0,cc.tween(this.ndDoubleWord).show().to(.5,{opacity:180,scale:1},{easing:"backInOut"}).delay(1).to(.5,{opacity:0}).hide().start()},e.prototype._createEnergyBall=function(t){var e=this;y.default.loadPrefabsInBundle(0,"texture/game/eff/energyBall",function(o){var n=cc.instantiate(o),r=n.getComponent(m.default),a=t.target.node.getPosition().clone(),i=e.huds[t.pid].getEnergyBarWorldPos();n.scale=.5,a.y+=100,n.setPosition(a);r.init(a,-300,i,e.camera.camera,function(){t.props.increaseEnergyByNormalAttack()},e),e.gameLayer.addChild(n,3)},this)},r([I(cc.Node)],e.prototype,"gameLayer",void 0),r([I(A.default)],e.prototype,"uiLayer",void 0),r([I(i.default)],e.prototype,"camera",void 0),r([I(cc.Node)],e.prototype,"effs",void 0),r([I([l.default])],e.prototype,"huds",void 0),r([I(cc.Node)],e.prototype,"ghostRenderNode0",void 0),r([I(cc.Node)],e.prototype,"ghostRenderNode1",void 0),r([I(cc.Node)],e.prototype,"shadowBg",void 0),r([I(cc.Node)],e.prototype,"bgNode",void 0),r([I(cc.Node)],e.prototype,"bgFarNode",void 0),r([I(cc.Node)],e.prototype,"lblDamage",void 0),r([I(cc.Node)],e.prototype,"startFlag",void 0),r([I([_.default])],e.prototype,"superChaTu",void 0),r([I(cc.Node)],e.prototype,"plDoubleTime",void 0),r([I(cc.Node)],e.prototype,"ndDoubleWord",void 0),r([I([_.default])],e.prototype,"endingHeroMask",void 0),r([I(v.default)],e.prototype,"guidingLayer",void 0),r([I(cc.Node)],e.prototype,"btnEff1",void 0),r([I(cc.Node)],e.prototype,"btnEff2",void 0),e=r([C],e)}(cc.Component);o.default=E,cc._RF.pop()},{"../../FrameWork/Script/User/User":"User","./Camera":"Camera","./CameraGhost":"CameraGhost","./Constants":"Constants","./CustomUser":"CustomUser","./GhostNode":"GhostNode","./core/Character":"Character","./core/EnergyBall":"EnergyBall","./core/ai/AIMiddle":"AIMiddle","./core/ai/AINormal":"AINormal","./ui/GameUI":"GameUI","./ui/GuidingLayer":"GuidingLayer","./ui/component/HeroMask":"HeroMask","./ui/component/Hud":"Hud","./utils/EventCenter":"EventCenter","./utils/ResCenter":"ResCenter","./utils/SoundsManager":"SoundsManager","./utils/Utils":"Utils"}],GhostNode:[function(t,e,o){"use strict";cc._RF.push(e,"2d9dc+nVHJF0rFqB0NqsMUy","GhostNode");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return n(e,t),e.prototype.onLoad=function(){this.node.zIndex=0},e.prototype.start=function(){this.enableGhost(!1)},e.prototype.update=function(t){},e.prototype.setTarget=function(t){this.target=t},e.prototype.enableGhost=function(t){var e=this;!this.target&&t||(t?(this.node.children.forEach(function(t,o){t.position=e.target.position},this),this.schedule(this.shadowFollow,.1,cc.macro.REPEAT_FOREVER)):(this.unschedule(this.shadowFollow),this.node.children.forEach(function(t,e){t.x=2e3},this)))},e.prototype.shadowFollow=function(){var t=this;this.node.children.forEach(function(e,o){t.target.position.sub(e.position).mag()>0&&(e.stopAllActions(),e.runAction(cc.moveTo(.1*o+.02,t.target.x,t.target.y)))})},e=r([i],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GlobalConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a5942otk25Mgrr0wzqvXokY","GlobalConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalConfigData=o.LvUnlockReward=void 0;var n=function(){return function(){}}();o.LvUnlockReward=n;var r=function(){return function(){}}();o.GlobalConfigData=r;var a=function(){function t(){this._data=new r}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this._data=t},t.prototype.getData=function(){return this._data},t}();o.default=a,cc._RF.pop()},{}],GoldGetDialogView:[function(t,e,o){"use strict";cc._RF.push(e,"27c06Doo4FEQqZC+TUJ3+/W","GoldGetDialogView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/ExDialogView"),i=t("./GoldItem"),s=t("../../CustomUser"),c=t("../../utils/Utils"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.lblTime=null,e.shopView=null,e.unlockDialogView=null,e.levelSelectView=null,e.armorView=null,e.leftTime=0,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.schedule(this._timerSchedule,1)},e.prototype.onEnable=function(){var e=this;t.prototype.onEnable.call(this),moosnow.platform.showInter(null),this.initLeftTime(),this.items.forEach(function(t,o){t.setGoldView(e),t._updateItemInfo()})},e.prototype._timerSchedule=function(){this.leftTime--,this.leftTime<0?(this.leftTime=0,this.rewardRecover()):this.lblTime.string="<b>"+c.default.getTimeStr(this.leftTime)+"</b>"},e.prototype.initLeftTime=function(){if(this.leftTime=Math.floor(86400-.001*((new Date).getTime()-s.default.getRewardTimestamp())),this.leftTime>0){s.default.canGetGold=!1;var t=c.default.getTimeStr(this.leftTime);this.lblTime.node.active=!0,this.lblTime.string="<b>"+t+"</b>"}else this.rewardRecover()},e.prototype.rewardRecover=function(){this.lblTime.node.active=!1,s.default.canGetGold=!0,this.items.forEach(function(t,e){t._updateItemInfo()})},e.prototype.onClickClose=function(){t.prototype.onClickClose.call(this),moosnow.platform.hideWXAllNative(),0==this.shopView.active&&0==this.unlockDialogView.active&&0==this.levelSelectView.active&&0==this.armorView.active?moosnow.platform.showInter(function(){moosnow.platform.showfourCustomNativeHorizontalLeftAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM)}):this.shopView.active?moosnow.platform.showMoreRightCustomNativeAd():this.unlockDialogView.active?(moosnow.platform.showMoreLeftCustomNativeAd(),moosnow.platform.showMoreRightCustomNativeAd()):this.levelSelectView.active?moosnow.platform.showfourCustomNativeHorizontalRightAd():this.armorView.active&&moosnow.platform.showMoreRightCustomNativeAd()},r([p([i.default])],e.prototype,"items",void 0),r([p(cc.RichText)],e.prototype,"lblTime",void 0),r([p(cc.Node)],e.prototype,"shopView",void 0),r([p(cc.Node)],e.prototype,"unlockDialogView",void 0),r([p(cc.Node)],e.prototype,"levelSelectView",void 0),r([p(cc.Node)],e.prototype,"armorView",void 0),e=r([u],e)}(a.default);o.default=h,cc._RF.pop()},{"../../CustomUser":"CustomUser","../../utils/Utils":"Utils","../component/ExDialogView":"ExDialogView","./GoldItem":"GoldItem"}],GoldItem:[function(t,e,o){"use strict";cc._RF.push(e,"900eeBFz6JNdK33h5F6n9zI","GoldItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../CustomUser"),i=t("../../../../FrameWork/Script/User/User"),s=t("../../../../FrameWork/Script/Mgr/GameMgr"),c=t("../../utils/SoundsManager"),l=t("../../utils/ResCenter"),u=t("../../config/GlobalConfig"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblGoldNum=null,e.btnGet=null,e.ndAlreadGet=null,e.isVideoGet=!1,e}return n(e,t),e.prototype.onClickGetGold=function(){c.default.click(),this.isVideoGet?(moosnow.platform.reportEvent("video",{type:2}),moosnow.platform.showVideo(function(t){switch(t){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:moosnow.platform.reportEvent("videofinish",{type:2}),i.default.addMoney_baron(u.default.getInstance().getData().goldVideo),l.default.createTreasureBox({type:"gold",rewardNum:u.default.getInstance().getData().goldVideo}),s.default.getInstance_baron().saveGameData_baron()}})):(a.default.setRewardTimestamp((new Date).getTime()),i.default.addMoney_baron(u.default.getInstance().getData().goldFree),l.default.createTreasureBox({type:"gold",rewardNum:u.default.getInstance().getData().goldFree}),s.default.getInstance_baron().saveGameData_baron(),this._switchButtonState(!1),this.goldView.initLeftTime())},e.prototype.setGoldView=function(t){this.goldView=t},e.prototype._updateItemInfo=function(){this.isVideoGet?(this.lblGoldNum.string=""+u.default.getInstance().getData().goldVideo,this._switchButtonState(a.default.canVideoGetGold)):(this.lblGoldNum.string=""+u.default.getInstance().getData().goldFree,this._switchButtonState(a.default.canGetGold))},e.prototype._switchButtonState=function(t){t?(this.btnGet.active=!0,this.ndAlreadGet.active=!1):(this.btnGet.active=!1,this.ndAlreadGet.active=!0)},r([d(cc.Label)],e.prototype,"lblGoldNum",void 0),r([d(cc.Node)],e.prototype,"btnGet",void 0),r([d(cc.Node)],e.prototype,"ndAlreadGet",void 0),r([d(cc.Boolean)],e.prototype,"isVideoGet",void 0),e=r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../CustomUser":"CustomUser","../../config/GlobalConfig":"GlobalConfig","../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager"}],GuidingLayer:[function(t,e,o){"use strict";cc._RF.push(e,"bf99dkO+KBMlLOJqmtKCx1U","GuidingLayer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.GuidingState=void 0;var a,i=cc._decorator,s=i.ccclass,c=i.property;(function(t){t[t.NONE=0]="NONE",t[t.STEP1=1]="STEP1",t[t.STEP2=2]="STEP2",t[t.STEP3=3]="STEP3",t[t.STEP4=4]="STEP4",t[t.STEP5=5]="STEP5",t[t.STEP6=6]="STEP6"})(a=o.GuidingState||(o.GuidingState={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.plTip=null,e.tipNodes=[],e.tipHand=null,e.state=a.NONE,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.tipByStep=function(t,e){this.state=t,this["step"+t]&&this["step"+t](e)},e.prototype.step1=function(t){this.maskActByPos(t),this.setTip("6"),this.tipMoveInFromRight()},e.prototype.step2=function(t){this.maskActByPos(t),this.setTip("2"),this.tipMoveInFromLeft()},e.prototype.step3=function(t){this.maskActByPos(t),this.setTip("4"),this.tipMoveInFromLeft()},e.prototype.step4=function(t){this.maskActByPos(t),this.setTip("5"),this.tipMoveInFromLeft()},e.prototype.step5=function(t){this.maskActByPos(t),this.setTip("3"),this.tipMoveInFromLeft()},e.prototype.step6=function(t){this.mask.active=!1,this.tipHand.active=!1,this.setTip("7"),this.tipMoveRoundOver(),this.guidingOverCall&&this.guidingOverCall.call(this.caller)},e.prototype.maskActByPos=function(t){var e=this;this.mask.stopAllActions(),this.mask.setPosition(t),cc.tween(this.mask).repeatForever(cc.tween().call(function(){e.mask.width=500,e.mask.height=500}).to(1,{width:300,height:300})).start(),this.handTipUpDown(t)},e.prototype.handTipMove=function(t){var e=this;this.tipHand.stopAllActions(),cc.tween(this.tipHand).repeatForever(cc.tween().call(function(){e.tipHand.setPosition(t)}).to(1,{x:t.x+300})).start()},e.prototype.handTipUpDown=function(t){var e=this;this.tipHand.stopAllActions(),cc.tween(this.tipHand).repeatForever(cc.tween().call(function(){e.tipHand.setPosition(t)}).to(.5,{y:t.y+50})).start()},e.prototype.setTip=function(t){this.tipNodes.forEach(function(e,o){e.name==t?e.active=!0:e.active=!1})},e.prototype.tipMoveInFromRight=function(){var t=.5*cc.visibleRect.width;this.plTip.stopAllActions(),this.plTip.setPosition(t+.5*this.plTip.width,this.plTip.y),cc.tween(this.plTip).to(.5,{x:t-.5*this.plTip.width},{easing:"backOut"}).start()},e.prototype.tipMoveInFromLeft=function(){var t=.5*cc.visibleRect.width;this.plTip.stopAllActions(),this.plTip.setPosition(-t-.5*this.plTip.width,this.plTip.y),cc.tween(this.plTip).to(.5,{x:-t+.5*this.plTip.width},{easing:"backOut"}).start()},e.prototype.tipMoveRoundOver=function(){var t=this,e=.5*cc.visibleRect.width;this.plTip.stopAllActions(),this.plTip.setPosition(-e-.5*this.plTip.width,this.plTip.y);cc.tween(this.plTip).to(.5,{x:-e+.5*this.plTip.width},{easing:"backOut"}).delay(1).to(.5,{x:-e-.5*this.plTip.width}).call(function(){t.node.active=!1}).start()},e.prototype.setOverCall=function(t,e){this.caller=e,this.guidingOverCall=t},r([c(cc.Node)],e.prototype,"mask",void 0),r([c(cc.Node)],e.prototype,"plTip",void 0),r([c([cc.Node])],e.prototype,"tipNodes",void 0),r([c(cc.Node)],e.prototype,"tipHand",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],HeroConfig:[function(t,e,o){"use strict";cc._RF.push(e,"e4c13wgIDhC+aVU+jNf5FRF","HeroConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.HeroConfigData=void 0;var n=function(){return function(){}}();o.HeroConfigData=n;var r=function(){function t(){this._data=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this._data=t},t.prototype.getDatas=function(){return this._data},t.prototype.getData=function(t){return this._data[t]},t.prototype.getDataLength=function(){return this._data.length},t.prototype.getDataById=function(t){for(var e=null,o=0,n=this._data;o<n.length;o++){var r=n[o];if(t==r.Id){e=r;break}}return e},t}();o.default=r,cc._RF.pop()},{}],HeroMask:[function(t,e,o){"use strict";cc._RF.push(e,"b32370qh6RNro5Smqt+M00g","HeroMask");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ResCenter"),i=cc._decorator,s=i.ccclass,c=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e.isHalfBody=!1,e}return n(e,t),e.prototype.initHeroId=function(t){var e=this;this.isHalfBody?a.default.loadSpriteFrameFromBundle("roles/half_"+t,function(t){e.sp.spriteFrame=t},this):a.default.loadSpriteFrameFromBundle("roles/hero_"+t,function(t){e.sp.spriteFrame=t},this)},r([c(cc.Sprite)],e.prototype,"sp",void 0),r([c(cc.Boolean)],e.prototype,"isHalfBody",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter"}],HeroProperty:[function(t,e,o){"use strict";cc._RF.push(e,"c076dt0kwZIK7VGos26AoJo","HeroProperty");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.HeroProperty=o.EnergyConsumeType=void 0;var r=t("./Property"),a=t("../CustomUser"),i=t("../config/GlobalConfig");(function(t){t[t.RangedAttack=0]="RangedAttack",t[t.SuperAttack=1]="SuperAttack"})(o.EnergyConsumeType||(o.EnergyConsumeType={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.energyConsumeCfg=[10,50],e}return n(e,t),e.prototype.initData=function(t,e,o){this.initBaseData(t);for(var n=a.default.getHeroData(),r=!1,i=0;i<n.length;i++){var s=n[i];if(s.id==this.id){this.heroData=s,r=!0;break}}this.initHeroData(e,o),r||(0==this.unlockGoldNum&&0==this.unlockVideoTime&&this.unlock(),this.heroData.id=this.id,n.push(this.heroData))},e.prototype.initHeroData=function(t,e){if(0==t)this.setLevelData();else{var o=i.default.getInstance().getData();this.hpMax=Math.floor(this.hpBase+this.hpBase*this.heroData.lvHp*o.hpIncrease*.01),this.atkMax=Math.floor(this.atkBase+this.atkBase*this.heroData.lvAtk*o.atkIncrease*.01),this.setBuff(e)}this.reset()},e.prototype.setBuff=function(t){a.default.tempBuff&&(this.equipArmor=a.default.tempBuff.equipArmor,this.equipArmorHead=a.default.tempBuff.equipHead,this.hpMax+=a.default.tempBuff.hpIncrease,this.autoEnergyIncrease=a.default.tempBuff.energyIncrease,this.autoEnergyInterval=a.default.tempBuff.energyInterval,this.atkMax+=a.default.tempBuff.atkIncrease,this.armorId=a.default.tempBuff.armorPathId,this.armorSlotName=a.default.tempBuff.armorSlotName,this.hpBuffed=a.default.tempBuff.hpIncrease,t&&(a.default.tempBuff=null))},e.prototype.setLevelData=function(){if(a.default.levelData){var t=a.default.levelData,e=i.default.getInstance().getData();this.hpMax=Math.floor((this.hpBase+this.hpBase*t.HpLevel*e.hpIncrease*.01)*t.HpRatio*.01),this.atkMax=Math.floor((this.atkBase+this.atkBase*t.AttackLevel*e.atkIncrease*.01)*t.AttackRatio*.01)}},e.prototype.addLvAtk=function(){t.prototype.addLvAtk.call(this),this.initHeroData()},e.prototype.addLvHp=function(){t.prototype.addLvHp.call(this),this.initHeroData()},e.prototype.getComboDamage=function(t){if(this.comboPer[t])return-Math.floor(this.atk*this.comboPer[t]*.01)},e.prototype.getSuperSkillDamage=function(t){if(this.uniquePer[t])return-Math.floor(this.atk*this.uniquePer[t]*.01)},e.prototype.getRangedDamage=function(){if(this.longRangePer)return-Math.floor(this.atk*this.longRangePer*.01)},e.prototype.increaseEnergyByNormalAttack=function(){this.changeMp(this.atkEnergyIncrease)},e.prototype.decreaseEnergy=function(t){this.changeMp(-this.energyConsumeCfg[t])},e.prototype.isEnergyEnough=function(t){return this.mp>=this.energyConsumeCfg[t]},e}(r.Property);o.HeroProperty=s,cc._RF.pop()},{"../CustomUser":"CustomUser","../config/GlobalConfig":"GlobalConfig","./Property":"Property"}],HttpTools:[function(t,e,o){"use strict";cc._RF.push(e,"8304duyaDtLnrgjBlk2m8bp","HttpTools"),Object.defineProperty(o,"__esModule",{value:!0}),o.HttpTools=void 0;var n=function(){function t(){}return t.Requset=function(e,o,n,r,a,i,s,c){var l=this;void 0===s&&(s="json"),void 0===c&&(c=null);var u=new Laya.HttpRequest;u.once(Laya.Event.COMPLETE,null,function(t){if(200!=t.code&&0!=t.code)return l.Error(u,t),void(a&&a.call(t));r&&r.call(n,t)}),u.once(Laya.Event.ERROR,n,a),u.once(Laya.Event.ERROR,t,this.Error),u.send(e,o,i,s,c)},t.Post=function(t,e,o,n,r,a,i){void 0===a&&(a="json"),void 0===i&&(i=null),console.log("post\u8bf7\u6c42\u7684\u53c2\u6570\u662f-------",e),this.Requset(t,e,o,n,r,"post",a,i)},t.Get=function(t,e,o,n,r,a,i){void 0===a&&(a="json"),void 0===i&&(i=null),this.Requset(t,e,o,n,r,"get",a,i)},t.PostJson=function(t,e,o,n,r){this.Post(t,e,o,n,r,"json")},t.Error=function(t,e){console.log("Requset Error, Url:"+t.url+", Error Message:"+JSON.stringify(e))},t.JsonToKeyValue=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},t}();o.HttpTools=n,cc._RF.pop()},{}],Hud:[function(t,e,o){"use strict";cc._RF.push(e,"670bcil9TFCA4beubzpw4EK","Hud");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Progress"),i=t("./HeroMask"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.heroMask=null,e.lblNick=null,e.plCombo=null,e.lblCombo=null,e.hpBar=null,e.energyBar=null,e.energyFire=null,e.character=null,e}return n(e,t),e.prototype.onLoad=function(){this.plCombo.active=!1},e.prototype.update=function(){if(this.character){var t=this.character.props.hp;null!=t&&t!=this.hpBar.curValue&&this.hpBar.updateProgress(t,!0,!0);var e=this.character.props.mp;null!=e&&e!=this.energyBar.curValue&&(e==this.character.props.mpMax?this.energyFire.active=!0:this.energyFire.active=!1,this.energyBar.updateProgress(e));var o=String(this.character.combo);o!=this.lblCombo.string&&(this.lblCombo.string=o,"0"==o?(this.plCombo.active=!1,this.unschedule(this.comboSchedule)):(this.plCombo.active=!0,this.lblCombo.node.stopAllActions(),this.lblCombo.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1))),this.unschedule(this.comboSchedule),this.scheduleOnce(this.comboSchedule,8)))}},e.prototype.init=function(t){this.character=t,this.lblNick&&(this.lblNick.string=t.props.name),this.lblCombo&&(this.lblCombo.string=""),this.hpBar.setMaxValue(t.props.hp-t.props.hpBuffed),this.hpBar.setAdditionMaxValue(t.props.hpBuffed),this.energyBar.setMaxValue(100),this.hpBar.updateProgress(t.props.hp,!1,!0),this.energyBar.updateProgress(0,!1),this.heroMask.initHeroId(t.props.id)},e.prototype.comboSchedule=function(){this.plCombo.active=!1,this.character.resetCombo()},e.prototype.getEnergyBarWorldPos=function(){var t=this.energyBar.node.parent.convertToWorldSpaceAR(this.energyBar.node.getPosition());return t.x-=.5*cc.visibleRect.width,t.y-=.5*cc.visibleRect.height,t},r([l(i.default)],e.prototype,"heroMask",void 0),r([l(cc.Label)],e.prototype,"lblNick",void 0),r([l(cc.Node)],e.prototype,"plCombo",void 0),r([l(cc.Label)],e.prototype,"lblCombo",void 0),r([l(a.default)],e.prototype,"hpBar",void 0),r([l(a.default)],e.prototype,"energyBar",void 0),r([l(cc.Node)],e.prototype,"energyFire",void 0),e=r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./HeroMask":"HeroMask","./Progress":"Progress"}],JiaTeLin:[function(t,e,o){"use strict";cc._RF.push(e,"cfe67/lDbJI/ZKwYtxBOvIp","JiaTeLin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Throwing"),i=t("../../utils/ResCenter"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.createEff=function(){var t=this;i.default.loadPrefabsInBundle(1,"roles/hero_2/beatenEff/eff",function(e){var o=cc.instantiate(e);o.getComponent(cc.Animation).on("finished",t.effectAnimationOver,t);var n=t.node.position.clone();t.target&&((n=t.target.position.clone()).y+=150),o.setPosition(n),t.node.parent.addChild(o,2)},this)},e.prototype.effectAnimationOver=function(t,e){e._target.node.removeFromParent(),this.node.removeFromParent()},e=r([c],e)}(a.default));o.default=l,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","./Throwing":"Throwing"}],JoystickEnum:[function(t,e,o){"use strict";cc._RF.push(e,"2ea30KbhrhMPqzB2TBJWqIt","JoystickEnum"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={JoystickType:cc.Enum({FIXED:0,FOLLOW:1}),DirectionType:cc.Enum({FOUR:4,EIGHT:8,ALL:0}),SpeedType:cc.Enum({STOP:0,NORMAL:1,FAST:2}),EventType:cc.Enum({TOUCH_START:"touchStart",TOUCH_MOVE:"touchMove",TOUCH_END:"touchEnd",CHANGE_JOYSTICK_TYPE:"changeJoystickType"})},cc._RF.pop()},{}],Joystick:[function(t,e,o){"use strict";cc._RF.push(e,"09e02XgE71BRamIy6OEQ1Gc","Joystick");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/EventCenter"),i=t("./JoystickEnum"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stick=null,e.bg=null,e.joystickType=i.default.JoystickType.FIXED,e.directionType=i.default.DirectionType.ALL,e.validRadius=0,e._stickPos=null,e._touchLocation=null,e}return n(e,t),e.prototype.onLoad=function(){this._radius=this.bg.width/2,this._initTouchEvent(),this.joystickType===i.default.JoystickType.FOLLOW&&(this.node.opacity=0)},e.prototype.onEnable=function(){a.default.on(i.default.EventType.CHANGE_JOYSTICK_TYPE,this._onChangeJoystickType,this)},e.prototype.onDisable=function(){a.default.off(i.default.EventType.CHANGE_JOYSTICK_TYPE,this._onChangeJoystickType,this)},e.prototype._onChangeJoystickType=function(t){this.joystickType=t,this.node.opacity=t===i.default.JoystickType.FIXED?255:0},e.prototype._initTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,this)},e.prototype._touchStartEvent=function(t){var e=this.node.convertToNodeSpaceAR(t.getLocation()),o=null;if(this.joystickType===i.default.JoystickType.FIXED){this._stickPos=this.bg.getPosition(),o=e.sub(this.bg.getPosition()).normalize();var n=cc.Vec2.distance(e,this._stickPos);if(this._radius>n)this.stick.setPosition(e);else{var r=this._stickPos.x+o.x*this._radius,s=this._stickPos.y+o.y*this._radius;this.stick.setPosition(cc.v2(r,s))}n<this.validRadius&&(o.x=0,o.y=0)}else this.joystickType===i.default.JoystickType.FOLLOW&&(this._stickPos=e,this.node.opacity=255,this._touchLocation=t.getLocation(),o=cc.Vec2.ZERO,this.bg.setPosition(e),this.stick.setPosition(e));a.default.emit(i.default.EventType.TOUCH_START,{event:t,joystickType:this.joystickType,speedType:i.default.SpeedType.NORMAL,vector:o})},e.prototype._touchMoveEvent=function(t){if(this.joystickType===i.default.JoystickType.FOLLOW&&this._touchLocation===t.getLocation())return!1;var e,o=this.bg.convertToNodeSpaceAR(t.getLocation()),n=o.mag(),r=this._stickPos.x+o.x,s=this._stickPos.y+o.y,c=cc.v2(r,s).sub(this.bg.getPosition()).normalize();if(this._radius>n)this.stick.setPosition(cc.v2(r,s)),e=i.default.SpeedType.NORMAL;else{var l=this._stickPos.x+c.x*this._radius,u=this._stickPos.y+c.y*this._radius;this.stick.setPosition(cc.v2(l,u)),e=i.default.SpeedType.FAST}n<this.validRadius&&(c.x=0,c.y=0),a.default.emit(i.default.EventType.TOUCH_MOVE,{event:t,joystickType:this.joystickType,speedType:e,vector:c})},e.prototype._touchEndEvent=function(t){this.stick.setPosition(this.bg.getPosition()),this.joystickType===i.default.JoystickType.FOLLOW&&(this.node.opacity=0),a.default.emit(i.default.EventType.TOUCH_END,{event:t,joystickType:this.joystickType,speedType:i.default.SpeedType.STOP})},r([l({type:cc.Node,displayName:"Stick",tooltip:"\u6447\u6746"})],e.prototype,"stick",void 0),r([l({type:cc.Node,displayName:"Bg",tooltip:"\u6447\u6746\u80cc\u666f"})],e.prototype,"bg",void 0),r([l({type:i.default.JoystickType,displayName:"Touch Type",tooltip:"\u89e6\u6478\u7c7b\u578b"})],e.prototype,"joystickType",void 0),r([l({type:i.default.DirectionType,displayName:"Direction Type",tooltip:"\u65b9\u5411\u7c7b\u578b"})],e.prototype,"directionType",void 0),r([l({type:cc.Integer,tooltip:"\u6447\u6746\u6709\u6548\u534a\u5f84"})],e.prototype,"validRadius",void 0),e=r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../utils/EventCenter":"EventCenter","./JoystickEnum":"JoystickEnum"}],KeyboardCenter:[function(t,e,o){"use strict";cc._RF.push(e,"1a423j86WBOxq5xxVQKOMjv","KeyboardCenter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./EventCenter"),i=t("../ui/joystick/JoystickEnum"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vect=cc.v2(),e}return n(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.start=function(){},e.prototype.onKeyDown=function(t){switch(t.keyCode){case 65:this.vect.x=-1;break;case 68:this.vect.x=1;break;case 87:this.vect.y=1}a.default.emit(i.default.EventType.TOUCH_START,{vector:this.vect})},e.prototype.onKeyUp=function(t){switch(t.keyCode){case 65:case 68:this.vect.x=0;break;case 87:this.vect.y=0}a.default.emit(i.default.EventType.TOUCH_END,{vector:this.vect})},e=r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../ui/joystick/JoystickEnum":"JoystickEnum","./EventCenter":"EventCenter"}],LevelConfig:[function(t,e,o){"use strict";cc._RF.push(e,"1446fZKvfJKdKB6nYMZBPYZ","LevelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelConfigData=void 0;var n=function(){return function(){}}();o.LevelConfigData=n;var r=function(){function t(){this._data=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this._data=t},t.prototype.getDatas=function(){return this._data},t.prototype.getData=function(t){return this._data[t]},t.prototype.getDataLength=function(){return this._data.length},t}();o.default=r,cc._RF.pop()},{}],LevelPageView:[function(t,e,o){"use strict";cc._RF.push(e,"e45b4Dr+5RGpLt8SDcsDreY","LevelPageView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/Utils"),i=t("../../config/LevelConfig"),s=t("../../CustomUser"),c=t("../component/listview/ListView"),l=t("../../../../FrameWork/Script/User/User"),u=t("../component/ExPageIndicator"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(e){var o=t.call(this)||this;return o.curLevel=0,o.curLevel=l.default.getLeveNum_baron(),o.setDataSet_baron(e),o}return n(e,t),e.prototype.updateView_baron=function(t,e,o){var n=t.getChildByName("item_unlocked"),r=t.getChildByName("item_locked"),i=null;if(this.curLevel>e){r.active=!1,n.active=!0;var c=(i=n).getChildByName("frame");this.curLevel==e+1?(c.active=!0,s.default.levelData=o,this.lastItem=i):c.active=!1}else r.active=!0,n.active=!1,i=r;a.default.findChild(i,"New Layout/font_0").getComponent(cc.Label).string=e+1+""},e.prototype.onClickItem_baron=function(t,e,o){var n=t.getChildByName("item_unlocked"),r=t.getChildByName("item_locked");if(n.active){if(this.lastItem){if(this.lastItem==n)return;this.lastItem.getChildByName("frame").active=!1}s.default.levelData=e;var i=n.getChildByName("frame");i.active=!0,i.opacity=0,i.stopAllActions(),i.runAction(cc.fadeIn(.2)),this.lastItem=n}else if(r.active){var c=r.getChildByName("lock");a.default.shake(c,.05)}},e}(c.AbsAdapter),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cancelTouch=!0,e.indicator=null,e}return n(e,t),e.prototype.onLoad=function(){if(t.prototype.onLoad.call(this),this.cancelTouch){var e=this.getScrollView_baron();e._onTouchBegan=function(){},e._onTouchMoved=function(){},e._onTouchEnded=function(){},e._onTouchCancelled=function(){}}},e.prototype.start=function(){var t=new f(i.default.getInstance().getDatas());this.setAdapter_baron(t),this.pager.scrollToPageByIndex_baron(l.default.getLeveNum_baron(),8),this.indicator.init(this.pager.getPageCount_baron(),this.pager.getPageCount_baron()-this.pager.getCurrentPage_baron()-1)},e.prototype.onClickPageUp=function(){this.pager.canPrePage_baron()?(this.pager.prePage_baron(),this.indicator.updateIndicator(this.pager.getPageCount_baron()-this.pager.getCurrentPage_baron()-1)):console.log("\u5df2\u5230\u7b2c\u4e00\u9875")},e.prototype.onClickPageDown=function(){this.pager.canNextPage_baron()?(this.pager.nextPage_baron(),this.indicator.updateIndicator(this.pager.getPageCount_baron()-this.pager.getCurrentPage_baron()-1)):console.log("\u5df2\u5230\u6700\u540e\u4e00\u9875")},r([d(cc.Boolean)],e.prototype,"cancelTouch",void 0),r([d(u.default)],e.prototype,"indicator",void 0),e=r([h],e)}(c.default);o.default=_,cc._RF.pop()},{"../../../../FrameWork/Script/User/User":"User","../../CustomUser":"CustomUser","../../config/LevelConfig":"LevelConfig","../../utils/Utils":"Utils","../component/ExPageIndicator":"ExPageIndicator","../component/listview/ListView":"ListView"}],LevelSelectView:[function(t,e,o){"use strict";cc._RF.push(e,"58a2aJoYDxMm63zx+Aw1BMw","LevelSelectView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/ExDialogView"),i=t("./ArmorDialogView"),s=t("../../utils/SoundsManager"),c=t("../../../../FrameWork/Script/User/User"),l=t("../component/HeroMask"),u=t("../../config/GlobalConfig"),p=t("../../core/HeroProperty"),h=t("../../CustomUser"),d=t("../../config/ArmorConfig"),f=t("../../utils/Utils"),_=t("../../config/StrengthConfig"),g=t("../../../../FrameWork/Script/Mgr/GameMgr"),b=t("../../utils/ResCenter"),y=cc._decorator,m=y.ccclass,v=y.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.armorView=null,e.unlockReward=null,e.unlockRewardRoleMask=null,e.unlockRewardTip=[],e.gouxuanCheck=null,e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),moosnow.platform.hideWXAllNative(),moosnow.platform.hideBanner(),moosnow.platform.showfourCustomNativeHorizontalRightAd(),this.initUnlockRewardView(),g.default.getInstance_baron().checkBoxWatchVideoTimes++;var e=!1,o=moosnow.data.getScene();moosnow.Common.isEmpty(o)||(e="1001"==o||"1089"==o||g.default.getInstance_baron().checkBoxWatchVideoTimes>0&&g.default.getInstance_baron().checkBoxWatchVideoTimes%2==0),this.gouxuanCheck.active=e},e.prototype.onClickNext=function(){if(moosnow.platform.hideWXAllNative(),s.default.click(),this.gouxuanCheck.active){var t=this,e=function(){h.default.tempBuff=new h.TempBuff;var e=d.default.getInstance().getData(f.default.randomRange(0,d.default.getInstance().getDataLength()-1)),o=_.default.getInstance().getData(f.default.randomRange(0,_.default.getInstance().getDataLength()-1)),n=h.default.tryHeroId?h.default.tryHeroId:h.default.getHeroId(),r=new p.HeroProperty;r.initData(n),t._heroProp=r,h.default.tempBuff.hpIncrease=Math.floor(e.HP*t._heroProp.hpMax*.01),h.default.tempBuff.setEquipArmor(),h.default.tempBuff.setArmor(e.pathId,e.skinName),h.default.tempBuff.energyInterval=e.Interval,h.default.tempBuff.energyIncrease=e.EnergyIncrease,h.default.tempBuff.setEquipHead(),h.default.tempBuff.setArmor(e.pathId,e.skinName),h.default.tempBuff.atkIncrease=Math.floor(o.AtkIncrease*t._heroProp.atk*.01),g.default.getInstance_baron().loadTransitionScene()};moosnow.platform.reportEvent("video",{type:18}),moosnow.platform.showVideo(function(t){switch(t){case moosnow.VIDEO_STATUS.NOTEND:b.default.createToast("\u89c2\u770b\u89c6\u9891\u83b7\u5f97\u6ee1\u72b6\u6001\u5f00\u5c40!");break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:moosnow.platform.reportEvent("videofinish",{type:18}),e()}})}else this.armorView.otherHideView.push(this.lastView),this.armorView.lastView=this.node,this.armorView.node.active=!0},e.prototype.onGouxuankuangCheck=function(){this.gouxuanCheck.active=!this.gouxuanCheck.active},e.prototype.onClickClose=function(){t.prototype.onClickClose.call(this),moosnow.platform.hideWXAllNative(),moosnow.platform.showInter(function(){moosnow.platform.showfourCustomNativeHorizontalLeftAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM)})},e.prototype.initUnlockRewardView=function(){var t=u.default.getInstance().getData(),e=null,o=0;if(t.levelUnlockRewards)for(var n=0;n<t.levelUnlockRewards.length;n++){var r=t.levelUnlockRewards[n],a=new p.HeroProperty;if(a.initData(r.value),c.default.getLeveNum_baron()<r.lv&&!a.isUnlocked()){e=r,o=n;break}}e?(this.unlockReward.active=!0,this.unlockRewardRoleMask.initHeroId(e.value),this.unlockRewardTip.forEach(function(t,e){t.active=e==o})):this.unlockReward.active=!1},r([v(i.default)],e.prototype,"armorView",void 0),r([v(cc.Node)],e.prototype,"unlockReward",void 0),r([v(l.default)],e.prototype,"unlockRewardRoleMask",void 0),r([v([cc.Node])],e.prototype,"unlockRewardTip",void 0),r([v(cc.Node)],e.prototype,"gouxuanCheck",void 0),e=r([m],e)}(a.default);o.default=A,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../CustomUser":"CustomUser","../../config/ArmorConfig":"ArmorConfig","../../config/GlobalConfig":"GlobalConfig","../../config/StrengthConfig":"StrengthConfig","../../core/HeroProperty":"HeroProperty","../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../../utils/Utils":"Utils","../component/ExDialogView":"ExDialogView","../component/HeroMask":"HeroMask","./ArmorDialogView":"ArmorDialogView"}],ListView:[function(t,e,o){"use strict";cc._RF.push(e,"af0dbPb0NBIebcEuKCx0t2a","ListView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i},a=this&&this.__awaiter||function(t,e,o,n){function r(t){return t instanceof o?t:new o(function(e){e(t)})}return new(o||(o=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function s(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?o(t.value):r(t.value).then(i,s)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.AbsAdapter=o.Pager=void 0;var s=cc.Component,c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.itemPrefabTemplate=null,e.spacing=cc.v2(0,0),e.margin=cc.rect(0,0,0,0),e.spawnCount=2,e.column=1,e.scrollView=null,e.emptyView=null,e.content=null,e.adapter=null,e._items=new cc.NodePool,e._filledIds={},e.horizontal=!1,e._itemHeight=1,e._itemWidth=1,e._itemsVisible=1,e.dataChanged=!1,e._isInited=!1,e.visibleRange=[-1,-1],e.comp=null,e}return n(e,t),e.prototype.onLoad=function(){this.init_baron(),this.pager=new h(this),this.scrollView},e.prototype.setAdapter_baron=function(t){return a(this,void 0,void 0,function(){return i(this,function(e){return this.adapter===t?(this.notifyUpdate_baron(),[2]):(this.adapter=t,null==this.adapter?(console.warn("adapter \u4e3a\u7a7a."),[2]):null==this.itemTemplate&&null==this.itemPrefabTemplate?(console.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."),[2]):(this.visibleRange[0]=this.visibleRange[1]=-1,this.recycleAll_baron(),this.notifyUpdate_baron(),[2]))})})},e.prototype.getAdapter_baron=function(){return this.adapter},e.prototype.getScrollView_baron=function(){return this.scrollView},e.prototype.getAllItems_baron=function(){return this._items},e.prototype.scrollToPage_baron=function(t,e,o){if(!this.adapter||!this.scrollView)return!1;this.adapter.getCount_baron();if(this.horizontal){var n=0,r=this.content.width,a=this.getColumnWH_baron();if(e)n=a*e;else{var i=this.content.parent.width;n=Math.floor(i/a)*a}return this.scrollView.stopAutoScroll(),this.scrollView.scrollToOffset(cc.v2(n*t,0),o),n*(t+1)>=r}var s=this.content.height,c=this.getColumnWH_baron(),l=0;if(e)l=c*e;else{var u=this.content.parent.height;l=Math.floor(u/c)*c}return this.scrollView.stopAutoScroll(),this.scrollView.scrollToOffset(cc.v2(0,l*t),o),l*(t+1)>=s},e.prototype.getVisibleElements_baron=function(){var t=0;if(this.horizontal){var e=this.content.parent.width;t=Math.floor(e/this.getColumnWH_baron())}else{var o=this.content.parent.height;t=Math.floor(o/this.getColumnWH_baron())}return t*this.column},e.prototype.getColumnWH_baron=function(){return this.horizontal?this._itemWidth+this.spacing.x:this._itemHeight+this.spacing.y},e.prototype.notifyUpdate_baron=function(){null!=this.adapter&&(this._isOnLoadCalled||this.init_baron(),this.scrollView&&this.content&&(this.emptyView&&(this.emptyView.opacity=this.adapter.getCount_baron()>0?0:255),this.visibleRange[0]=this.visibleRange[1]=-1,this.horizontal?this.content.width=Math.ceil(this.adapter.getCount_baron()/this.column)*(this._itemWidth+this.spacing.x)-this.spacing.x+this.margin.x+this.margin.width:this.content.height=Math.ceil(this.adapter.getCount_baron()/this.column)*(this._itemHeight+this.spacing.y)-this.spacing.y+this.margin.y+this.margin.height,this.dataChanged=!0))},e.prototype.lateUpdate=function(){var t=this.getVisibleRange_baron();this.checkNeedUpdate_baron(t)&&(this.recycleDirty_baron(t),this.updateView_baron(t))},e.prototype._layoutVertical_baron=function(t,e){this.content.addChild(t);var o=e%(this.column||1),n=Math.floor(e/(this.column||1));t.setPosition(this.column>1?this.margin.x+t.width*t.anchorX+(t.width+this.spacing.x)*o-this.content.width*this.content.anchorX:0,-this.margin.y-t.height*(t.anchorY+n)-this.spacing.y*n)},e.prototype._layoutHorizontal_baron=function(t,e){this.content.addChild(t);var o=e%(this.column||1),n=Math.floor(e/(this.column||1));t.setPosition(t.width*(t.anchorX+n)+this.spacing.x*n+this.margin.x,this.column>1?-1*(this.margin.y+t.height*t.anchorY+(t.height+this.spacing.y)*o-this.content.height*this.content.anchorY):0)},e.prototype.recycleAll_baron=function(){for(var t in this._filledIds)this._filledIds.hasOwnProperty(t)&&this._items.put(this._filledIds[t]);this._filledIds={}},e.prototype.recycleDirty_baron=function(t){if(t&&!(t.length<2)){for(var e=this.visibleRange[0];e<t[0];e++)e<0||!this._filledIds[e]||(this._items.put(this._filledIds[e]),this._filledIds[e]=null);for(var o=this.visibleRange[1];o>t[1];o--)o<0||!this._filledIds[o]||(this._items.put(this._filledIds[o]),this._filledIds[o]=null);this.visibleRange[0]=t[0],this.visibleRange[1]=t[1]}},e.prototype.checkNeedUpdate_baron=function(t){return t&&this.visibleRange&&(this.visibleRange[0]!=t[0]||this.visibleRange[1]!=t[1])},e.prototype.updateView_baron=function(t){for(var e=t[0];e<=t[1];e++)if(this.dataChanged||!this._filledIds[e]){var o=this._filledIds[e]||this._items.get()||cc.instantiate(this.itemTemplate)||cc.instantiate(this.itemPrefabTemplate);o.active=!0,!this.comp||o.getComponent(s)instanceof this.comp||(o.removeComponent(s),o.addComponent(this.comp)),o.removeFromParent(!1),this.horizontal?this._layoutHorizontal_baron(o,e):this._layoutVertical_baron(o,e),this._filledIds[e]=this.adapter._getView_baron(o,e)}this.dataChanged=!1},e.prototype.getVisibleRange_baron=function(){if(null==this.adapter)return null;var t=this.scrollView.getScrollOffset(),e=0;(e=this.horizontal?Math.floor(-t.x/(this._itemWidth+this.spacing.x)):Math.floor(t.y/(this._itemHeight+this.spacing.y)))<0&&(e=0);var o=this.column*(e+this._itemsVisible+this.spawnCount);return o>=this.adapter.getCount_baron()&&(o=this.adapter.getCount_baron()-1),[e*this.column,o]},e.prototype.init_baron=function(){if(!this._isInited){this._isInited=!0,this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.anchorY=this.content.parent.anchorY,this.content.x=0-this.content.parent.width*this.content.parent.anchorX,this.content.y=0):(this.scrollView.vertical=!0,this.content.anchorX=this.content.parent.anchorX,this.content.anchorY=1,this.content.x=0,this.content.y=this.content.parent.height*this.content.parent.anchorY)):console.error("ListView need a scrollView for showing.");var t=this._items.get()||cc.instantiate(this.itemTemplate)||cc.instantiate(this.itemPrefabTemplate);t.active=!0,this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil((this.content.parent.width-this.margin.x-this.margin.width)/(this._itemWidth+this.spacing.x)):this._itemsVisible=Math.ceil((this.content.parent.height-this.margin.y-this.margin.height)/(this._itemHeight+this.spacing.y))}},r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Prefab)],e.prototype,"itemPrefabTemplate",void 0),r([u(cc.Vec2)],e.prototype,"spacing",void 0),r([u({tooltip:"\u56db\u5468\u8fb9\u8ddd"})],e.prototype,"margin",void 0),r([u({tooltip:"\u6bd4\u53ef\u89c1\u5143\u7d20\u591a\u7f13\u5b582\u4e2a, \u7f13\u5b58\u8d8a\u591a,\u5feb\u901f\u6ed1\u52a8\u8d8a\u6d41\u7545,\u4f46\u540c\u65f6\u521d\u59cb\u5316\u8d8a\u6162."})],e.prototype,"spawnCount",void 0),r([u({tooltip:"\u884c\u5217\u6570\uff0c\u6a2a\u5411\u6eda\u52a8\u662f\u884c\u6570\uff0c\u7ad6\u5411\u6eda\u52a8\u662f\u5217\u6570."})],e.prototype,"column",void 0),r([u(cc.ScrollView)],e.prototype,"scrollView",void 0),r([u(cc.Node)],e.prototype,"emptyView",void 0),e=r([l],e)}(cc.Component);o.default=p;var h=function(){function t(t,e){void 0===e&&(e=0),this.listView=null,this.pageOfItems=0,this.currentPageIndex=0,this.onPageChangeListener=null,this.listView=t,this.pageOfItems=e}return t.prototype.getPageCount_baron=function(){if(!this.listView.getAdapter_baron())return 1;var t=this.listView.getAdapter_baron().getCount_baron();return this.pageOfItems||(this.pageOfItems=this.listView.getVisibleElements_baron()),this.pageOfItems<=0&&(this.pageOfItems=1),Math.ceil(t/this.pageOfItems)},t.prototype.getCurrentPage_baron=function(){return this.currentPageIndex},t.prototype.prePage_baron=function(){this.currentPageIndex--,this.currentPageIndex<0&&(this.currentPageIndex=0),this.listView.scrollToPage_baron(this.currentPageIndex,0,.5),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},t.prototype.nextPage_baron=function(){this.currentPageIndex++;var t=this.getPageCount_baron();this.currentPageIndex>t-1&&(this.currentPageIndex=t-1),this.listView.scrollToPage_baron(this.currentPageIndex,0,.5),this.onPageChangeListener&&this.onPageChangeListener(this.listView,this.currentPageIndex)},t.prototype.canPrePage_baron=function(){return this.currentPageIndex>0},t.prototype.canNextPage_baron=function(){return this.currentPageIndex<this.getPageCount_baron()-1},t.prototype.setOnPageChangeListener_baron=function(t){this.onPageChangeListener=t},t.prototype.scrollToPageByIndex_baron=function(t,e,o){this.currentPageIndex=Math.ceil(t/e)-1;var n=this.getPageCount_baron();this.currentPageIndex>n-1?this.currentPageIndex=n-1:this.currentPageIndex<0&&(this.currentPageIndex=0),this.listView.scrollToPage_baron(this.currentPageIndex,0,o)},t}();o.Pager=h;var d=function(){function t(){this.dataSet=[]}return t.prototype.setDataSet_baron=function(t){this.dataSet=t||[]},t.prototype.getCount_baron=function(){return this.dataSet?this.dataSet.length:0},t.prototype.getData_baron=function(t){return this.dataSet[t]},t.prototype._getView_baron=function(t,e){return this.updateView_baron(t,e,this.dataSet[e]),t.zIndex=e,t.on(cc.Node.EventType.TOUCH_END,this.onClickBase_baron,this),t},t.prototype.onClickBase_baron=function(t){var e=t.currentTarget;this.onClickItem_baron(e,this.getData_baron(e.zIndex),e.zIndex)},t.prototype.onClickItem_baron=function(t,e,o){},t}();o.AbsAdapter=d,cc._RF.pop()},{}],LoadingView:[function(t,e,o){"use strict";cc._RF.push(e,"280c6yp8JpK9ZcRBOOviij+","LoadingView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Config/AppConfig"),i=cc._decorator,s=i.ccclass,c=i.property,l=i.menu,u=i.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.logoAni=null,e.aniSprites_baron=[],e.aniSpriteOriginPos_baron=[],e}return n(e,t),e.prototype.onLoad=function(){if(this.logoAni)for(var t=0;t<this.logoAni.children.length;t++){var e=this.logoAni.children[t];e.opacity=0,this.aniSprites_baron.push(e),this.aniSpriteOriginPos_baron.push(e.getPosition())}this.setProcess_baron(0)},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.baron_playAni_baron()},.25)},e.prototype.setProcess_baron=function(t){t<0?t=0:t>1&&(t=1),this.progressBar.progress=t},e.prototype.getProcess_baron=function(){return this.progressBar.progress},e.prototype.baron_playAni_baron=function(){var t=this;if(a.default.showLoadingLogo_baron){var e=function(e){var n=e==o.aniSprites_baron.length-1,r=o.aniSprites_baron[e],a=o.aniSpriteOriginPos_baron[e];r.opacity=0,r.y+=a.y+50,cc.tween(r).delay(.08*e).to(.45,{y:a.y,opacity:255},{easing:"elasticOut"}).delay(.3).call(function(){n&&t.baron_playAni_baron()}).start()},o=this;for(n=0;n<this.aniSprites_baron.length;++n)e(n)}else for(var n=0;n<this.aniSprites_baron.length;++n)this.aniSprites_baron[n].active=!1},r([c({tooltip:"\u8fdb\u5ea6\u6761",type:cc.ProgressBar})],e.prototype,"progressBar",void 0),r([c({tooltip:"\u4efb\u6e38\u73a9\u52a8\u753b",type:cc.Node})],e.prototype,"logoAni",void 0),e=r([s,u(),l("FrameWork\u7ec4\u4ef6/LoadingView")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Config/AppConfig":"AppConfig"}],LobbyScene:[function(t,e,o){"use strict";cc._RF.push(e,"1d848AarJNOQ7cfRm/1Jtr/","LobbyScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../FrameWork/Script/User/User"),i=t("./lobby/RoleSelectView"),s=t("./lobby/UnlockDialogView"),c=t("./lobby/GoldGetDialogView"),l=t("../../../FrameWork/Script/Event/EventMgr"),u=t("../../../FrameWork/Script/Event/EventEnum"),p=t("../CustomUser"),h=t("../utils/SoundsManager"),d=cc._decorator,f=d.ccclass,_=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roleSelectView=null,e.unlockDialog=null,e.goldGetDialog=null,e.lblGold=null,e}return n(e,t),e.prototype.onLoad=function(){h.default.playMusic("bgm0"),this._initRewardTime(),l.default.onEvent_baron(u.baron_Event.baron_Game_OnUserMoneyChange_baron,this._goldUpdate,this)},e.prototype.onDestroy=function(){l.default.offTargetEvent_baron(this)},e.prototype.start=function(){this._goldUpdate(),p.default.isLose?(this.unlockDialog.lastView=this.roleSelectView.node,this.unlockDialog.node.active=!0):(moosnow.platform.hideWXAllNative(),moosnow.platform.showfourCustomNativeHorizontalLeftAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM))},e.prototype._showUnlockDialog=function(){this.unlockDialog.node.active=!0},e.prototype._goldUpdate=function(){this.lblGold.string=a.default.getMoney_baron()+"",this.lblGold.string.length>=5?this.lblGold.node.scale=.8:this.lblGold.node.scale=1},e.prototype._timerScheduler=function(){},e.prototype._initRewardTime=function(){if(0==p.default.getRewardTimestamp()){var t=(new Date).getTime();p.default.setRewardTimestamp(t)}},e.prototype.onClickNext=function(){this.roleSelectView.node.active=!0},e.prototype.onClickAddGold=function(){this.goldGetDialog.node.active=!0,moosnow.platform.hideBanner(),moosnow.platform.hideWXAllNative(),moosnow.platform.showMoreLeftCustomNativeAd(),moosnow.platform.showMoreRightCustomNativeAd(),h.default.click()},r([_(i.default)],e.prototype,"roleSelectView",void 0),r([_(s.default)],e.prototype,"unlockDialog",void 0),r([_(c.default)],e.prototype,"goldGetDialog",void 0),r([_(cc.Label)],e.prototype,"lblGold",void 0),e=r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../FrameWork/Script/Event/EventEnum":"EventEnum","../../../FrameWork/Script/Event/EventMgr":"EventMgr","../../../FrameWork/Script/User/User":"User","../CustomUser":"CustomUser","../utils/SoundsManager":"SoundsManager","./lobby/GoldGetDialogView":"GoldGetDialogView","./lobby/RoleSelectView":"RoleSelectView","./lobby/UnlockDialogView":"UnlockDialogView"}],LogUtils:[function(t,e,o){"use strict";cc._RF.push(e,"030ecwzd3BB0oWLzUfn/dol","LogUtils");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var a=arguments[e],i=0,s=a.length;i<s;i++,r++)n[r]=a[i];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.LogUtils=o.LogLevel=void 0,function(t){t[t.CLOSE_baron=-1]="CLOSE_baron",t[t.ERROR_baron=0]="ERROR_baron",t[t.WARN_baron=1]="WARN_baron",t[t.NET_baron=2]="NET_baron",t[t.INFO_baron=3]="INFO_baron",t[t.DEBUG_baron=4]="DEBUG_baron"}(o.LogLevel||(o.LogLevel={}));var r=function(){function t(){}return t.setLevel_baron=function(t){this._level_baron=t},t.log_baron=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._level_baron>=3&&console.log.apply(console,n([t],e))},t.info_baron=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._level_baron>=2&&console.info.apply(console,n([t],e))},t.warn_baron=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._level_baron>=1&&console.warn.apply(console,n([t],e))},t.error_baron=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._level_baron>=0&&console.error.apply(console,n([t],e))},t._level_baron=4,t}();o.LogUtils=r,cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"1cbf7NzsSZAopnEpDM060/i","Main");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Util/AppPlatform"),i=t("./Config/AppConfig"),s=t("./Interface/FMInterface"),c=t("./Mgr/GameMgr"),l=t("./View/LoadingView"),u=t("./Config/AppSwitchConfig"),p=t("./Util/LogUtils"),h=t("./User/User"),d=t("./Mgr/BundleMgr"),f=t("../../Game/Script/config/ConfigMgr"),_=cc._decorator,g=_.ccclass,b=_.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingPrefab=null,e.loadSubpackageTotal_baron=.8,e.loadHttpNetworkTotal_baron=1,e.subpackageIndex_baron=0,e.subpackageSum_baron=0,e.needProcessNum_baron=0,e.loadingState_baron=0,e.loadingSpeed_baron=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;a.default.is_TT_GAME_baron()?(i.default.AppID_baron=i.default.TT_APP_ID_baron,i.default.state_baron=i.default.TT_state_baron,i.default.gameid_baron=i.default.TT_gameid_baron,i.default.ResServer_baron=i.default.TT_ResServer_baron,i.default.Versions_baron=i.default.TT_Versions_baron,i.default.UseRYSDK_baron=!1,i.default.LoopAdLocationID_baron=i.default.TT_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.TT_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.TT_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.TT_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.TT_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.TT_MoreGameLocationID_baron):a.default.is_WECHAT_GAME_baron()?(i.default.AppID_baron=i.default.WX_APP_ID_baron,i.default.state_baron=i.default.WX_state_baron,i.default.gameid_baron=i.default.WX_gameid_baron,i.default.ResServer_baron=i.default.WX_ResServer_baron,i.default.Versions_baron=i.default.WX_Versions_baron,i.default.UseRYSDK_baron=!0,i.default.closeUseRYSDK_baron&&(i.default.UseRYSDK_baron=!1),i.default.LoopAdLocationID_baron=i.default.WX_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.WX_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.WX_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.WX_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.WX_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.WX_MoreGameLocationID_baron):a.default.is_QQ_PLAY_baron()?(i.default.AppID_baron=i.default.QQ_APP_ID_baron,i.default.state_baron=i.default.QQ_state_baron,i.default.gameid_baron=i.default.QQ_gameid_baron,i.default.ResServer_baron=i.default.QQ_ResServer_baron,i.default.Versions_baron=i.default.QQ_Versions_baron,i.default.UseRYSDK_baron=!1,i.default.LoopAdLocationID_baron=i.default.QQ_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.QQ_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.QQ_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.QQ_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.QQ_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.QQ_MoreGameLocationID_baron):a.default.is_OPPO_GAME_baron()?(i.default.AppID_baron=i.default.OPPO_APP_ID_baron,i.default.state_baron=i.default.OPPO_state_baron,i.default.gameid_baron=i.default.OPPO_gameid_baron,i.default.ResServer_baron=i.default.OPPO_ResServer_baron,i.default.Versions_baron=i.default.OPPO_Versions_baron,i.default.UseRYSDK_baron=!1,i.default.LoopAdLocationID_baron=i.default.OPPO_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.OPPO_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.OPPO_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.OPPO_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.OPPO_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.OPPO_MoreGameLocationID_baron):a.default.is_VIVO_GAME_baron()?(i.default.AppID_baron=i.default.VIVO_APP_ID_baron,i.default.state_baron=i.default.VIVO_state_baron,i.default.gameid_baron=i.default.VIVO_gameid_baron,i.default.ResServer_baron=i.default.VIVO_ResServer_baron,i.default.Versions_baron=i.default.VIVO_Versions_baron,i.default.UseRYSDK_baron=!1,i.default.LoopAdLocationID_baron=i.default.VIVO_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.VIVO_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.VIVO_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.VIVO_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.VIVO_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.VIVO_MoreGameLocationID_baron):(i.default.AppID_baron=i.default.WX_APP_ID_baron,i.default.state_baron=i.default.WX_state_baron,i.default.gameid_baron=i.default.WX_gameid_baron,i.default.ResServer_baron=i.default.WX_ResServer_baron,i.default.Versions_baron=i.default.WX_Versions_baron,i.default.UseRYSDK_baron=!1,i.default.LoopAdLocationID_baron=i.default.WX_LoopAdLocationID_baron,i.default.BannerAdLocationID_baron=i.default.WX_BannerAdLocationID_baron,i.default.InsertAdLocationID_baron=i.default.WX_InsertAdLocationID_baron,i.default.AniAdLocationID_baron=i.default.WX_AniAdLocationID_baron,i.default.HistoryLocationID_baron=i.default.WX_HistoryLocationID_baron,i.default.MoreGameLocationID_baron=i.default.WX_MoreGameLocationID_baron),this.loadView_baron=this.loadingPrefab.getComponent(l.default),this.subpackageSum_baron=i.default.subResArray_baron.length,this.loadView_baron.setProcess_baron(0),this.setLoadingState_baron(4,.7),f.default.loadAllConfigLocal(function(){u.default.getInstance_baron().loadUrlConfig_baron(s.handleFM_baron(function(){p.LogUtils.log_baron("\u52a0\u8f7d AppSwitchConfig \u5b8c\u6210"),t.loadSubpackage_baron()},t))},this)},e.prototype.start=function(){},e.prototype.loadSubpackage_baron=function(){var t=this;if(this.subpackageIndex_baron<this.subpackageSum_baron){var e="",o=i.default.subResArray_baron[this.subpackageIndex_baron];a.default.is_TT_GAME_baron()?e="":a.default.is_WECHAT_GAME_baron()?e="wx":a.default.is_OPPO_GAME_baron()?e="qg":a.default.is_QQ_PLAY_baron()&&(e="qq"),p.LogUtils.log_baron("\u52a0\u8f7d\u5206\u5305 "+o+"  platform "+e);var n=(this.subpackageIndex_baron+1)/this.subpackageSum_baron*t.loadSubpackageTotal_baron;this.setStartLoadingPerNum_baron(n),d.default.loadBundleByName_baron(o,s.handleFM_baron(function(e,o){e?console.error(e):(t.subpackageIndex_baron=t.subpackageIndex_baron+1,t.loadSubpackage_baron())},this))}else this.onLoadResComplate_baron()},e.prototype.setStartLoadingPerNum_baron=function(t){this.setLoadingState_baron(1,t)},e.prototype.setLoadingState_baron=function(t,e){switch(this.loadingState_baron=t,this.needProcessNum_baron=e,t){case 0:break;case 1:this.loadingSpeed_baron=1/80;break;case 2:this.loadingSpeed_baron=.005;break;case 4:this.loadingSpeed_baron=.002;break;case 3:var o=1-this.loadView_baron.getProcess_baron();this.loadingSpeed_baron=o>0?o/20:.5}},e.prototype.update=function(t){if(this.loadView_baron){var e=this.loadView_baron.getProcess_baron(),o=e+this.loadingSpeed_baron;switch(this.loadingState_baron){case 0:break;case 1:o>=.7*this.needProcessNum_baron&&(o>=this.needProcessNum_baron&&(o=this.needProcessNum_baron),this.setLoadingState_baron(2,this.needProcessNum_baron));break;case 2:o>=this.needProcessNum_baron&&(o=this.needProcessNum_baron);break;case 3:o>=1&&(o=1,this.loadingState_baron=4,c.default.getInstance_baron().onLoadToWorldScene_baron())}e!=o&&this.loadView_baron.setProcess_baron(o)}},e.prototype.setDownloadOver_baron=function(){this.initGame_baron(),this.setLoadingState_baron(3,1)},e.prototype.Login_fail_baron=function(t){console.log("\u767b\u9646\u5931\u8d25\uff01\uff01\uff01"+t),h.default.initiUser_baron(null),this.setDownloadOver_baron()},e.prototype.onLoadResComplate_baron=function(){var t=this;this.setStartLoadingPerNum_baron(this.loadHttpNetworkTotal_baron),c.default.getInstance_baron().preloadScene_baron(),moosnow.platform.login(function(){console.log("\u767b\u9646\u6210\u529f\uff01\uff01\uff01"),h.default.initiUser_baron(null),t.setDownloadOver_baron()})},e.prototype.initGame_baron=function(){},r([b({tooltip:"\u52a0\u8f7d\u9875\u9762\u9884\u652f",type:cc.Node})],e.prototype,"loadingPrefab",void 0),e=r([g],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../Game/Script/config/ConfigMgr":"ConfigMgr","./Config/AppConfig":"AppConfig","./Config/AppSwitchConfig":"AppSwitchConfig","./Interface/FMInterface":"FMInterface","./Mgr/BundleMgr":"BundleMgr","./Mgr/GameMgr":"GameMgr","./User/User":"User","./Util/AppPlatform":"AppPlatform","./Util/LogUtils":"LogUtils","./View/LoadingView":"LoadingView"}],Progress:[function(t,e,o){"use strict";cc._RF.push(e,"6f475ZjMWFMJYPZwWBLEeW8","Progress");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBehind=null,e.progressBefore=null,e.lblProgress=null,e.progressAddition=null,e.curValue=0,e.progressMaxWidth=0,e.maxValue=0,e.additionMaxValue=0,e}return n(e,t),e.prototype.onLoad=function(){this.progressBefore&&(this.progressMaxWidth=this.progressBefore.width),this.lblProgress&&(this.lblProgress.string="0")},e.prototype.start=function(){},e.prototype.updateProgress=function(t,e,o){if(void 0===e&&(e=!0),void 0===o&&(o=!1),null!=t){var n=0,r=0,a=Math.floor(t/this.maxValue*100);a>100&&(a=100);var i=Math.floor(this.progressMaxWidth*a/100),s="bounceOut";this.curValue<t&&(s="quadOut");var c=function(t,e,o,n){void 0===o&&(o=0),void 0===n&&(n=!1),n&&t.stopAllActions(),cc.tween(t).delay(o).to(.2,{width:e},{easing:s}).start()};if(this.curValue=t,this.progressAddition)if(this.additionMaxValue&&t>=this.maxValue)if(this.progressAddition.active=!0,t-=this.maxValue,(n=Math.floor(t/this.additionMaxValue*100))>100&&(n=100),r=Math.floor(this.progressMaxWidth*n/100),e){if(c(this.progressAddition,r),"quadOut"==s)return}else this.progressAddition.width=r;else this.progressAddition.active=!1;this.progressBefore&&(e?c(this.progressBefore,i):this.progressBefore.width=i),this.progressBehind&&(e?c(this.progressBehind,i,.5,!0):this.progressBehind.width=i),this.lblProgress&&(this.lblProgress.string=o?t+"":a+"")}},e.prototype.setMaxValue=function(t){this.maxValue=t},e.prototype.setAdditionMaxValue=function(t){this.additionMaxValue=t},r([s(cc.Node)],e.prototype,"progressBehind",void 0),r([s(cc.Node)],e.prototype,"progressBefore",void 0),r([s(cc.Label)],e.prototype,"lblProgress",void 0),r([s(cc.Node)],e.prototype,"progressAddition",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Property:[function(t,e,o){"use strict";cc._RF.push(e,"32717oBjGxDqJ/ze+/FdckW","Property"),Object.defineProperty(o,"__esModule",{value:!0}),o.Property=void 0;var n=t("../config/HeroConfig"),r=t("../config/GlobalConfig"),a=t("../CustomUser"),i=function(){function t(){this.id=0,this.hp=0,this.mp=0,this.atk=0,this.name="",this.unlockGoldNum=0,this.unlockVideoTime=0,this.heroData=new a.HeroData,this.hpMax=0,this.mpMax=100,this.atkMax=0,this.hpBase=0,this.atkBase=0,this.hpLimit=0,this.atkLimit=0,this.comboPer=[],this.uniquePer=[],this.longRangePer=0,this.bgColors=[],this.shopBgImgId=0,this.hpBuffed=0,this.hpShowBanner=0,this.atkEnergyIncrease=5,this.autoEnergyIncrease=0,this.autoEnergyInterval=0,this.equipArmor=!1,this.equipArmorHead=!1,this.armorId=0,this.armorSlotName=null}return t.prototype.initBaseData=function(t){var e=n.default.getInstance().getDataById(t);if(e){var o=r.default.getInstance().getData();this.id=e.Id,this.name=e.HeroName,this.unlockGoldNum=e.UnlockGoldNum,this.unlockVideoTime=e.UnlockVideoTime,this.hpBase=e.HP,this.atkBase=e.Attack,this.comboPer=e.ComboPers,this.uniquePer=e.UniquePers,this.longRangePer=e.LongRangePer,this.bgColors=e.bgColors,this.shopBgImgId=e.shopBgImgId,this.hpLimit=Math.floor(e.HP+e.HP*o.maxHpLevel*o.hpIncrease*.01),this.atkLimit=Math.floor(e.Attack+e.Attack*o.maxAtkLevel*o.atkIncrease*.01)}},t.prototype.reset=function(){this.hp=this.hpMax,this.atk=this.atkMax,this.hpShowBanner=Math.floor(.05*this.hpMax)},t.prototype.setHp=function(t){this.hp=Math.floor(t)},t.prototype.changeHp=function(t){this.hp+=Math.floor(t),this.hp<0?this.hp=0:this.hp>this.hpMax&&(this.hp=this.hpMax)},t.prototype.setMp=function(t){this.mp=t},t.prototype.changeMp=function(t){this.mp+=t,this.mp<0?this.mp=0:this.mp>this.mpMax&&(this.mp=this.mpMax)},t.prototype.setAtk=function(t){this.atk=Math.floor(t)},t.prototype.changeAtk=function(t){this.atk+=Math.floor(t)},t.prototype.addLvHp=function(){this.heroData.lvHp+=1,this.saveHeroData(this.heroData.id)},t.prototype.addLvAtk=function(){this.heroData.lvAtk+=1,this.saveHeroData(this.heroData.id)},t.prototype.addVideoTime=function(){this.heroData.videoTime+=1,this.saveHeroData(this.heroData.id)},t.prototype.unlock=function(){this.heroData.isUnlock=!0,this.saveHeroData(this.heroData.id)},t.prototype.checkVideoUnlock=function(){return this.heroData.videoTime>=this.unlockVideoTime&&(this.unlock(),!0)},t.prototype.saveHeroData=function(t){var e=a.default.getHeroData();console.log("\u9700\u8981\u4fdd\u5b58\u82f1\u96c4\u6570\u636e\uff01\uff01\uff01\uff01000000------",t);for(var o=!1,n=0;n<e.length;n++){if(e[n].id==t){e[n]=this.heroData,o=!0;break}}o?a.default.setHeroData(e):(e.push(this.heroData),a.default.setHeroData(e))},t.prototype.isUnlocked=function(){return this.heroData.isUnlock},t}();o.Property=i,cc._RF.pop()},{"../CustomUser":"CustomUser","../config/GlobalConfig":"GlobalConfig","../config/HeroConfig":"HeroConfig"}],RemoteMgr:[function(t,e,o){"use strict";cc._RF.push(e,"fb8ednCAwpACpPZDcMTgAI6","RemoteMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Interface/FMInterface"),r=function(){function t(){}return t.removeAllRemote_baron=function(){for(var t in this.remoteArrayTexture_baron)this.remoteArrayTexture_baron[t].decRef();this.remoteArrayTexture_baron={}},t.loadRemote_baron=function(t,e){var o=this;this.remoteArrayTexture_baron[t]?n.callFM_baron(e,null,this.remoteArrayTexture_baron[t]):cc.assetManager.loadRemote(t,function(r,a){r?n.callFM_baron(e,r,null):(o.remoteArrayTexture_baron[t]||(o.remoteArrayTexture_baron[t]=a,o.remoteArrayTexture_baron[t].addRef()),n.callFM_baron(e,null,o.remoteArrayTexture_baron[t]))})},t.remoteArrayTexture_baron={},t}();o.default=r,cc._RF.pop()},{"../Interface/FMInterface":"FMInterface"}],ResCenter:[function(t,e,o){"use strict";cc._RF.push(e,"edcaft+eXJMD4zIwNfH8sL0","ResCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ui/lobby/TreasureBoxView"),r=t("../ui/Toast"),a=function(){function t(){}return t.createTreasureBox=function(e,o){t.loadPrefabsInMainBundle("prefab/panelChest",function(t){var r=cc.instantiate(t);r.getComponent(n.default).init(e),o||(o=cc.director.getScene()),o.addChild(r)},this)},t.createToast=function(e,o){t.loadPrefabsInMainBundle("prefab/toastForm",function(t){var n=cc.instantiate(t);n.getComponent(r.default).init(e),o||(o=cc.director.getScene()),o.addChild(n)},this)},t.createCrazyView=function(e,o){t.loadPrefabsInBundle(0,"prefab/crazyview",function(t){var e=cc.instantiate(t);o||(o=cc.director.getScene()),o.addChild(e)},this)},t.createExportView=function(e){t.loadPrefabsInMainBundle("prefab/lobbyExport2View",function(t){var o=cc.instantiate(t);e||(e=cc.director.getScene()),e.addChild(o)},this)},t.loadSpriteFrameFromBundle=function(t,e,o){this.loadBundleSpriteFrame("subResMain",t,e,o)},t.loadPrefabsInMainBundle=function(t,e,o){this.loadBundle("subResMain",t,e,o)},t.loadSpriteFrame=function(t,e,o){this.loadRes(t,e,o,cc.SpriteFrame)},t.loadPrefabsInBundle=function(t,e,o,n){this.loadBundle(["subRes","subRes1"][t],e,o,n)},t.loadRes=function(t,e,o,n){n?cc.resources.load(t,n,function(t,n){t?cc.log("err",t):e&&e.call(o,n)}):cc.resources.load(t,function(t,n){t?cc.log("err",t):e&&e.call(o,n)})},t.loadBundleSpriteFrame=function(t,e,o,n){this.loadBundle(t,e,o,n,cc.SpriteFrame)},t.loadBundle=function(t,e,o,n,r){var a=cc.assetManager.getBundle(t);a?a.load(e,r,function(t,e){t?cc.log("errr",t):o&&o.call(n,e)}):cc.assetManager.loadBundle(t,function(t,a){a?a.load(e,r,function(t,e){t?cc.log("errr",t):o&&o.call(n,e)}):cc.log("err",t)})},t}();o.default=a,cc._RF.pop()},{"../ui/Toast":"Toast","../ui/lobby/TreasureBoxView":"TreasureBoxView"}],RoleScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"21487QKSZNOs6aKAoa9fd5R","RoleScrollView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/ExScrollView"),i=t("../../CustomUser"),s=t("../component/HeroMask"),c=t("../../utils/ResCenter"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selColor=cc.color(200,200,200,255),e}return n(e,t),e.prototype.updateUnlockState=function(t,e){if(e=e||this.curSelectItem){var o=e.getChildByName("try"),n=e.getChildByName("e3"),r=e.getChildByName("lock");t.isEmpty?(n.active=!1,o.active=!1,r.active=!0):t.isUnlocked()?(n.active=!0,o.active=!1):(n.active=!1,o.active=!0)}},e.prototype.itemInitCall=function(t,e,o){if(this.updateUnlockState(e,t),e.isEmpty)this._initUnlockedHero(t,this.emptyNum-this.totalNum+o+1);else{if(i.default.getHeroId()==e.id)this.lastItem=t,this.curSelectItem=t,this.curData=e,this.selItem(t,!0),this.itemCall&&this.itemCall.call(this.caller,e);else t.getChildByName("bg").color=cc.color(e.bgColors[0],e.bgColors[1],e.bgColors[2],255);t.getChildByName("mask").getComponent(s.default).initHeroId(e.id),t.on(cc.Node.EventType.TOUCH_END,this._onClickItem,this)}},e.prototype._initUnlockedHero=function(t,e){t.getChildByName("bg").color=this.selColor,c.default.loadSpriteFrameFromBundle("unlockRole/"+e,function(e){t.getChildByName("lock").getChildByName("hero_0").getComponent(cc.Sprite).spriteFrame=e},this)},e.prototype._onClickItem=function(e){var o=e.currentTarget,n=this.datas[o.zIndex];n.isEmpty||(n.isUnlocked()?(t.prototype._onClickItem.call(this,e),this.lastItem!=o&&(this.selItem(o),this.lastItem&&this.unselItem(this.lastItem,this.datas[this.lastItem.zIndex]),this.itemCall&&this.itemCall.call(this.caller,n),this.lastItem=o)):this.itemCall&&this.itemCall.call(this.caller,n))},e.prototype.selItem=function(t,e){void 0===e&&(e=!1);var o=t.getChildByName("frame"),n=t.getChildByName("bg");e?(t.stopAllActions(),o.stopAllActions(),t.scale=1.1,o.color=cc.color(255,255,255,255),n.color=this.selColor,cc.tween(o).repeatForever(cc.blink(.2,1)).start()):(t.stopAllActions(),o.stopAllActions(),n.stopAllActions(),cc.tween(t).to(.2,{scaleX:1.1,scaleY:1.1},{easing:"elasticOut"}).start(),cc.tween(o).to(.2,{color:cc.color(255,255,255)}).repeatForever(cc.blink(.2,1)).start(),cc.tween(n).to(.2,{color:this.selColor}).start())},e.prototype.unselItem=function(t,e){var o=t.getChildByName("frame"),n=t.getChildByName("bg");t.stopAllActions(),o.stopAllActions(),n.stopAllActions(),o.opacity=255,cc.tween(t).to(.1,{scaleX:1,scaleY:1},{easing:"backOut"}).start(),cc.tween(o).to(.1,{color:cc.color(0,0,0)}).start(),cc.tween(n).to(.2,{color:cc.color(e.bgColors[0],e.bgColors[1],e.bgColors[2],255)}).start()},e=r([u],e)}(a.default));o.default=p,cc._RF.pop()},{"../../CustomUser":"CustomUser","../../utils/ResCenter":"ResCenter","../component/ExScrollView":"ExScrollView","../component/HeroMask":"HeroMask"}],RoleSelectView:[function(t,e,o){"use strict";cc._RF.push(e,"dadfc9Y2qRL659WmKr2q0L0","RoleSelectView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../FrameWork/Script/Mgr/GameMgr"),i=t("./RoleScrollView"),s=t("../../config/HeroConfig"),c=t("../component/Progress"),l=t("../../config/GlobalConfig"),u=t("./ShopView"),p=t("../../CustomUser"),h=t("../../../../FrameWork/Script/User/User"),d=t("../../core/HeroProperty"),f=t("../../../../FrameWork/Script/Event/EventMgr"),_=t("../../../../FrameWork/Script/Event/EventEnum"),g=t("../component/HeroMask"),b=t("../../utils/SoundsManager"),y=t("./LevelSelectView"),m=t("../../utils/EventCenter"),v=t("../../Constants"),A=t("../../utils/ResCenter"),S=cc._decorator,w=S.ccclass,C=S.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shopView=null,e.levelView=null,e.roleScrollView=null,e.progressHp=null,e.progressAtk=null,e.rtHeroName=null,e.rtAtkIncrease=null,e.rtHpIncrease=null,e.rtAtkAlreadyInc=null,e.rtHpAlreadyInc=null,e.lblAtkGold=null,e.lblHpGold=null,e.plAtkUpgrade=null,e.plHpUpgrade=null,e.btnStart=null,e.lblGold=null,e.curHeroMask=null,e.emptyRolesNum=0,e.upgradeEff=null,e.curHeroData=null,e}return n(e,t),e.prototype.onEnable=function(){if(this.rtAtkIncrease.string="<b>"+l.default.getInstance().getData().atkIncrease+"%</b>",this.rtHpIncrease.string="<b>"+l.default.getInstance().getData().hpIncrease+"%</b>",p.default.curLevelComplete&&(p.default.curLevelComplete=!1,p.default.levelData.Rid)){var t=new d.HeroProperty;t.initData(p.default.levelData.Rid),t.isUnlocked()||(t.unlock(),A.default.createTreasureBox({type:"role",heroId:t.id}))}this._initRoleList(),this._goldUpdate(),f.default.onEvent_baron(_.baron_Event.baron_Game_OnUserMoneyChange_baron,this._goldUpdate,this),m.default.on(v.ADEvent.SHOWBANNER,this.showBanner,this),m.default.on(v.ADEvent.HIDEBANNER,this.hideBanner,this)},e.prototype.onDisable=function(){this.roleScrollView.deinit(),f.default.offTargetEvent_baron(this),m.default.clearAllByNode(this)},e.prototype.showBanner=function(){moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype.hideBanner=function(){moosnow.platform.hideBanner()},e.prototype.onClickBack=function(){this.node.active=!1},e.prototype.onClickStart=function(){p.default.tryHeroId=0,b.default.click(),this.enableLevelSelView()},e.prototype.onClickShop=function(){this.shopView.lastView=this.node,this.shopView.node.active=!0,moosnow.platform.hideBanner(),b.default.click()},e.prototype.onClickUpgradeAttack=function(){var t=this;b.default.click(),this.curHeroData&&(this.curHeroData.heroData.lvAtk>=l.default.getInstance().getData().maxAtkLevel||(moosnow.platform.reportEvent("video",{type:1}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:if(moosnow.platform.reportEvent("videofinish",{type:1}),t.curHeroData.heroData.lvAtk>=l.default.getInstance().getData().maxAtkLevel)return;t.curHeroData.addLvAtk(),t.upateHeroUi(t.curHeroData),a.default.getInstance_baron().saveGameData_baron(),t.upgrade()}})))},e.prototype.onClickUpgradeHp=function(){var t=this;b.default.click(),this.curHeroData&&(this.curHeroData.heroData.lvHp>=l.default.getInstance().getData().maxHpLevel||(moosnow.platform.reportEvent("video",{type:1}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:if(moosnow.platform.reportEvent("videofinish",{type:1}),t.curHeroData.heroData.lvHp>=l.default.getInstance().getData().maxHpLevel)return;t.curHeroData.addLvHp(),t.upateHeroUi(t.curHeroData),a.default.getInstance_baron().saveGameData_baron(),t.upgrade()}})))},e.prototype.onClickUpgradeAtkByGold=function(){if(b.default.click(),this.curHeroData&&!(this.curHeroData.heroData.lvAtk>=l.default.getInstance().getData().maxAtkLevel)){var t=l.default.getInstance().getData().atkUpgradeGold;0==p.default.isUpgradeAtkByGold()&&(t=Math.floor(t/2),p.default.setUpgradeAtkByGold()),h.default.subMoney_baron(t),this.curHeroData.addLvAtk(),this.upateHeroUi(this.curHeroData),a.default.getInstance_baron().saveGameData_baron(),this.upgrade()}},e.prototype.onClickUpgradeHpByGold=function(){if(b.default.click(),this.curHeroData&&!(this.curHeroData.heroData.lvHp>=l.default.getInstance().getData().maxHpLevel)){var t=l.default.getInstance().getData(),e=t.hpUpgradeGold;0==p.default.isUpgradeHpByGold()&&(e=Math.floor(e/2),p.default.setUpgradeHpByGold()),h.default.subMoney_baron(t.hpUpgradeGold),this.curHeroData.addLvHp(),this.upateHeroUi(this.curHeroData),a.default.getInstance_baron().saveGameData_baron(),this.upgrade()}},e.prototype._onClickItem=function(t){var e=this;b.default.playEff("sound_18"),t.isUnlocked()?(this.curHeroData=t,this.upateHeroUi(t),p.default.setHeroId(t.id),this.curHeroMask.initHeroId(t.id)):(moosnow.platform.reportEvent("video",{type:t.id+1}),moosnow.platform.showVideo(function(o){switch(o){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:moosnow.platform.reportEvent("videofinish",{type:t.id+1}),p.default.tryHeroId=t.id,e.enableLevelSelView()}}))},e.prototype.upateHeroUi=function(t){var e=l.default.getInstance().getData();this.lblAtkGold.string=e.atkUpgradeGold+"",this.lblHpGold.string=e.hpUpgradeGold+"",this.rtHeroName.string="<b>"+t.name+"</b>",this.rtHpAlreadyInc.string="<b>"+t.heroData.lvHp*e.hpIncrease+"%</b>",this.rtAtkAlreadyInc.string="<b>"+t.heroData.lvAtk*e.atkIncrease+"%</b>",this.progressHp.setMaxValue(t.hpLimit),this.progressAtk.setMaxValue(t.atkLimit),this.progressHp.updateProgress(t.hp,!1,!0),this.progressAtk.updateProgress(t.atk,!1,!0),this._updateUpgradeBtnState()},e.prototype._initRoleList=function(){for(var t=[],e=0;e<s.default.getInstance().getDataLength();e++){var o=s.default.getInstance().getDatas()[e],n=new d.HeroProperty;n.initData(o.Id),t.push(n)}for(e=0;e<this.emptyRolesNum;e++)t.push({isEmpty:!0});this.roleScrollView.init(t,this._onClickItem,this,this.emptyRolesNum),this._updateUpgradeBtnState()},e.prototype._updateUpgradeBtnState=function(){if(this.curHeroData){var t=this.plAtkUpgrade.getChildByName("k4"),e=this.plAtkUpgrade.getChildByName("r1"),o=this.plHpUpgrade.getChildByName("k4"),n=this.plHpUpgrade.getChildByName("r1"),r=l.default.getInstance().getData();if(this.curHeroData.heroData.lvAtk<r.maxAtkLevel){var a=r.atkUpgradeGold;0==p.default.isUpgradeAtkByGold()&&(a=Math.floor(a/2)),h.default.getMoney_baron()<a?(t.active=!1,e.active=!0):(t.active=!0,e.active=!1)}else t.active=!1,e.active=!1;if(this.curHeroData.heroData.lvHp<l.default.getInstance().getData().maxHpLevel){a=r.atkUpgradeGold;0==p.default.isUpgradeHpByGold()&&(a=Math.floor(a/2)),h.default.getMoney_baron()<a?(o.active=!1,n.active=!0):(o.active=!0,n.active=!1)}else o.active=!1,n.active=!1}},e.prototype._goldUpdate=function(){this._updateUpgradeBtnState(),this.lblGold.string=h.default.getMoney_baron()+"",this.lblGold.string.length>=5?this.lblGold.node.scale=.8:this.lblGold.node.scale=1},e.prototype.enableLevelSelView=function(){this.levelView.lastView=this.node,this.levelView.node.active=!0},e.prototype.upgrade=function(){var t=this;this.upgradeEff.active=!0;var e=this.upgradeEff.getComponent(cc.Animation);e.play(),e.on("finished",function(){t.upgradeEff.active=!1},this),b.default.playEff("sound_21")},r([C(u.default)],e.prototype,"shopView",void 0),r([C(y.default)],e.prototype,"levelView",void 0),r([C(i.default)],e.prototype,"roleScrollView",void 0),r([C(c.default)],e.prototype,"progressHp",void 0),r([C(c.default)],e.prototype,"progressAtk",void 0),r([C(cc.RichText)],e.prototype,"rtHeroName",void 0),r([C(cc.RichText)],e.prototype,"rtAtkIncrease",void 0),r([C(cc.RichText)],e.prototype,"rtHpIncrease",void 0),r([C(cc.RichText)],e.prototype,"rtAtkAlreadyInc",void 0),r([C(cc.RichText)],e.prototype,"rtHpAlreadyInc",void 0),r([C(cc.Label)],e.prototype,"lblAtkGold",void 0),r([C(cc.Label)],e.prototype,"lblHpGold",void 0),r([C(cc.Node)],e.prototype,"plAtkUpgrade",void 0),r([C(cc.Node)],e.prototype,"plHpUpgrade",void 0),r([C(cc.Node)],e.prototype,"btnStart",void 0),r([C(cc.Label)],e.prototype,"lblGold",void 0),r([C(g.default)],e.prototype,"curHeroMask",void 0),r([C(cc.Integer)],e.prototype,"emptyRolesNum",void 0),r([C(cc.Node)],e.prototype,"upgradeEff",void 0),e=r([w],e)}(cc.Component);o.default=I,cc._RF.pop()},{"../../../../FrameWork/Script/Event/EventEnum":"EventEnum","../../../../FrameWork/Script/Event/EventMgr":"EventMgr","../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../Constants":"Constants","../../CustomUser":"CustomUser","../../config/GlobalConfig":"GlobalConfig","../../config/HeroConfig":"HeroConfig","../../core/HeroProperty":"HeroProperty","../../utils/EventCenter":"EventCenter","../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../component/HeroMask":"HeroMask","../component/Progress":"Progress","./LevelSelectView":"LevelSelectView","./RoleScrollView":"RoleScrollView","./ShopView":"ShopView"}],ShopItem:[function(t,e,o){"use strict";cc._RF.push(e,"9e4d2GqJVZBzaoC0gSoRs5O","ShopItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/Progress"),i=t("../../utils/Utils"),s=t("../../../../FrameWork/Script/User/User"),c=t("../../../../FrameWork/Script/Mgr/GameMgr"),l=t("../component/HeroMask"),u=t("../../utils/SoundsManager"),p=t("../../utils/ResCenter"),h=t("../../../../FrameWork/Script/Platform/ALD"),d=cc._decorator,f=d.ccclass,_=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgBg=[],e.rtNick=null,e.ndUnlocked=null,e.ndLocked=null,e.ndGoldUnlocked=null,e.prHp=null,e.prAtk=null,e.heroMask=null,e.plEmpty=null,e}return n(e,t),e.prototype.onLoad=function(){this.rtNick=this.node.getChildByName("New Label").getComponent(cc.Label),this.ndUnlocked=this.node.getChildByName("btnUnlocked"),this.ndLocked=this.node.getChildByName("btnLocked"),this.ndGoldUnlocked=this.node.getChildByName("btnLockedGold"),this.prHp=i.default.findChild(this.node,"hp/hpProgress").getComponent(a.default),this.prAtk=i.default.findChild(this.node,"atk/atkProgress").getComponent(a.default),this.heroMask=this.node.getChildByName("mask").getComponent(l.default),this.plEmpty=this.node.getChildByName("plEmptyHero")},e.prototype.start=function(){},e.prototype.init=function(t,e,o,n){var r=this;void 0===n&&(n=0),this.callback=e,this.caller=o,this._data=t,this.rtNick.string=t.name,this.imgBg.forEach(function(e,o){o==t.shopBgImgId?e.active=!0:e.active=!1}),t.isEmptyHero?(this.rtNick.string="\u672a\u77e5\u82f1\u96c4",this.prHp.lblProgress.string="9999",this.prAtk.lblProgress.string="9999",this.imgBg[2].active=!0,this.ndUnlocked.active=!1,this.ndLocked.active=!1,this.ndGoldUnlocked.active=!1,this.plEmpty.active=!0,p.default.loadSpriteFrameFromBundle("unlockRole/"+n,function(t){r.plEmpty.getChildByName("unlockedHero").getComponent(cc.Sprite).spriteFrame=t},this)):(this.heroMask.initHeroId(t.id),this.updatePropInfo(),this.updateUnlockInfo())},e.prototype.updatePropInfo=function(){this.prHp.setMaxValue(this._data.hpLimit),this.prAtk.setMaxValue(this._data.atkLimit),this.prHp.updateProgress(this._data.hp,!1,!0),this.prAtk.updateProgress(this._data.atk,!1,!0)},e.prototype.updateUnlockInfo=function(){this._data.isEmptyHero||(this._data.isUnlocked()?(this.ndUnlocked.active=!0,this.ndLocked.active=!1,this.ndGoldUnlocked.active=!1):0!=this._data.unlockGoldNum&&0==this._data.unlockVideoTime?this.enableGoldUnlock():0!=this._data.unlockGoldNum&&0!=this._data.unlockVideoTime?s.default.getMoney_baron()<this._data.unlockGoldNum?this.enableVideoUnlock():this.enableGoldUnlock():this.enableVideoUnlock())},e.prototype.enableGoldUnlock=function(){this.ndUnlocked.active=!1,this.ndLocked.active=!1,this.ndGoldUnlocked.active=!0,this.ndGoldUnlocked.getChildByName("New Node").getChildByName("LabelAtlas - 001").getComponent(cc.Label).string=this._data.unlockGoldNum+""},e.prototype.enableVideoUnlock=function(){this.ndUnlocked.active=!1,this.ndLocked.active=!0,this.ndGoldUnlocked.active=!1,this.ndLocked.getChildByName("LabelAtlas - 001").getComponent(cc.Label).string=this._data.heroData.videoTime+"/"+this._data.unlockVideoTime},e.prototype.backFunction=function(){moosnow.platform.showInter(function(){moosnow.platform.showMoreRightCustomNativeAd()})},e.prototype.onClickVideoUnlock=function(){var t=this;u.default.click(),this._data&&(this._data.heroData.videoTime>=this._data.unlockVideoTime||(moosnow.platform.reportEvent("video",{type:this._data.id+8}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:p.default.createToast("\u89c6\u9891\u672a\u5b8c\u6574\u89c2\u770b,\u65e0\u6cd5\u83b7\u53d6\u5956\u52b1!");break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:if(moosnow.platform.reportEvent("videofinish",{type:t._data.id+8}),t._data.heroData.videoTime>=t._data.unlockVideoTime)return;t._data.heroData.videoTime++,t._data.heroData.videoTime==t._data.unlockVideoTime?(t._data.unlock(),p.default.createTreasureBox({type:"role",heroId:t._data.id,callFunc:t.backFunction,caller:t}),p.default.createToast("\u606d\u559c\u83b7\u5f97\u65b0\u89d2\u8272!")):(s.default.addMoney_baron(200),p.default.createTreasureBox({type:"gold",rewardNum:200,callFunc:t.backFunction,caller:t}),p.default.createToast("\u606d\u559c\u5b8c\u6210\u4e00\u6b21\u89c6\u9891\u89c2\u770b,\u5e76\u83b7\u5f97200\u91d1\u5e01!")),t._data.saveHeroData(t._data.heroData.id),console.log("\u89e3\u9501\u96f6\u96f6\u96f6\u96f6  \u89d2\u8272---------",s.default._gameData_baron),t.updateUnlockInfo(),t.callback&&t.callback.call(t.caller),c.default.getInstance_baron().saveGameData_baron()}})))},e.prototype.onClickGoldUnlock=function(){u.default.click(),this._data&&this._data.unlockGoldNum<=s.default.getMoney_baron()&&(s.default.subMoney_baron(this._data.unlockGoldNum),this._data.unlock(),h.default.aldSendEvent_baron(h.ALDEventDef.ReportHeroUnlock,{"\u5546\u57ce\u91d1\u5e01\u89e3\u9501":"\u6210\u529f"}),this.updateUnlockInfo(),this.callback&&this.callback.call(this.caller),c.default.getInstance_baron().saveGameData_baron(),p.default.createTreasureBox({type:"role",heroId:this._data.id}))},e.prototype.onClickItem=function(){this.ndLocked.active?this.onClickVideoUnlock():this.ndGoldUnlocked.active&&this.onClickGoldUnlock()},r([_([cc.Node])],e.prototype,"imgBg",void 0),e=r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/Platform/ALD":"ALD","../../../../FrameWork/Script/User/User":"User","../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../../utils/Utils":"Utils","../component/HeroMask":"HeroMask","../component/Progress":"Progress"}],ShopView:[function(t,e,o){"use strict";cc._RF.push(e,"59f3bb43u1B9oq+h611Qmj6","ShopView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ShopItem"),i=t("../../config/HeroConfig"),s=t("../../core/HeroProperty"),c=t("../../../../FrameWork/Script/Event/EventMgr"),l=t("../../../../FrameWork/Script/Event/EventEnum"),u=t("../../utils/SoundsManager"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.layouts=[],e.item=null,e.lblUnlocked=null,e.emptyHerosNum=0,e.lastView=null,e.layoutW=0,e.allItems=[],e}return n(e,t),e.prototype.onLoad=function(){this.item.node.active=!1,this.layoutW=this.layouts[0].node.width},e.prototype.onEnable=function(){this.lastView&&(this.lastView.active=!1),moosnow.platform.hideBanner(),moosnow.platform.hideWXAllNative(),moosnow.platform.showInter(function(){moosnow.platform.showMoreRightCustomNativeAd()}),this._initRoleList(),c.default.onEvent_baron(l.baron_Event.baron_Game_OnUserMoneyChange_baron,this._goldUpdate,this)},e.prototype.onDisable=function(){this.lastView&&(this.lastView.active=!0),this.lastView=null,c.default.offTargetEvent_baron(this)},e.prototype.start=function(){},e.prototype.update=function(t){this.layouts[0]&&this.layoutW!=this.layouts[0].node.width&&(this.layoutW=this.layouts[0].node.width,this.scrollView.content.width=this.layoutW)},e.prototype.onClickBack=function(){this.node.active=!1,u.default.clickBack(),moosnow.platform.hideWXAllNative(),moosnow.platform.showInter(function(){moosnow.platform.showfourCustomNativeHorizontalLeftAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM)})},e.prototype._initRoleList=function(){this._clearScrollView(),this.allItems=[];for(var t=0;t<i.default.getInstance().getDataLength()+this.emptyHerosNum;t++){var e=null;if(t>=i.default.getInstance().getDataLength())e={isEmptyHero:!0,name:""};else{e=new s.HeroProperty;var o=i.default.getInstance().getDatas()[t];e.initData(o.Id)}var n=cc.instantiate(this.item.node);n.active=!0,n.y=0,t%2==0?this.layouts[0].node.addChild(n):this.layouts[1].node.addChild(n);var r=n.getComponent(a.default);r.init(e,this._updateUnlockInfoCall,this,t-i.default.getInstance().getDataLength()+1),this.allItems.push(r)}this._updateUnlockInfoCall()},e.prototype._clearScrollView=function(){this.layouts.forEach(function(t,e){t.node.removeAllChildren()},this)},e.prototype._goldUpdate=function(){this.allItems.forEach(function(t,e){t.updateUnlockInfo()})},e.prototype._updateUnlockInfoCall=function(){var t=0;this.allItems.forEach(function(e,o){e._data.isUnlocked&&e._data.isUnlocked()&&t++}),this.lblUnlocked.string="\u5df2\u89e3\u9501\u89d2\u8272\uff1a"+t+"/"+this.allItems.length},r([d(cc.ScrollView)],e.prototype,"scrollView",void 0),r([d([cc.Layout])],e.prototype,"layouts",void 0),r([d(a.default)],e.prototype,"item",void 0),r([d(cc.Label)],e.prototype,"lblUnlocked",void 0),r([d(cc.Integer)],e.prototype,"emptyHerosNum",void 0),e=r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../../FrameWork/Script/Event/EventEnum":"EventEnum","../../../../FrameWork/Script/Event/EventMgr":"EventMgr","../../config/HeroConfig":"HeroConfig","../../core/HeroProperty":"HeroProperty","../../utils/SoundsManager":"SoundsManager","./ShopItem":"ShopItem"}],SoundMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f4408q1KolDabTXfdwaMWMQ","SoundMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.isSoundEnabled_baron=function(){return this.enabled_baron},t.setSoundEnabled_baron=function(t){this.enabled_baron=t,this.enabled_baron||this.stopMusic_baron()},t.playMusic_baron=function(t){if(this.enabled_baron){var e=this.getSoundUrl_baron(t);cc.assetManager.loadBundle("subResMain",function(t,o){o&&o.load(e,cc.AudioClip,function(t,e){t?cc.log("err",t):cc.audioEngine.playMusic(e,!0)})})}},t.stopMusic_baron=function(){cc.audioEngine.stopMusic()},t.playSound_baron=function(t){if(this.enabled_baron){var e=this.getSoundUrl_baron(t);cc.assetManager.loadBundle("subResMain",function(t,o){o&&o.load(e,cc.AudioClip,function(t,e){t?cc.log("err",t):cc.audioEngine.play(e,!1,1)})})}},t.getSoundUrl_baron=function(t){return this.soundResPath_baron+t},t.soundResPath_baron="Sound/",t.enabled_baron=!0,t}();o.default=n,cc._RF.pop()},{}],SoundsManager:[function(t,e,o){"use strict";cc._RF.push(e,"bead89JyJJHEo1th4E0nzI8","SoundsManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../FrameWork/Script/Mgr/SoundMgr"),r=function(){function t(){}return t.click=function(){this.playEff("sound_10")},t.clickBack=function(){this.playEff("sound_20")},t.playMusic=function(e){t.curMusicName=e,n.default.playMusic_baron(e)},t.playEff=function(t){n.default.playSound_baron(t)},t.continuePlayMusic=function(){t.curMusicName&&n.default.playMusic_baron(t.curMusicName)},t.curMusicName=null,t}();o.default=r,cc._RF.pop()},{"../../../FrameWork/Script/Mgr/SoundMgr":"SoundMgr"}],StateMachine:[function(t,e,o){"use strict";cc._RF.push(e,"8c4e49IFUpNp4oBy7tpeUVB","StateMachine"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./State"),r=t("./ActionState"),a=function(){function t(){this.id=0,this.currentState=new n.default("default"),this.lastState=null,this.states={}}return t.prototype.addState=function(t){return null==t?null:(t.stateMachine=this,this.states[t.name]=t,t)},t.prototype.getState=function(t){return this.states[t]},t.prototype.addAction=function(t,e,o,n,a){void 0===e&&(e=null),void 0===o&&(o=null),void 0===n&&(n=null),void 0===a&&(a=null),this.addState(new r.default(t,e,o,n,a))},t.prototype.transitionByState=function(t,e){var o=this.currentState;null!=t&&t.name!=o.name?(this.lastState=o,this.currentState=t,null!=o&&o.exit_baron(),cc.log(this.id,"state change:",o.name,"->",t.name),t.enter_baron(e)):t&&t.repeatStateCall_baron()},t.prototype.transition=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.transitionByState(this.states[t],e)},t.prototype.loop=function(){null!=this.currentState&&this.currentState.updateTransition_baron()},t}();o.default=a,cc._RF.pop()},{"./ActionState":"ActionState","./State":"State"}],StateTransition:[function(t,e,o){"use strict";cc._RF.push(e,"73bbf/3W+lOsJCBlwuaGPOk","StateTransition"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this.caller_baron=t,this.condition_baron=e}return t.prototype.setCurrentState_baron=function(t){this.currentState=t},t.prototype.setNextState_baron=function(t){this.nextState_baron=t},t.prototype.checkCondition_baron=function(){if(null!=this.condition_baron)return this.condition_baron.call(this.caller_baron)},t.prototype.clone_baron=function(){var e=new t(this.caller_baron,this.condition_baron);return e.setCurrentState_baron(this.currentState),e.setNextState_baron(this.nextState_baron),this.clone_baron()},t}();o.default=n,cc._RF.pop()},{}],State:[function(t,e,o){"use strict";cc._RF.push(e,"37140fXdnZBWr11z5DOTVKs","State");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./StateTransition"),a=function(t){function e(e){var o=t.call(this)||this;return o.name="",o.stateMachine=null,o.enterTime=0,o.transition=[],o.name=e,o}return n(e,t),e.prototype.addTransition_baron=function(t,e,o){var n=new r.default(e,o);return n.setCurrentState_baron(this),n.setNextState_baron(this.stateMachine.getState(t)),this.transition.push(n),this},e.prototype.enter_baron=function(t){0==this.enterTime&&this.onInit_baron(),this.enterTime=(new Date).getTime(),null!=t?t.unshift?this.onEnter_baron.apply(this,t):this.onEnter_baron.call(this,t):this.onEnter_baron.call(this)},e.prototype.updateTransition_baron=function(){this.onUpdate_baron();for(var t=0;t<this.transition.length;t++){var e=this.transition[t];if(e.checkCondition_baron())return void this.stateMachine.transitionByState(e.nextState_baron,null)}},e.prototype.exit_baron=function(){this.onExit_baron()},e.prototype.onInit_baron=function(){},e.prototype.onEnter_baron=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onUpdate_baron=function(){},e.prototype.onExit_baron=function(){},e.prototype.handleInput_baron=function(t,e){},e.prototype.animOver_baron=function(){},e.prototype.animInterrupt_baron=function(){},e.prototype.repeatStateCall_baron=function(){},e.prototype.triger_baron=function(){},e}(cc.Component);o.default=a,cc._RF.pop()},{"./StateTransition":"StateTransition"}],StorageMgr:[function(t,e,o){"use strict";cc._RF.push(e,"6c4abL0fqVBiqizVnucKAmq","StorageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageReq=void 0;var n=t("../Util/AppPlatform"),r=function(){return function(){this.key_baron=null,this.data_baron={},this.success_baron=null,this.fail_baron=null,this.complete_baron=null}}();o.StorageReq=r;var a=function(){function t(){}return t.setStorage_baron=function(t){var e=JSON.stringify(t.data_baron);n.default.is_WECHAT_GAME_baron()?window.wx.setStorage({key:t.key_baron,data:e,success:t.success_baron,fail:t.fail_baron,complete:t.complete_baron}):cc.sys.localStorage.setItem(t.key_baron,e)},t.getStorage_baron=function(t){var e=null;if(n.default.is_WECHAT_GAME_baron())try{e=window.wx.getStorageSync(t)}catch(t){}else e=cc.sys.localStorage.getItem(t);return e},t}();o.default=a,cc._RF.pop()},{"../Util/AppPlatform":"AppPlatform"}],StrengthConfig:[function(t,e,o){"use strict";cc._RF.push(e,"0b58cf8JDhLZog5buxxNAMS","StrengthConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.StrengthConfigData=void 0;var n=function(){return function(){}}();o.StrengthConfigData=n;var r=function(){function t(){this._data=new Array}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.init=function(t){this._data=t},t.prototype.getDatas=function(){return this._data},t.prototype.getData=function(t){return this._data[t]},t.prototype.getDataLength=function(){return this._data.length},t}();o.default=r,cc._RF.pop()},{}],SuperShield:[function(t,e,o){"use strict";cc._RF.push(e,"f6cech3agJDGK1+zbMCjgZH","SuperShield");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ResCenter"),i=t("./Throwing"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSuperRange=!1,e.ghostShadow=null,e.tick=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.getChildByName("streak").active=!1},e.prototype.start=function(){var e=this;t.prototype.start.call(this),a.default.loadPrefabsInBundle(1,"roles/hero_7/ghostShadow",function(t){var o=cc.instantiate(t);e.node.parent.addChild(o,e.node.zIndex-1),o.children.forEach(function(t,o){t.setPosition(e.node.getPosition())}),e.ghostShadow=o},this)},e.prototype.lateUpdate=function(){this.tick++,this.tick>1&&(this.tick=0,this.shadowFollow())},e.prototype.onCollisionEnter=function(t,e){this.isSuperRange?this.vectX=0:this.onCollisionEnter(t,e)},e.prototype.ending=function(){if(this.isSuperRange){var t=Math.abs(this.node.x-this.char.node.x),e=cc.v2(this.node.x-this.srcVectX*t*.4,this.node.y+50),o=cc.v2(this.node.x-this.srcVectX*t*.8,this.node.y+50),n=cc.v2(this.char.node.x,this.char.node.y+130);cc.tween(this.node).bezierTo(.5,e,o,n).removeSelf().start(),this.ghostShadow&&cc.tween(this.ghostShadow).delay(.6).removeSelf().start()}else this.ending()},e.prototype.shadowFollow=function(){var t=this;this.ghostShadow&&this.ghostShadow.children.forEach(function(e,o){e.stopAllActions(),cc.tween(e).to(.01+.03*o,{x:t.node.x,y:t.node.y}).start()})},e=r([c],e)}(i.default));o.default=l,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","./Throwing":"Throwing"}],SuperSkill0:[function(t,e,o){"use strict";cc._RF.push(e,"6e894DDnrlDeLP6C5K/mQtT","SuperSkill0");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/SoundsManager"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=30,e.trigerStep=0,e}return n(e,t),e.prototype.hasEnter=function(){return!0},e.prototype.enter=function(){a.default.playEff("sound_3"),this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect()},e.prototype.enterExit=function(){this.character.rigid.active=!0,this.character.ghostNode.enableGhost(!1)},e.prototype.enterUpdate=function(){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)?this.character.node.x=t:this.character.fsmAct.forceIdle()},e.prototype.start=function(){t.prototype.start.call(this),this.trigerStep=0,this.character.rigid.active=!1,this.target.rigid.active=!1,this.target.reset(),this.target.fsmAct.forceLocked(),this.target.isOnGround=!1,this.target.node.scaleX=-this.target.node.scaleX,this.target.node.runAction(cc.moveBy(.2,0,50)),this.target.createBeatenEff(),this.dealDamage(),a.default.playEff("sound_3")},e.prototype.triger=function(){this.trigerStep>4||(3==this.trigerStep?(this.target.node.scaleY=-this.target.node.scaleY,this.target.node.y+=300,this.target.node.runAction(cc.sequence(cc.delayTime(.2),cc.moveBy(.2,0,-270)))):4==this.trigerStep?(this.target.node.scaleY=-this.target.node.scaleY,this.target.node.y-=300,this.target.fsmAct.forceFloating(!0,2),this.dealDamage()):2==this.trigerStep?(this.target.node.runAction(cc.moveBy(.2,0,200)),this.target.createBeatenEff(1),this.dealDamage(),a.default.playEff("sound_3")):(this.target.node.scaleX=-this.target.node.scaleX,this.target.node.runAction(cc.moveBy(.2,0,10)),this.target.createBeatenEff(),this.dealDamage(),a.default.playEff("sound_3")),this.trigerStep++)},e.prototype._update=function(){},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.rigid.active=!0,this.character.fsmAct.forceIdle()},e}(r.default);o.default=i,cc._RF.pop()},{"../../utils/SoundsManager":"SoundsManager","./SuperSkillBase":"SuperSkillBase"}],SuperSkill1:[function(t,e,o){"use strict";cc._RF.push(e,"414d0HSBcBN8a+k2gO4UG+W","SuperSkill1");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/ResCenter"),i=t("../rangedweapon/Throwing"),s=t("../../utils/Utils"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.character.turnAround(!0),this.scheduleOnce(function(){e.createSuperRange()},.2)},e.prototype.triger=function(){},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.fsmAct.forceIdle();var e=this.character.node.parent.getChildByName("SuperEff");e&&e.removeFromParent()},e.prototype.createSuperRange=function(){var t=this;a.default.loadPrefabsInBundle(1,"roles/hero_2/superRange",function(e){var o=0;t.schedule(function(){var n=cc.instantiate(e),r=t.character.getFaceToTargetVect();n.group=t.character.atkGroup,n.setPosition(t.character.node.x+250*r.x,t.character.node.y+s.default.randomRange(100,140)),n.getComponent(i.default).init(r.x,t.character.props.id,t.character.props.getSuperSkillDamage(o),t.character.target.node),t.character.node.parent.addChild(n,2),o++},.1,10)},this),a.default.loadPrefabsInBundle(1,"roles/hero_2/superEff/eff",function(e){var o=cc.instantiate(e),n=t.character.node.position.clone();n.y+=70,o.scaleX=-t.character.getFaceToTargetVect().x*o.scaleX,o.setPosition(n),t.character.node.parent.addChild(o,2,"SuperEff")},this)},e}(r.default);o.default=c,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/Utils":"Utils","../rangedweapon/Throwing":"Throwing","./SuperSkillBase":"SuperSkillBase"}],SuperSkill2:[function(t,e,o){"use strict";cc._RF.push(e,"b3f67og+wBNH6wbRukHohHW","SuperSkill2");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/SoundsManager"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=1.8,e.speedX=30,e.tick=0,e}return n(e,t),e.prototype.hasEnter=function(){return!0},e.prototype.enter=function(){this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect(),a.default.playEff("sound_0")},e.prototype.enterExit=function(){this.character.rigid.active=!0,this.character.ghostNode.enableGhost(!1)},e.prototype.enterUpdate=function(){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)?this.character.node.x=t:this.character.fsmAct.forceIdle()},e.prototype.start=function(){t.prototype.start.call(this),this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.scheduleOnce(this._scheduleOver,this.duration),this.dealDamage(),this.target.createBeatenEff(1),this.target.rigid.active=!1,this.target.reset(),this.target.fsmAct.forceLocked()},e.prototype._update=function(){this.tick++,this.tick>10&&(this.tick=0,this.dealDamage(),this.target.createBeatenEff(1));var t=this.character.node.x+this.vector.x*this.speedX,e=this.target.node.x+this.vector.x*this.speedX;t<this.character.camera.getBorderLeftX()+200?t=this.character.camera.getBorderLeftX()+200:t>this.character.camera.getBorderRightX()-200&&(t=this.character.camera.getBorderRightX()-200),e<this.character.camera.getBorderLeftX()+50?e=this.character.camera.getBorderLeftX()+50:e>this.character.camera.getBorderRightX()-50&&(e=this.character.camera.getBorderRightX()-50),this.character.node.x=t,this.target.node.x=e},e.prototype.exit=function(){},e.prototype._scheduleOver=function(){this.character.fsmAct.forceIdle(),this.character.rigid.active=!0,this.target.rigid.active=!0,this.target.fsmAct.forceFloating(!1,2),this.character.ghostNode.enableGhost(!1),this.character.gameCtrl._shadowTheBg(!1)},e}(r.default);o.default=i,cc._RF.pop()},{"../../utils/SoundsManager":"SoundsManager","./SuperSkillBase":"SuperSkillBase"}],SuperSkill3:[function(t,e,o){"use strict";cc._RF.push(e,"ea2bdluK5dDZYdTqVNxwWec","SuperSkill3");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/ResCenter"),i=t("../rangedweapon/Throwing"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=1.2,e.speedX=30,e}return n(e,t),e.prototype.start=function(){var e=this;t.prototype.start.call(this),this.character.turnAround(!0),a.default.loadPrefabsInBundle(1,"roles/hero_4/superRange/superRange",function(t){var o=cc.instantiate(t),n=e.character.node.position.clone();n.x+=105*e.character.getFaceToTargetVect().x,n.y+=160,o.getChildByName("eff").group=e.character.atkGroup,o.setPosition(n),o.scaleX=e.character.getFaceToTargetVect().x*o.scaleX,o.getChildByName("eff").getComponent(i.default).init(0,e.character.props.id,0,void 0,e.character),e.character.node.parent.addChild(o,2,"SuperSkill3")},this),this.scheduleOnce(this._scheduleOver,this.duration)},e.prototype.triger=function(){},e.prototype.exit=function(){},e.prototype._scheduleOver=function(){this.character.fsmAct.forceIdle(),this.character.gameCtrl._shadowTheBg(!1);var t=this.character.node.parent.getChildByName("SuperSkill3");t&&t.removeFromParent()},e}(r.default);o.default=s,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../rangedweapon/Throwing":"Throwing","./SuperSkillBase":"SuperSkillBase"}],SuperSkill4:[function(t,e,o){"use strict";cc._RF.push(e,"8f879QTbi9IY4wdrq3wmqga","SuperSkill4");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/ResCenter"),i=t("../../utils/Utils"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=10,e.trigerStep=0,e.translate=!1,e}return n(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.translate=!0,this.trigerStep=0,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect(),this.character.turnAround(!0)},e.prototype.triger=function(){this.trigerStep>4||(0==this.trigerStep?(this.target.isOnGround&&!this.target.fsmAct.isDefence()?(this.target.reset(),this.target.fsmAct.forceLocked(),this.createBeatenEff(),this.dealDamage(),this.character.ghostNode.enableGhost(!1)):(i.default.shake(this.target.camera.node,void 0,void 0,12),this.character.fsmAct.forceIdle()),this.translate=!1):(this.createBeatenEff(),this.dealDamage(),4==this.trigerStep&&(this.createEff(1),this.target.fsmAct.forceFloating(!1,2))),this.trigerStep++)},e.prototype._update=function(){if(this.translate){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)&&(this.character.node.x=t)}},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.fsmAct.forceIdle()},e.prototype.createBeatenEff=function(){var t=this;a.default.loadPrefabsInBundle(1,"roles/hero_5/beatenEff/eff",function(e){var o=cc.instantiate(e);o.setPosition(t.target.node.x,t.target.node.y+150),o.rotation=i.default.randomRange(60,120),t.character.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(.3),cc.removeSelf())),i.default.shake(t.target.camera.node,void 0,void 0,12)},this)},e.prototype.createEff=function(t){var e=this,o=this.character.node.getPosition();o.y+=140,1==t&&(o.x+=360*this.character.getFaceToTargetVect().x),a.default.loadPrefabsInBundle(1,"roles/hero_5/superEff/eff"+t,function(t){var n=cc.instantiate(t),r=n.getComponent(cc.Animation);n.setPosition(o),r.on("finished",function(){n.removeFromParent()},e),e.character.node.parent.addChild(n)},this)},e}(r.default);o.default=s,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/Utils":"Utils","./SuperSkillBase":"SuperSkillBase"}],SuperSkill5:[function(t,e,o){"use strict";cc._RF.push(e,"098c9x1BdVAWISXHecvaB9Q","SuperSkill5");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/ResCenter"),i=t("../../utils/Utils"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=30,e.trigerStep=0,e.targetSpeedX=0,e}return n(e,t),e.prototype.hasEnter=function(){return!0},e.prototype.enter=function(){this.speedX=30,this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect()},e.prototype.enterExit=function(){this.character.rigid.active=!0,this.character.ghostNode.enableGhost(!1)},e.prototype.enterUpdate=function(){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)?this.character.node.x=t:this.character.fsmAct.forceIdle()},e.prototype.start=function(){t.prototype.start.call(this),this.speedX=0,this.trigerStep=0,this.character.rigid.active=!1,this.target.rigid.active=!1,this.target.reset(),this.target.fsmAct.forceLocked()},e.prototype.triger=function(){var t=this;if(4==this.trigerStep){this.target.createBeatenEff(1),this.dealDamage(),this.target.animator.playAnim("11",!1),this.targetSpeedX=30;this.character.node.stopAllActions(),cc.tween(this.character.node).delay(.1).call(function(){t.targetSpeedX=0}).delay(.2).call(function(){t.speedX=30}).delay(.1).call(function(){t.speedX=0}).start()}else 5==this.trigerStep?(this.dealDamage(),this.createBeatenEff(),this.target.fsmAct.forceFloating(!1,2)):(this.target.createBeatenEff(1),this.dealDamage());this.trigerStep++},e.prototype._update=function(){if(this.targetSpeedX){var t=this.target.node.x+this.vector.x*this.targetSpeedX;this.inBorder(t)&&(this.target.node.x=t)}if(this.speedX){t=this.character.node.x+this.vector.x*this.speedX;(this.vector.x>0&&t<=this.target.node.x||this.vector.x<0&&t>=this.target.node.x)&&(this.character.node.x=t)}},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.rigid.active=!0,this.character.fsmAct.forceIdle()},e.prototype.createBeatenEff=function(){var t=this;a.default.loadPrefabsInBundle(1,"roles/hero_6/superEff/eff",function(e){var o=cc.instantiate(e);o.setPosition(t.target.node.x,t.target.node.y),o.rotation=i.default.randomRange(60,120),t.character.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(.3),cc.removeSelf())),i.default.shake(t.target.camera.node,void 0,void 0,12)},this)},e}(r.default);o.default=s,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/Utils":"Utils","./SuperSkillBase":"SuperSkillBase"}],SuperSkill6:[function(t,e,o){"use strict";cc._RF.push(e,"45ca5F/cERKorUqYk3l5IbX","SuperSkill6");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/SoundsManager"),i=t("../rangedweapon/SuperShield"),s=t("../../utils/ResCenter"),c=t("../../utils/Utils"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=30,e.trigerStep=0,e.dotEnabled=!1,e.tick=0,e.superShield=null,e}return n(e,t),e.prototype.hasEnter=function(){return!0},e.prototype.enter=function(){a.default.playEff("sound_0"),this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect()},e.prototype.enterExit=function(){this.character.rigid.active=!0,this.character.ghostNode.enableGhost(!1)},e.prototype.enterUpdate=function(){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)?this.character.node.x=t:this.character.fsmAct.forceIdle()},e.prototype.start=function(){var e=this;(t.prototype.start.call(this),this.trigerStep=0,this.character.rigid.active=!1,this.target.rigid.active=!1,this.target.reset(),this.target.fsmAct.forceLocked(),this.target.isOnGround=!1,this.target.node.x>this.character.node.x)?this.character.camera.getBorderRightX()-this.target.node.x<.5*cc.visibleRect.width&&(this.character.animator.pauseAnim(),cc.tween(this.character.node).to(.1,{x:this.target.node.x+100}).call(function(){e.target.turnAround(!0),e.character.turnAround(!0),e.character.animator.resumeAnim()}).start()):this.target.node.x-this.character.camera.getBorderLeftX()<.5*cc.visibleRect.width&&(this.character.animator.pauseAnim(),cc.tween(this.character.node).to(.1,{x:this.target.node.x-100}).call(function(){e.target.turnAround(!0),e.character.turnAround(!0),e.character.animator.resumeAnim()}).start())},e.prototype.triger=function(){var t=this;6==this.trigerStep?(this.target.fsmAct.forcePush(1.5,.8),this.dealDamage()):7==this.trigerStep?(this.throwShield(),cc.tween(this.target.node).delay(.3).call(function(){t.dotEnabled=!0}).delay(1.3).call(function(){t.dotEnabled=!1,t.superShield&&t.superShield.ending()}).start()):8==this.trigerStep||this.dealDamage(),this.trigerStep++},e.prototype._update=function(){this.dotEnabled&&(this.tick++,this.tick>8&&(this.tick=0,this.dealDamage()))},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.rigid.active=!0,this.character.fsmAct.forceIdle(),this.target.rigid.active=!0,this.target.fsmAct.forceIdle()},e.prototype.dealDamage=function(){t.prototype.dealDamage.call(this),this.createBeatenEff()},e.prototype.createBeatenEff=function(){var t=this;s.default.loadPrefabsInBundle(1,"roles/hero_7/beatenEff/close/eff",function(e){var o=cc.instantiate(e);o.setPosition(t.target.node.x,t.target.node.y+150),o.rotation=c.default.randomRange(60,120),t.target.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(.4),cc.removeSelf())),c.default.shake(t.target.camera.node,void 0,void 0,12)},this)},e.prototype.throwShield=function(){var t=this;this.character.throwing(function(e){var o=e.getComponent(i.default);o.isSuperRange=!0,t.superShield=o},this,"/srweapon")},e}(r.default);o.default=l,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../../utils/Utils":"Utils","../rangedweapon/SuperShield":"SuperShield","./SuperSkillBase":"SuperSkillBase"}],SuperSkill7:[function(t,e,o){"use strict";cc._RF.push(e,"975a2L+TrVHRIIZ2G7wmaCw","SuperSkill7");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=t("./SuperSkillBase"),a=t("../../utils/SoundsManager"),i=t("../../utils/ResCenter"),s=t("../../utils/Utils"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedX=30,e.trigerStep=0,e}return n(e,t),e.prototype.hasEnter=function(){return!0},e.prototype.enter=function(){a.default.playEff("sound_3"),this.character.rigid.active=!1,this.character.ghostNode.enableGhost(!0),this.vector=this.character.getFaceToTargetVect()},e.prototype.enterExit=function(){this.character.rigid.active=!0,this.character.ghostNode.enableGhost(!1)},e.prototype.enterUpdate=function(){var t=this.character.node.x+this.vector.x*this.speedX;this.inBorder(t)?this.character.node.x=t:this.character.fsmAct.forceIdle()},e.prototype.start=function(){t.prototype.start.call(this),this.trigerStep=0,this.character.rigid.active=!1,this.target.rigid.active=!1,this.target.reset(),this.target.fsmAct.forceLocked(),this.target.isOnGround=!1},e.prototype.triger=function(){9==this.trigerStep?(this.target.fsmAct.forceFloating(!1,2),this.dealDamage(),this.createSuperEff()):7==this.trigerStep||8==this.trigerStep||10==this.trigerStep||this.dealDamage(),this.trigerStep++},e.prototype._update=function(){},e.prototype.exit=function(){t.prototype.exit.call(this),this.character.rigid.active=!0,this.character.fsmAct.forceIdle()},e.prototype.dealDamage=function(){t.prototype.dealDamage.call(this),this.createBeatenEff()},e.prototype.createBeatenEff=function(){var t=this;i.default.loadPrefabsInBundle(1,"roles/hero_8/beatenEff/eff",function(e){var o=cc.instantiate(e);o.setPosition(t.target.node.x,t.target.node.y+150),o.rotation=s.default.randomRange(60,120),t.target.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(.3),cc.removeSelf())),s.default.shake(t.target.camera.node,void 0,void 0,12)},this)},e.prototype.createSuperEff=function(){var t=this;i.default.loadPrefabsInBundle(1,"roles/hero_8/superEff/eff",function(e){var o=cc.instantiate(e);t.vector.x<0&&(o.scaleX=-o.scaleX),o.setPosition(t.character.node.x+180*t.vector.x,t.character.node.y+160),t.character.node.parent.addChild(o,2),o.runAction(cc.sequence(cc.delayTime(.3),cc.removeSelf()))},this)},e}(r.default);o.default=c,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../../utils/Utils":"Utils","./SuperSkillBase":"SuperSkillBase"}],SuperSkillBase:[function(t,e,o){"use strict";cc._RF.push(e,"edf0cnUjWVELbZrHwamTys+","SuperSkillBase");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(e){var o=t.call(this)||this;return o.character=null,o.target=null,o.damageStep=0,o.character=e,o}return n(e,t),e.prototype.dealDamage=function(){this.target.dealDamage(this.character.props.getSuperSkillDamage(this.damageStep)),this.damageStep++,this.character.beatenSound()},e.prototype.inBorder=function(t){return t>this.character.camera.getBorderLeftX()+50&&t<this.character.camera.getBorderRightX()-50},e.prototype.setTarget=function(t){this.target=t},e.prototype.hasEnter=function(){return!1},e.prototype.enter=function(){},e.prototype.enterExit=function(){},e.prototype.enterUpdate=function(){},e.prototype.start=function(){this.damageStep=0},e.prototype.triger=function(){},e.prototype._update=function(){},e.prototype.exit=function(){this.character.gameCtrl._shadowTheBg(!1)},e}(cc.Component);o.default=r,cc._RF.pop()},{}],Throwing:[function(t,e,o){"use strict";cc._RF.push(e,"784ceMoN0pBjLL1B74VKsOg","Throwing");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/ResCenter"),i=t("../CharacterActCollider"),s=t("../../utils/SoundsManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.endingType=0,e.speed=30,e.isRotate=!0,e.offset=null,e.startSound="",e.endingSound="",e.specifyEff=!1,e.vectX=0,e.srcVectX=0,e.triggerTimes=1,e.roleId=0,e.damage=0,e}return n(e,t),e.prototype.start=function(){this.playStartSound(),this.isRotate&&this.rotate(this.node)},e.prototype.update=function(t){this.node.x+=this.vectX*this.speed,this.char&&(this.node.x<this.char.camera.getBorderLeftX()-100||this.node.x>this.char.camera.getBorderRightX()+100)&&this.node.isValid&&this.node.removeFromParent()},e.prototype.init=function(t,e,o,n,r){this.vectX=t,this.srcVectX=t,this.roleId=e,this.effName="rweapon_"+this.roleId,this.damage=o,this.target=n,this.char=r},e.prototype.onCollisionEnter=function(t,e){if(this.triggerTimes<=0)e.enabled=!1;else{var o=t.node.getComponent(i.default);o&&(o.character.fsmAct.isDefence()?o.character.createDefenceEff():(o.character.dealDamage(this.damage),o.character.fsmAct.forceBeaten(!0,!0))),this.playEndSound(),this.ending(),this.triggerTimes--}},e.prototype.rotate=function(t){cc.tween(t).by(.3,{angle:-360}).repeatForever().start()},e.prototype.ending=function(){this.node.active=!1,this.createEff()},e.prototype.createEff=function(){var t=this,e=this.node.parent.getChildByName(this.effName);e&&e.removeFromParent(),this.specifyEff?a.default.loadPrefabsInBundle(1,"eff/rweapon/eff_"+this.roleId+"/eff",function(e){var o=cc.instantiate(e);o.getComponent(cc.Animation).on("finished",t.effectAnimationOver,t),o.setPosition(t.node.position),t.node.parent.addChild(o,2,t.effName)},this):this.node.removeFromParent()},e.prototype.effectAnimationOver=function(t,e){var o=this.node.parent.getChildByName(this.effName);o&&o.removeFromParent(),this.node.removeFromParent()},e.prototype.playStartSound=function(){""!=this.startSound&&s.default.playEff(this.startSound)},e.prototype.playEndSound=function(){""!=this.endingSound&&s.default.playEff(this.endingSound)},r([u(cc.Integer)],e.prototype,"endingType",void 0),r([u(cc.Integer)],e.prototype,"speed",void 0),r([u(cc.Boolean)],e.prototype,"isRotate",void 0),r([u(cc.Vec2)],e.prototype,"offset",void 0),r([u(cc.String)],e.prototype,"startSound",void 0),r([u(cc.String)],e.prototype,"endingSound",void 0),r([u(cc.Boolean)],e.prototype,"specifyEff",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../utils/ResCenter":"ResCenter","../../utils/SoundsManager":"SoundsManager","../CharacterActCollider":"CharacterActCollider"}],TimerUtils:[function(t,e,o){"use strict";cc._RF.push(e,"6bf29BcCWtM6532YBz8PUL4","TimerUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.TimerUtils=void 0;var n=function(){function t(){}return t.loopNum_baron=function(t,e,o,n){return this.schedule_baron(t,e,o,n)},t.once_baron=function(t,e){return void 0===e&&(e=0),this.scheduleOnce_baron(t,e)},t.loop_baron=function(t,e,o){return void 0===e&&(e=0),void 0===o&&(o=0),this.schedule_baron(t,e||.02,cc.macro.REPEAT_FOREVER,o)},t.removeTimer_baron=function(t){this.unschedule_baron(t)},t.removeAllTimers_baron=function(){cc.director.getScheduler().unscheduleAllForTarget(this)},t.scheduleOnce_baron=function(t,e){return this.schedule_baron(t,0,0,e),t},t.schedule_baron=function(t,e,o,n){return cc.director.getScheduler().schedule(t,this,e,o,n),t},t.unschedule_baron=function(t){t&&cc.director.getScheduler().unschedule(t,this)},t}();o.TimerUtils=n,cc._RF.pop()},{}],Toast:[function(t,e,o){"use strict";cc._RF.push(e,"3ca8dBSg39ApKnurBtXLtPg","Toast");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgText=null,e.data="",e}return n(e,t),e.prototype.onLoad=function(){this.show()},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.start=function(){},e.prototype.init=function(t){this.data=t},e.prototype.show=function(){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=this.data,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.hide=function(){this.node.active=!1},r([s(cc.Node)],e.prototype,"msgText",void 0),e=r([i],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],TransitionScene:[function(t,e,o){"use strict";cc._RF.push(e,"b24dfJOF4BPfJCCHg28rRHK","TransitionScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../FrameWork/Script/Mgr/GameMgr"),i=t("../CustomUser"),s=t("../utils/ResCenter"),c=t("../config/LevelConfig"),l=t("../../../FrameWork/Script/User/User"),u=t("./component/HeroMask"),p=t("../utils/Utils"),h=cc._decorator,d=h.ccclass,f=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plLeft=null,e.plRight=null,e.spCenter=null,e.heroMasks=[],e.pkgIndex=0,e.subPkgs=["subRes","subRes1"],e.rids=[],e}return n(e,t),e.prototype.onLoad=function(){moosnow.platform.showBanner(!1);for(var t=[i.default.tryHeroId?i.default.tryHeroId:i.default.getHeroId(),i.default.levelData.LevelEnemyId],e=0;e<t.length;e++)this.heroMasks[e].initHeroId(t[e]);i.default.tryHeroId=0,this.rids=t},e.prototype.start=function(){this.action()},e.prototype.action=function(){var t=this,e=.5*cc.visibleRect.width,o=-e-100,n=e+100;this.plLeft.x=-e-this.plLeft.width,this.plRight.x=e+this.plRight.width,this.spCenter.opacity=0,this.spCenter.scale=2;cc.tween(this.plLeft).to(.4,{x:o},{easing:"quartOut"}).start(),cc.tween(this.plRight).to(.4,{x:n},{easing:"quartOut"}).start(),cc.tween(this.spCenter).delay(.2).to(.7,{scale:1,opacity:255},{easing:"elasticOut"}).call(function(){t.loadSubPackage()}).start()},e.prototype.loadScene=function(){this.preloadGameRes(function(){cc.director.preloadScene("FightScene",null,function(){a.default.getInstance_baron().loadFightScene()})},this)},e.prototype.loadSubPackage=function(){if(this.pkgIndex<this.subPkgs.length){var t=this.subPkgs[this.pkgIndex],e=this;cc.assetManager.loadBundle(t,function(t,o){t||(i.default.bundles[e.pkgIndex]=o,e.pkgIndex++,e.loadSubPackage())})}else moosnow.platform.hideBanner(),this.loadScene()},e.prototype.preloadGameRes=function(t,e){var o=this;i.default.assets=new i.PreloadAssets;var n=p.default.randomRange(0,1),r=["gamescene/scene_"+n+"/bgview","gamescene/scene_"+n+"/distantview"];s.default.loadPrefabsInBundle(0,r,function(t){i.default.assets.gameBgs=[],t.forEach(function(t,e){i.default.assets.gameBgs.push(cc.instantiate(t))})});for(var a=[],c=0;c<this.rids.length;c++){var l="roles/hero_"+this.rids[c]+"/hero_prefab";a.push(l)}s.default.loadPrefabsInBundle(1,a,function(n){i.default.assets.roles=[],n.forEach(function(t,e){i.default.assets.roles.push({node:cc.instantiate(t),rid:o.rids[e]})}),t&&t.call(e)})},e.prototype.getCurLevel=function(){var t=l.default.getLeveNum_baron(),e=c.default.getInstance().getDataLength();if(t>e&&(null==(t=i.default.getRandomLevels()[i.default.getRandomLevel()])||void 0==t)){for(var o=[],n=0;n<e;n++)o.push(n+1);Math.random(),o=o.sort(function(t,e){return Math.round(Math.random())?1:-1}),i.default.setRandomLevel(0),t=o[i.default.getRandomLevel()],i.default.setRandomLevels(o)}return i.default.setLevelModel(t),t},r([f(cc.Node)],e.prototype,"plLeft",void 0),r([f(cc.Node)],e.prototype,"plRight",void 0),r([f(cc.Node)],e.prototype,"spCenter",void 0),r([f([u.default])],e.prototype,"heroMasks",void 0),e=r([d],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../FrameWork/Script/User/User":"User","../CustomUser":"CustomUser","../config/LevelConfig":"LevelConfig","../utils/ResCenter":"ResCenter","../utils/Utils":"Utils","./component/HeroMask":"HeroMask"}],TreasureBoxView:[function(t,e,o){"use strict";cc._RF.push(e,"3e162tubDpPl4r5htlzSCX5","TreasureBoxView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/Utils"),i=t("../component/HeroMask"),s=t("../../../../FrameWork/Script/User/User"),c=t("../../utils/ResCenter"),l=t("../../../../FrameWork/Script/Mgr/GameMgr"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chestEff=null,e.btnConfirm=null,e.skeletonBox=null,e.plGoldReward=null,e.plRoleReward=null,e.btnContinue=null,e.endGouXuank=null,e.endGouXuanCheck=null,e.curBtn=null,e.btnSrcY=0,e.wudianEnabled=!1,e.unclickable=!1,e.canGoOn=!1,e.data=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.chestEff.y=2e3,this.endGouXuank.active=!1;cc.tween(this.chestEff).delay(.5).call(function(){t.chestEff.y=6.4}).start(),this.skeletonBox.setCompleteListener(function(e){t.chestEff.removeFromParent(!0),t.showRewardPanel()})},e.prototype.onSwitchDouble=function(){this.endGouXuanCheck.active=!this.endGouXuanCheck.active},e.prototype.onEnable=function(){moosnow.platform.hideWXAllNative(),moosnow.platform.showMoreLeftCustomNativeAd(),moosnow.platform.showMoreRightCustomNativeAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype.onDisable=function(){moosnow.platform.hideWXAllNative(),moosnow.platform.hideBanner()},e.prototype.start=function(){},e.prototype.init=function(t){this.data=t},e.prototype.showRewardPanel=function(){"gold"==this.data.type?this.showGoldPanel():"role"==this.data.type&&this.showRolePanel()},e.prototype.showGoldPanel=function(){this.plGoldReward.active=!0;var t=a.default.findChild(this.plGoldReward,"New Node/LabelAtlas - 001").getComponent(cc.Label),e=this.plGoldReward.getChildByName("New Sprite"),o=this.plGoldReward.getChildByName("bgLight");t.string=this.data.rewardNum+"",this.curBtn=e,o.runAction(cc.repeatForever(cc.rotateBy(3,360)));var n=this.plGoldReward.getChildByName("jb1");if(n.scale=0,n.opacity=0,cc.tween(n).to(.5,{scale:1.2,opacity:255},{easing:"backOut"}).start(),this.data.inEnd){e.active=!1,this.endGouXuank.active=!0,l.default.getInstance_baron().checkBoxWatchVideoTimes++;var r=!1,i=moosnow.data.getScene();moosnow.Common.isEmpty(i)||(r="1001"==i||"1089"==i||l.default.getInstance_baron().checkBoxWatchVideoTimes>0&&l.default.getInstance_baron().checkBoxWatchVideoTimes%2==0),this.endGouXuanCheck.active=r,this.btnContinue.active=!0,this.curBtn=this.btnContinue}},e.prototype.showRolePanel=function(){this.plRoleReward.active=!0;var t=this.plRoleReward.getChildByName("hero_1").getComponent(i.default),e=this.plRoleReward.getChildByName("New Sprite");this.curBtn=e,t.initHeroId(this.data.heroId),t.node.scale=0,t.node.opacity=0,cc.tween(t.node).to(.5,{scale:.5,opacity:255},{easing:"backOut"}).start()},e.prototype.onClickNext=function(){var t=this,e=function(){t.data&&t.data.callFunc&&t.data.callFunc.call(t.data.caller),t.node.removeFromParent()};1==this.endGouXuank.active&&1==this.endGouXuanCheck.active?(moosnow.platform.reportEvent("video",{type:19}),moosnow.platform.showVideo(function(o){switch(o){case moosnow.VIDEO_STATUS.NOTEND:c.default.createToast("\u89c2\u770b\u89c6\u9891\u9886\u53d6\u53cc\u500d\u5956\u52b1!");break;case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:s.default.addMoney_baron(t.data.rewardNum),c.default.createToast("\u83b7\u5f97\u53cc\u500d\u5956\u52b1!"),moosnow.platform.reportEvent("videofinish",{type:19}),e()}})):e()},r([h(cc.Node)],e.prototype,"chestEff",void 0),r([h(cc.Node)],e.prototype,"btnConfirm",void 0),r([h(sp.Skeleton)],e.prototype,"skeletonBox",void 0),r([h(cc.Node)],e.prototype,"plGoldReward",void 0),r([h(cc.Node)],e.prototype,"plRoleReward",void 0),r([h(cc.Node)],e.prototype,"btnContinue",void 0),r([h(cc.Node)],e.prototype,"endGouXuank",void 0),r([h(cc.Node)],e.prototype,"endGouXuanCheck",void 0),e=r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../utils/ResCenter":"ResCenter","../../utils/Utils":"Utils","../component/HeroMask":"HeroMask"}],UnlockDialogView:[function(t,e,o){"use strict";cc._RF.push(e,"52c10jFja5EH6GvIsRYxEVK","UnlockDialogView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../component/ExDialogView"),i=t("../../config/HeroConfig"),s=t("./UnlockItem"),c=t("../../core/HeroProperty"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e}return n(e,t),e.prototype.onEnable=function(){t.prototype.onEnable.call(this),moosnow.platform.hideWXAllNative(),moosnow.platform.hideBanner(),moosnow.platform.showInter(function(){moosnow.platform.showMoreLeftCustomNativeAd(),moosnow.platform.showMoreRightCustomNativeAd()}),this.init()},e.prototype.init=function(){for(var t=[],e=[],o=[],n=0;n<i.default.getInstance().getDataLength();n++){var r=new c.HeroProperty;r.initData(i.default.getInstance().getDatas()[n].Id),r.isUnlocked()?t.push(r):e.push(r)}e.length>2&&(e=e.sort(function(t,e){return Math.round(Math.random())?1:-1}));for(var a=0,s=e;a<s.length;a++){var l=s[a];if(o.push(l),o.length>=3)break}if(0==o.length)return this.node.active=!1,void(this.lastView&&(this.lastView.active=!0));this.items.forEach(function(t,e){e>o.length-1?t.node.active=!1:t.init(o[e])})},e.prototype.onClickClose=function(){t.prototype.onClickClose.call(this),moosnow.platform.hideWXAllNative(),moosnow.platform.showfourCustomNativeHorizontalLeftAd(),moosnow.platform.showBanner(!1,null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM)},r([p([s.default])],e.prototype,"items",void 0),e=r([u],e)}(a.default);o.default=h,cc._RF.pop()},{"../../config/HeroConfig":"HeroConfig","../../core/HeroProperty":"HeroProperty","../component/ExDialogView":"ExDialogView","./UnlockItem":"UnlockItem"}],UnlockItem:[function(t,e,o){"use strict";cc._RF.push(e,"eb34erETxVAk4zTDd6ieXFl","UnlockItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(i=(a<3?r(i):a>3?r(e,o,i):r(e,o))||i);return a>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../FrameWork/Script/User/User"),i=t("../../../../FrameWork/Script/Mgr/GameMgr"),s=t("../component/HeroMask"),c=t("../../utils/SoundsManager"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnGoldUnlock=null,e.btnVideoUnlock=null,e.lblPrice=null,e.rtNick=null,e.lblVideoTime=null,e.ndUnlocked=null,e.heroMask=null,e._data=null,e.isVideoUnlock=!1,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.init=function(t){this._data=t,this._updateButtonState(),this.lblPrice.string=t.unlockGoldNum+"",this.rtNick.string="<b>"+t.name+"</b>",this.lblVideoTime.string=this._data.heroData.videoTime+"/"+this._data.unlockVideoTime,this.heroMask.initHeroId(this._data.id)},e.prototype.onClickUnlock=function(){var t=this;if(this._data){if(this.isVideoUnlock){if(this._data.heroData.videoTime>=this._data.unlockVideoTime)return;moosnow.platform.reportEvent("video",{type:21}),moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:case moosnow.VIDEO_STATUS.ERR:break;case moosnow.VIDEO_STATUS.END:if(moosnow.platform.reportEvent("videofinish",{type:21}),t._data.heroData.videoTime>=t._data.unlockVideoTime)return;t._data.heroData.videoTime++,t._data.heroData.videoTime==t._data.unlockVideoTime&&t._data.unlock(),t._updateButtonState(),t.lblVideoTime.string=t._data.heroData.videoTime+"/"+t._data.unlockVideoTime,i.default.getInstance_baron().saveGameData_baron()}})}else a.default.subMoney_baron(this._data.unlockGoldNum),this._data.unlock(),this._updateButtonState(),i.default.getInstance_baron().saveGameData_baron();c.default.click()}},e.prototype._updateButtonState=function(){if(this._data.isUnlocked())return this.btnGoldUnlock.active=!1,this.btnVideoUnlock.active=!1,void(this.ndUnlocked.active=!0);a.default.getMoney_baron()<this._data.unlockGoldNum?(this.isVideoUnlock=!0,this.btnGoldUnlock.active=!1,this.btnVideoUnlock.active=!0,this.ndUnlocked.active=!1):(this.isVideoUnlock=!1,this.btnGoldUnlock.active=!0,this.btnVideoUnlock.active=!1,this.ndUnlocked.active=!1)},r([p(cc.Node)],e.prototype,"btnGoldUnlock",void 0),r([p(cc.Node)],e.prototype,"btnVideoUnlock",void 0),r([p(cc.Label)],e.prototype,"lblPrice",void 0),r([p(cc.RichText)],e.prototype,"rtNick",void 0),r([p(cc.Label)],e.prototype,"lblVideoTime",void 0),r([p(cc.Node)],e.prototype,"ndUnlocked",void 0),r([p(s.default)],e.prototype,"heroMask",void 0),e=r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../../FrameWork/Script/Mgr/GameMgr":"GameMgr","../../../../FrameWork/Script/User/User":"User","../../utils/SoundsManager":"SoundsManager","../component/HeroMask":"HeroMask"}],User:[function(t,e,o){"use strict";cc._RF.push(e,"a1a5ei05EVBtYVLpdIe0BNl","User"),Object.defineProperty(o,"__esModule",{value:!0}),o.UserGameData=void 0;var n=t("../Event/EventMgr"),r=t("../Event/EventEnum"),a=t("../../../Game/Script/CustomUser"),i=function(){return function(){this.levelNum=1,this.moneyNum=0,this.crystalNum=0,this.unlockedItem=[],this.usedItem=-1,this.customData=new a.CustomData}}();o.UserGameData=i;var s=function(){function t(){}return Object.defineProperty(t,"isLogin_baron",{get:function(){return""!=t.code_baron||""!=t.token_baron},enumerable:!1,configurable:!0}),t.getSaveData_baron=function(){return JSON.stringify(t._gameData_baron)},t.testInitUser_baron=function(){t._gameData_baron.levelNum=1,t._gameData_baron.moneyNum=1e3,t._gameData_baron.crystalNum=1e3},t.getToken=function(){return moosnow.setting.getString(this.TOKEN,"")},t.setToken=function(t){moosnow.setting.setValue(this.TOKEN,t)},t.initiUser_baron=function(e){console.log("*****************************  User initUser  **************************************  "),console.log(e),this.getToken()||(this.setToken(moosnow.Common.generateUUID()),t._gameData_baron.levelNum=1,t._gameData_baron.moneyNum=0,t._gameData_baron.crystalNum=0,t._gameData_baron.usedItem=0,t._gameData_baron.levelNum<1&&(t._gameData_baron.levelNum=1),t._gameData_baron.unlockedItem.push(0),this.saveCoin(),this.saveDiamod(),this.setUsedItem(-1),this.setLeveNum_baron(1),moosnow.setting.setObject(this.UNLOCKED_ITEM,t._gameData_baron.unlockedItem),a.default.init(null))},t.setLeveNum_baron=function(e){moosnow.setting.setValue(this.CURRENT_LEVEL,e),t._gameData_baron.levelNum=e},t.getLeveNum_baron=function(){return moosnow.setting.getInt(this.CURRENT_LEVEL,1)},t.addMoney_baron=function(e){e=Math.ceil(e);var o=this.getMoney_baron();t._gameData_baron.moneyNum+=e,this.saveCoin(),n.default.emitEvent_baron(r.baron_Event.baron_Game_OnUserMoneyChange_baron,{curr:t._gameData_baron.moneyNum,last:o})},t.subMoney_baron=function(e){e=Math.ceil(e);var o=this.getMoney_baron();t._gameData_baron.moneyNum-=e,t._gameData_baron.moneyNum<0&&(t._gameData_baron.moneyNum=0),this.saveCoin(),n.default.emitEvent_baron(r.baron_Event.baron_Game_OnUserMoneyChange_baron,{curr:t._gameData_baron.moneyNum,last:o})},t.saveCoin=function(){moosnow.setting.setValue(this.MONEY_NUM,t._gameData_baron.moneyNum)},t.saveDiamod=function(){moosnow.setting.setValue(this.DIAMOND,t._gameData_baron.crystalNum)},t.getMoney_baron=function(){return t._gameData_baron.moneyNum=moosnow.setting.getInt(this.MONEY_NUM,0),t._gameData_baron.moneyNum},Object.defineProperty(t,"LeveNum",{get:function(){return moosnow.setting.getInt(this.CURRENT_LEVEL,1)},enumerable:!1,configurable:!0}),t.getUsedItem=function(){return t._gameData_baron.usedItem=moosnow.setting.getInt(this.USED_ITEM,0),t._gameData_baron.usedItem},t.setUsedItem=function(e){t._gameData_baron.usedItem=e,moosnow.setting.setValue(this.USED_ITEM,e)},t.addCrystal_baron=function(e){e=Math.ceil(e);var o=this.getCrystal_baron();t._gameData_baron.crystalNum+=e,this.saveDiamod(),n.default.emitEvent_baron(r.baron_Event.baron_Game_OnUserCrystalChange_baron,{curr:t._gameData_baron.crystalNum,last:o})},t.subCrystal_baron=function(e){e=Math.ceil(e);var o=this.getCrystal_baron();t._gameData_baron.crystalNum-=e,t._gameData_baron.crystalNum<0&&(t._gameData_baron.crystalNum=0),this.saveDiamod(),n.default.emitEvent_baron(r.baron_Event.baron_Game_OnUserCrystalChange_baron,{curr:t._gameData_baron.crystalNum,last:o})},t.getCrystal_baron=function(){return t._gameData_baron.crystalNum=moosnow.setting.getInt(this.DIAMOND,0),t._gameData_baron.crystalNum},t.getItemUnlocked_baron=function(){return t._gameData_baron.unlockedItem=moosnow.setting.getObject(this.UNLOCKED_ITEM,JSON.stringify([1])),t._gameData_baron.unlockedItem},t.itemIsUnlocked_baron=function(e){t._gameData_baron.unlockedItem=moosnow.setting.getObject(this.UNLOCKED_ITEM,JSON.stringify([1]));for(var o=0;o<t._gameData_baron.unlockedItem.length;++o)if(t._gameData_baron.unlockedItem[o]==e)return!0;return!1},t.unlockItem_baron=function(e){t.itemIsUnlocked_baron(e)?console.log("\u5546\u5e97\u91cd\u590d\u89e3\u9501 id : ",e):(t._gameData_baron.unlockedItem.push(e),moosnow.setting.setObject(this.UNLOCKED_ITEM,t._gameData_baron.unlockedItem),n.default.emitEvent_baron(r.baron_Event.baron_Game_OnUserUnlockedStore_baron,{unlocked:e}))},Object.defineProperty(t,"curUsedItem_baron",{get:function(){return t._gameData_baron.usedItem=moosnow.setting.getInt(this.USED_ITEM,0),t._gameData_baron.usedItem},set:function(e){t._gameData_baron.usedItem=e,moosnow.setting.setValue(this.USED_ITEM,e)},enumerable:!1,configurable:!0}),t.code_baron="",t.openId_baron="",t.token_baron=null,t.nickName_baron="",t.gender_baron=0,t.CURRENT_NEW_USER="CURRENT_NEW_USER",t.NEED_SHOW_PRIVACE="NEED_SHOW_PRIVACE",t.TOKEN="token",t.DIAMOND="DIAMOND",t.MONEY_NUM="MONEY_NUM",t.CURRENT_LEVEL="CURRENT_LEVEL",t.RANK_STAR="RANK_STAR",t.UNLOCKED_ITEM="UNLOCKED_ITEM",t.USED_ITEM="USED_ITEM",t.PLAY_GAME_TIMES="PLAY_GAME_TIMES",t.GATE_LIMIT_TIMES="GATE_LIMIT_TIMES",t.GAME_TI_LI="GAME_TI_LI",t.LAST_PLAY_TIME="LAST_PLAY_TIME",t.LEAVE_MAIN_TIME="LEAVE_MAIN_TIME",t.WATCH_VIDEO_TIMES="WATCH_VIDEO_TIMES",t.SKIN_TIMES="SKIN_TIMES",t._gameData_baron=new i,t}();o.default=s,cc._RF.pop()},{"../../../Game/Script/CustomUser":"CustomUser","../Event/EventEnum":"EventEnum","../Event/EventMgr":"EventMgr"}],Utilit:[function(t,e,o){"use strict";cc._RF.push(e,"61c44zlHUFAS7qfo4uDNl9l","Utilit"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Config/AppConfig"),r=t("./AppPlatform"),a=t("../Config/AppSwitchConfig"),i=function(){function t(){}return t.random_baron=function(t){return Math.floor(Math.random()*t)},t.convertDesignToFrameSize_baron=function(t){var e=t.convertToWorldSpace(cc.v2(0,t.height)),o=t.width,n=cc.view.getFrameSize(),r=(cc.view.getDesignResolutionSize(),cc.view.getVisibleSize()),a=n.width/r.height,i=cc.director.getScene().getChildByName("Canvas");if(i){var s=i.getComponent(cc.Canvas);s.fitWidth&&s.fitHeight||(s.fitWidth?a=n.width/r.width:s.fitHeight&&(a=n.height/r.height))}var c=r.height-e.y,l=e.x*a,u=c*a,p=o*a,h={};return h.left=l,h.top=u,h.width=p,h},t.colorHex2Rgb_baron=function(t){var e=cc.color(75,154,228);if(6==t.length){var o=parseInt("0x"+t.slice(0,2)),n=parseInt("0x"+t.slice(2,4)),r=parseInt("0x"+t.slice(4,6));e.r=o,e.g=n,e.b=r}return e},t.checkVersions_baron=function(){var t=n.default.Versions_baron;return null===t||""===t||(r.default.is_TT_GAME_baron()?t===a.default.getInstance_baron().getAppSwitchData_baron().ttcfg_baron.ttversions_baron:r.default.is_OPPO_GAME_baron()?t===a.default.getInstance_baron().getAppSwitchData_baron().oppocfg_baron.oppoversions_baron:r.default.is_QQ_PLAY_baron()?t===a.default.getInstance_baron().getAppSwitchData_baron().qqcfg_baron.qqversions_baron:r.default.is_WECHAT_GAME_baron()?t===a.default.getInstance_baron().getAppSwitchData_baron().version_baron:!r.default.is_WECHAT_GAME_baron()||t===a.default.getInstance_baron().getAppSwitchData_baron().vivocfg_baron.vivoversions_baron)},t.baron_OriginStageWidth_baron=1334,t.baron_OriginStageHeight_baron=750,t.baron_grayscaleMat_baron=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],t}();o.default=i,cc._RF.pop()},{"../Config/AppConfig":"AppConfig","../Config/AppSwitchConfig":"AppSwitchConfig","./AppPlatform":"AppPlatform"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"214a5Zec+hKD4BAv4yNR4pP","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.randomRange=function(t,e){return Math.round(Math.random()*(e-t))+t},t.randomMax=function(t){return Math.round(Math.random()*t)},t.floatRandomRange=function(t,e){return Math.random()*(e-t)+t},t.vt2distance=function(t,e,o,n){return Math.sqrt(Math.pow(t-o,2)+Math.pow(e-n,2))},t.searchStr=function(t,e){return t.indexOf(e)>=0},t.findChild=function(t,e){for(var o=e.split("/"),n=0;n<o.length;n++)if(e=o[n],null==(t=t.getChildByName(e)))return null;return t},t.getCenterVec2=function(t,e){var o=cc.v2();return cc.Vec2.add(o,t,e),o.mulSelf(.5),o},t.shake=function(t,e,o,n){if(void 0===e&&(e=.1),void 0===o&&(o=1),void 0===n&&(n=5),0==t.getNumberOfRunningActions()){t.getPosition();var r=cc.sequence(cc.moveBy(e,n,n),cc.moveBy(e,n,-n),cc.moveBy(e,-n,-n),cc.moveBy(e,-n,n),cc.moveBy(e,0,0));t.stopAllActions(),t.runAction(cc.repeat(r,o))}},t.fadeIn=function(t,e){void 0===e&&(e=.2),t.opacity=0,t.runAction(cc.fadeIn(e))},t.getTimeStr=function(t){var e="",o=Math.floor(t/3600).toString();1==o.length&&(o="0"+o),e=o;var n=Math.floor(t/60%60).toString();1==n.length&&(n="0"+n),e+=":"+n;var r=Math.floor(t%60).toString();return 1==r.length&&(r="0"+r),e+=":"+r},t.getXdistance=function(t,e){return Math.abs(t.x-e.x)},t.debug=!1,t}();o.default=n,cc._RF.pop()},{}],VibrateMgr:[function(t,e,o){"use strict";cc._RF.push(e,"d1fd08XFy1K54GbFPz7QBml","VibrateMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Util/AppPlatform"),r=function(){function t(){}return t.vibrateShort_baron=function(){t.isEnable_baron&&(n.default.is_TT_GAME_baron()?window.tt.vibrateShort():n.default.is_WECHAT_GAME_baron()?window.wx.vibrateShort():n.default.is_OPPO_GAME_baron()||n.default.is_VIVO_GAME_baron()?window.qg.vibrateShort():n.default.is_QQ_PLAY_baron()&&window.qq.vibrateShort())},t.vibrateLong_baron=function(){t.isEnable_baron&&(n.default.is_TT_GAME_baron()?window.tt.vibrateLong():n.default.is_WECHAT_GAME_baron()?window.wx.vibrateLong():n.default.is_OPPO_GAME_baron()||n.default.is_VIVO_GAME_baron()?window.qg.vibrateLong():n.default.is_QQ_PLAY_baron()&&window.qq.vibrateLong())},t.vibrate_baron=function(e){if(t.isEnable_baron){var o=0,r=e/15,a=null;a=function(e){setTimeout(function(){t.vibrateShort_baron(),++o<=r&&a(e)},e)},n.default.is_TT_GAME_baron()?(r=e/15,a(16)):n.default.is_WECHAT_GAME_baron()?(r=e/15,a(16)):n.default.is_OPPO_GAME_baron()?(r=e/20,a(21)):n.default.is_QQ_PLAY_baron()&&(r=e/20,a(21))}},t.isEnable_baron=!0,t}();o.default=r,cc._RF.pop()},{"../Util/AppPlatform":"AppPlatform"}],WXADMgr:[function(t,e,o){"use strict";cc._RF.push(e,"b2a5f3Hfg5DoZ0uXCSDeK5m","WXADMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.WXGridAd=o.WXBannderAd=void 0;var n=t("../Config/AppSwitchConfig"),r=t("../Util/AppPlatform"),a=t("../Util/DateUtils"),i=function(){function t(t){this._id_baron=null,this._banner_baron=null,this._createTime_baron=0,this._destroyed_baron=!1,this._error_baron=null,this._loading_baron=!1,this._retryCount_baron=0,this._bannerTotalShowTime_baron=0,this._lastShowTime_baron=0,this._id_baron=t}return Object.defineProperty(t.prototype,"Id_baron",{get:function(){return this._id_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CreateTime_baron",{get:function(){return this._createTime_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Destroyed_baron",{get:function(){return this._destroyed_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady_baron",{get:function(){return null!=this._banner_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isError_baron",{get:function(){return null!=this._error_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Error_baron",{get:function(){return this._error_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Loading_baron",{get:function(){return this._loading_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RetryCount_baron",{get:function(){return this._retryCount_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BannerTotalShowTime_baron",{get:function(){return this._bannerTotalShowTime_baron},enumerable:!1,configurable:!0}),t.prototype.show_baron=function(t,e){if(void 0===e&&(e=0),this.isReady_baron){this._banner_baron.hide();var o=window.wx.getSystemInfoSync(),n=o.screenWidth,r=o.screenHeight,i=this._banner_baron.style,s=i.realHeight,c=i.realWidth;s<130&&(s=130);var l=n/2-c/2,u=r-s+e;t&&(0==t?l=0:2==t&&(l=n-c)),this._banner_baron.style.left=l,this._banner_baron.style.top=u,this._lastShowTime_baron=a.DateUtils.getNowTime_baron(),this._banner_baron.show()}},t.prototype.hide_baron=function(){this.isReady_baron&&(this._banner_baron.hide(),this._bannerTotalShowTime_baron+=a.DateUtils.getNowTime_baron()-this._lastShowTime_baron)},t.prototype.destroy_baron=function(){this._destroyed_baron?console.log("BannerAd \u5df2\u7ecf\u88ab\u9500\u6bc1"):this._loading_baron?console.log("BannerAd \u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u65e0\u6cd5\u8fdb\u884c\u9500\u6bc1"):(null!=this._banner_baron&&this._banner_baron.destroy(),this._banner_baron=null,this._destroyed_baron=!0)},t.prototype.retry_baron=function(e){if(this._destroyed_baron)console.log("BannerAd \u5df2\u88ab\u9500\u6bc1\uff0c\u65e0\u6cd5\u91cd\u8bd5");else if(this.isReady_baron)console.log("BannerAd \u5df2\u521b\u5efa\u6210\u529f\uff0c\u65e0\u9700\u91cd\u8bd5");else if(this._loading_baron)console.log("BannerAd \u6b63\u5728\u521b\u5efa\u4e2d");else if(this._retryCount_baron>=t.MAX_RETRY_COUNT_baron)console.log("\u6b64 BannerAd \u91cd\u8bd5\u6b21\u6570\u5df2\u8fbe\u6700\u5927");else{var o=this;this._create_baron(function(t){null!=e&&e(t),++o._retryCount_baron})}},t.prototype._create_baron=function(t){if(r.default.is_WECHAT_GAME_baron()){var e=null;if(r.default.is_WECHAT_GAME_baron()?e=window.wx.createBannerAd({adUnitId:this._id_baron,adIntervals:30,style:{left:0,top:0,width:300}}):r.default.is_QQ_PLAY_baron()&&(e=window.qq.createBannerAd({adUnitId:this._id_baron,adIntervals:30,style:{left:0,top:0,width:300}})),null!=e){var o=this;this._loading_baron=!0,e.onLoad(function(n){console.log("BannderAd \u52a0\u8f7d\u5b8c\u6210",o._id_baron,n),o._banner_baron=e,o._createTime_baron=a.DateUtils.getNowTime_baron(),o._loading_baron=!1,null!=t&&t(!0)}),e.onError(function(n){console.log("BannderAd \u52a0\u8f7d\u5931\u8d25",o._id_baron,n),o._error_baron=n,o._loading_baron=!1,e.destroy(),null!=t&&t(!1)})}}else null!=t&&t(!1)},t.MAX_RETRY_COUNT_baron=3,t}();o.WXBannderAd=i;var s=function(){function t(t){this._id_baron=null,this._gridAd_baron=null,this._createTime_baron=0,this._destroyed_baron=!1,this._error_baron=null,this._loading_baron=!1,this._id_baron=t}return Object.defineProperty(t.prototype,"CreateTime_baron",{get:function(){return this._createTime_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Destroyed_baron",{get:function(){return this._destroyed_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReady_baron",{get:function(){return null!=this._gridAd_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isError_baron",{get:function(){return null!=this._error_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Error_baron",{get:function(){return this._error_baron},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Loading_baron",{get:function(){return this._loading_baron},enumerable:!1,configurable:!0}),t.prototype.show_baron=function(){this.isReady_baron&&this._gridAd_baron.show()},t.prototype.hide_baron=function(){this.isReady_baron&&this._gridAd_baron.hide()},t.prototype.destroy_baron=function(){this._destroyed_baron?console.log("GridAD \u5df2\u7ecf\u88ab\u9500\u6bc1"):this._loading_baron?console.log("GridAD \u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u65e0\u6cd5\u8fdb\u884c\u9500\u6bc1"):(null!=this._gridAd_baron&&this._gridAd_baron.destroy(),this._gridAd_baron=null,this._destroyed_baron=!0)},t.prototype.retry_baron=function(t){if(this._destroyed_baron)console.log("GridAD \u5df2\u88ab\u9500\u6bc1\uff0c\u65e0\u6cd5\u91cd\u8bd5");else if(this.isReady_baron)console.log("GridAD \u5df2\u521b\u5efa\u6210\u529f\uff0c\u65e0\u9700\u91cd\u8bd5");else if(this._loading_baron)console.log("GridAD \u6b63\u5728\u521b\u5efa\u4e2d");else{this._create_baron(function(e){null!=t&&t(e)})}},t.prototype._create_baron=function(t){if(r.default.is_WECHAT_GAME_baron()){var e=window.wx.createGridAd({adUnitId:this._id_baron,adIntervals:30,style:{left:0,top:0,width:300,height:150}});if(null!=e){var o=this;this._loading_baron=!0,e.onLoad(function(n){console.log("GridAD \u52a0\u8f7d\u5b8c\u6210",o._id_baron,n),o._gridAd_baron=e,o._createTime_baron=a.DateUtils.getNowTime_baron(),o._loading_baron=!1,null!=t&&t(!0)}),e.onError(function(n){console.log("GridAD \u52a0\u8f7d\u5931\u8d25",o._id_baron,n),o._error_baron=n,o._loading_baron=!1,e.destroy(),null!=t&&t(!1)})}}else null!=t&&t(!1)},t}();o.WXGridAd=s;var c=function(){function t(){}return t.init_baron=function(){if(!t._inited_baron){for(var e=n.default.getInstance_baron().getAppSwitchData_baron().wxWuDianBanners_baron,o=0;o<e.length;++o)t._bannerIds_baron.push(e[o]);for(o=0;o<t._bannerIds_baron.length;++o){t._bannerIds_baron[o];t._bannerIds_baron[o]=e[Math.floor(Math.random()*e.length)]}t._createBannerAd_baron();var r=1e3*n.default.getInstance_baron().getAppSwitchData_baron().bannerCreateFailNum_baron;setInterval(function(){t._checkBannerAd_baron(),t._createBannerAd_baron()},r),t._inited_baron=!0}},t.getBanner_baron=function(e){for(var o=[],n=[],r=0;r<t._banners_baron.length;++r){var a=t._banners_baron[r];a.Destroyed_baron||(a.isReady_baron?o.push(a):n.push(a))}t._curBannerGetIndex_baron>=o.length&&(t._curBannerGetIndex_baron=0);var i=o[t._curBannerGetIndex_baron];++t._curBannerGetIndex_baron,null!=i?e(i):(null==(i=t._createBannerAd_baron())&&(i=t._banners_baron[Math.floor(Math.random()*t._banners_baron.length)]),null==i?e(null):i.retry_baron(function(t){e(t?i:null)}))},t._createBannerAd_baron=function(){if(t._curBannerCreateIndex_baron>=t._bannerIds_baron.length)return null;var e=new i(t._bannerIds_baron[t._curBannerCreateIndex_baron]);return t._banners_baron.push(e),e.retry_baron(),++t._curBannerCreateIndex_baron,e},t._checkBannerAd_baron=function(){for(var e=[],o=[],r=0;r<t._banners_baron.length;++r){(a=t._banners_baron[r]).Destroyed_baron||(a.isReady_baron?e.push(a):o.push(a))}for(r=0;r<t._banners_baron.length;++r){var a=t._banners_baron[r],s=n.default.getInstance_baron().getAppSwitchData_baron().bannerShowTime_baron;a.isReady_baron?e.length>=2&&a.BannerTotalShowTime_baron>=1e3*s&&(console.log("BannerAd \u5c55\u793a\u65f6\u95f4\u8d85\u8fc7\u9650\u5236\uff0c\u9500\u6bc1 : ",a.Id_baron),a.destroy_baron()):a.RetryCount_baron>=i.MAX_RETRY_COUNT_baron?(console.log("BannerAd \u8d85\u8fc7\u91cd\u8bd5\u6b21\u6570\uff0c\u9500\u6bc1 : ",a.Id_baron),a.destroy_baron()):a.retry_baron()}},t.getBoxAd_baron=function(t){if(this._wxGridAd_baron.isReady_baron)t(this._wxGridAd_baron);else{var e=this._wxGridAd_baron;e.retry_baron(function(o){t(o?e:null)})}},t._createGirdAd_baron=function(){if(null==this._wxGridAd_baron){var t=new s("");t.retry_baron(),this._wxGridAd_baron=t}},t._inited_baron=!1,t._bannerIds_baron=new Array,t._banners_baron=new Array,t._curBannerCreateIndex_baron=0,t._curBannerGetIndex_baron=0,t._wxGridAd_baron=null,t}();o.default=c,cc._RF.pop()},{"../Config/AppSwitchConfig":"AppSwitchConfig","../Util/AppPlatform":"AppPlatform","../Util/DateUtils":"DateUtils"}],WXAPI:[function(t,e,o){"use strict";cc._RF.push(e,"bc8023CDWpHe7xTzNvqfFhi","WXAPI"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameRecorder=void 0;var n=t("../../Util/AppPlatform"),r=t("../../Mgr/WudianMgr"),a=t("../../Config/AppSwitchConfig"),i=t("../../Config/AppConfig"),s=t("../../../../Game/Script/utils/AdFrameWork"),c=function(){function t(){this._recorder_baron=null}return Object.defineProperty(t.prototype,"recorder_baron",{get:function(){return this._recorder_baron},enumerable:!1,configurable:!0}),t.prototype.start_baron=function(){null!=this.recorder_baron&&this.recorder_baron.start()},t.prototype.stop_baron=function(){null!=this.recorder_baron&&this.recorder_baron.stop()},t.prototype.pause_baron=function(){null!=this.recorder_baron&&this.recorder_baron.pause()},t.prototype.resume_baron=function(){null!=this.recorder_baron&&this.recorder_baron.resume()},t.prototype.abort_baron=function(){null!=this.recorder_baron&&this.recorder_baron.abort()},t.prototype.showShareBtn_baron=function(){if(null!=this.recorder_baron)window.wx.createGameRecorderShareButton({style:{left:10,top:150,height:50,color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,iconMarginRight:16,paddingLeft:1,paddingRight:30},image:"button.jpg",text:"\u81ea\u5b9a\u4e49\u6587\u6848",icon:"icon.jpg",share:{query:"a=1&b=2",bgm:"walkin.mp3",timeRange:[[0,1e3],[2e3,3e3]],title:{template:"default.score",data:{score:6500}},button:{template:"default.enter"}}})},t}();o.GameRecorder=c;var l=function(){function t(){}return t.wxLogin_baron=function(t,e){n.default.is_WECHAT_GAME_baron()&&window.wx.login({success:function(e){if(e.code){var o=e.code;console.log("\u767b\u9646\u6210\u529f,\u83b7\u53d6\u5230code : "+o),t(o)}}})},t.onRewardedVideoAdLoad_baron=function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")},t.onRewardedVideoAdError_baron=function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+e),t._onRewardedVideoAdFailed_baron&&t._onRewardedVideoAdFailed_baron()},t.onRewardedVideoAdClose_baron=function(e){e&&e.isEnded||null==e?(console.log("\u6fc0\u52b1\u89c6\u9891 \u5df2\u5b8c\u6574\u89c2\u770b"),t._onRewardedVideoAdClose_baron&&t._onRewardedVideoAdClose_baron(!0)):(console.log("\u6fc0\u52b1\u89c6\u9891 \u672a\u5b8c\u6574\u89c2\u770b"),t._onRewardedVideoAdClose_baron&&t._onRewardedVideoAdClose_baron(!1))},t.regRewardedVideoAdEvent_baron=function(e){e.onLoad(t.onRewardedVideoAdLoad_baron),e.onError(t.onRewardedVideoAdError_baron),e.onClose(t.onRewardedVideoAdClose_baron),t._isRegRewardedVideoAdEvent_baron=!0},t.showRewardedVideoAd_baron=function(e,o){if(n.default.is_WECHAT_GAME_baron()){t._onRewardedVideoAdClose_baron=e,t._onRewardedVideoAdFailed_baron=o;var r=window.wx.createRewardedVideoAd({adUnitId:s.default.getRandomVideoID()});t._isRegRewardedVideoAdEvent_baron||t.regRewardedVideoAdEvent_baron(r),r.load().then(function(){var t=r.show();t.then(function(){return console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f")}),t.catch(function(t){r.load().then(function(){return r.show()}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})})}).catch(function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")})}else e(!0)},t.navigateToMiniProgram_baron=function(t,e,o,r,a){n.default.is_WECHAT_GAME_baron()&&(console.log("\u8df3\u8f6c\u6e38\u620f\uff1a "+t),window.wx.navigateToMiniProgram({appId:t,path:e,extraData:{foo:"bar"},envVersion:"release",success:function(t){o&&o(t)},fail:function(t){r&&r(t)},complete:function(t){a&&a(t)}}))},t.share_baron=function(e,o,r){var a=this;n.default.is_WECHAT_GAME_baron()&&(t._onShow_baron=function(){window.wx.offShow(t._onShow_baron),t._onShow_baron=null;Date.now(),a._lastShareTime_baron;e&&(Date.now()-a._lastShareTime_baron>2e3?e(!0):e(!1))},window.wx.onShow(t._onShow_baron),this._lastShareTime_baron=Date.now(),window.wx.shareAppMessage({title:o,imageUrl:r}))},t.showInterstitialAd_baron=function(t,e){if(n.default.is_WECHAT_GAME_baron()){var o=window.wx.createInterstitialAd({adUnitId:i.default.InsAdUnitId_baron});o.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),o.show().catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 \uff1a"+t),e&&e()})}),o.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+t),e&&e()}),o.onClose(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),t&&t()})}else t()},t.getLaunchOptionsSync_baron=function(){if(n.default.is_WECHAT_GAME_baron()){var t=window.wx.getLaunchOptionsSync();console.log("\u573a\u666f\u503c "+t.scene);var e=JSON.stringify(t.query);console.log("Query\u53c2\u6570 "+e);var o=t.query.key;return console.log("Query\u53c2\u6570\uff1akey "+o),console.log("ShareTicket "+t.shareTicket),console.log("ReferrerInfo.appId "+t.referrerInfo.appId),console.log("ReferrerInfo.extraData "+t.referrerInfo.extraData),t}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}},t.SetShareMenu_baron=function(t,e,o,r,a){n.default.is_WECHAT_GAME_baron()&&(console.log("\u5c0f\u6e38\u620f\u8bbe\u7f6e\u8f6c\u53d1\u6309\u94ae"),window.wx.showShareMenu({withShareTicket:!1,success:o,fail:r,complete:a}),window.wx.onShareAppMessage(function(){return{title:t,imageUrl:e}}))},t.checkUpdate_baron=function(){if(n.default.is_WECHAT_GAME_baron()){var t=window.wx.getUpdateManager();t.onCheckForUpdate(function(t){console.log("\u662f\u5426\u9700\u8981\u66f4\u65b0 : ",t.hasUpdate)}),t.onUpdateReady(function(){window.wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25!!!")})}},t.tryShowWXCrazyClick_baron=function(){if(!r.default.wudianFlag_baron||1!=a.default.getInstance_baron().getAppSwitchData_baron().wxcfg_baron.kuangdianBanner_baron)return!1;var e=a.default.getInstance_baron().getAppSwitchData_baron().wxcfg_baron.kuangdianLevelSpcacing_baron;return 0==e||0==t._crazyClickShowCounter_baron%e},t.GameRecorder_baron=new c,t._isRegRewardedVideoAdEvent_baron=!1,t._onRewardedVideoAdFailed_baron=null,t._onRewardedVideoAdClose_baron=null,t._onShow_baron=null,t._lastShareTime_baron=0,t._crazyClickShowCounter_baron=0,t}();o.default=l,cc._RF.pop()},{"../../../../Game/Script/utils/AdFrameWork":"AdFrameWork","../../Config/AppConfig":"AppConfig","../../Config/AppSwitchConfig":"AppSwitchConfig","../../Mgr/WudianMgr":"WudianMgr","../../Util/AppPlatform":"AppPlatform"}],WudianMgr:[function(t,e,o){"use strict";cc._RF.push(e,"84175hHWFRDVLEderLL8jc9","WudianMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Config/AppSwitchConfig"),r=t("../Util/AppPlatform"),a=t("../Platform/WX/WXAPI"),i=function(){function t(){}return t.baron_IpBlockFlag_baron=function(){return t.ipBlockFlag_baron},t.baron_UpdateIpBlockState_baron=function(){},t.baron_GetIpBlocked_baron=function(){return 0==t.ipBlockFlag_baron},t.baron_GetEntryScene_baron=function(){return 1006==a.default.getLaunchOptionsSync_baron().scene},t.baron_IsSwitchOpen_baron=function(){var t=1==n.default.getInstance_baron().getAppSwitchData_baron().wudian_baron,e=n.default.getInstance_baron().getAppSwitchData_baron().wudianTimeAvaliable_baron;return console.log("\u8bef\u70b9Flag\u72b6\u6001: ","\u603b\u5f00\u5173:",t,"\u6253\u5f00\u65f6\u95f4",e),t&&e},Object.defineProperty(t,"wudianFlag_baron",{get:function(){for(var t=1==n.default.getInstance_baron().getAppSwitchData_baron().wudian_baron,e=n.default.getInstance_baron().getAppSwitchData_baron().wudianTimeAvaliable_baron,o=0==this.ipBlockFlag_baron,r=!0,a=n.default.getInstance_baron().getAppSwitchData_baron().wudianSceneList_baron,i=0;i<a.length;++i){null==a[i]&&(r=!1)}return console.log("\u8bef\u70b9Flag\u72b6\u6001: ","\u603b\u5f00\u5173:",t,"\u573a\u666f\u8fdb\u5165",r,"IP\u672a\u88ab\u5c4f\u853d",o,"\u6253\u5f00\u65f6\u95f4",e),t&&r&&o&&e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoTimeWudianFlag_baron",{get:function(){var e=1==n.default.getInstance_baron().getAppSwitchData_baron().wudian_baron,o=null;r.default.is_WECHAT_GAME_baron()&&(o=a.default.getLaunchOptionsSync_baron().scene);for(var i=!0,s=n.default.getInstance_baron().getAppSwitchData_baron().wudianSceneList_baron,c=0;c<s.length;++c){o==s[c]&&(i=!1)}var l=0==t.ipBlockFlag_baron;return console.log("\u8bef\u70b9Flag\u72b6\u6001: ","\u603b\u5f00\u5173:",e,"\u573a\u666f\u8fdb\u5165",i,"IP\u672a\u88ab\u5c4f\u853d"),e&&i&&l},enumerable:!1,configurable:!0}),t.ipBlockFlag_baron=-1,t}();o.default=i,cc._RF.pop()},{"../Config/AppSwitchConfig":"AppSwitchConfig","../Platform/WX/WXAPI":"WXAPI","../Util/AppPlatform":"AppPlatform"}]},{},["FMViewBase","FMViewWudianMoveBlinkBase","FMButton","FMItemLayout","FMScrollViewLoop","FMTouchMaskView","AppConfig","AppSwitchConfig","EventEnum","EventMgr","FMInterface","Main","BundleMgr","GameMgr","RemoteMgr","SoundMgr","StorageMgr","TimerUtils","VibrateMgr","WXADMgr","WudianMgr","ALD","CachedWXBannerAd","WXAPI","User","AppPlatform","Common","DateUtils","LogUtils","Utilit","LoadingView","Camera","CameraGhost","Constants","CustomUser","Game","GhostNode","ArmorConfig","ConfigMgr","GlobalConfig","HeroConfig","LevelConfig","StrengthConfig","AnimConfig","Character","CharacterActCollider","CharacterActionState","CharacterAnimtor","CharacterShapeCollider","EnergyBall","HeroProperty","Property","AIBase","AIMiddle","AINormal","ChongJiBo","Darts","JiaTeLin","SuperShield","Throwing","SuperSkill0","SuperSkill1","SuperSkill2","SuperSkill3","SuperSkill4","SuperSkill5","SuperSkill6","SuperSkill7","SuperSkillBase","GameEndUI","GameUI","GuidingLayer","LobbyScene","Toast","TransitionScene","CrazyView","ExDialogView","ExPageIndicator","ExScrollView","HeroMask","Hud","Progress","ListView","Joystick","JoystickEnum","ArmorDialogView","ArmorItem","GoldGetDialogView","GoldItem","LevelPageView","LevelSelectView","RoleScrollView","RoleSelectView","ShopItem","ShopView","TreasureBoxView","UnlockDialogView","UnlockItem","AdFrameWork","EventCenter","FMSkeletonExtend","KeyboardCenter","ResCenter","SoundsManager","ActionState","State","StateMachine","StateTransition","Utils","HttpTools"]);